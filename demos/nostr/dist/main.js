var Sf=Object.defineProperty;var kf=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(kf(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $f(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Cf=()=>{},Af=Object.prototype.hasOwnProperty,Ws=(e,t)=>Af.call(e,t),sn=Array.isArray,Vs=e=>wl(e)==="[object Map]",If=e=>typeof e=="function",Pf=e=>typeof e=="string",cr=e=>typeof e=="symbol",ur=e=>e!==null&&typeof e=="object",Tf=Object.prototype.toString,wl=e=>Tf.call(e),Bf=e=>wl(e).slice(8,-1),Jo=e=>Pf(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yn=(e,t)=>!Object.is(e,t),Nf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class ml{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function bl(e){return new ml(e)}function Lf(e,t=rt){t&&t.active&&t.effects.push(e)}function El(){return rt}function Of(e){rt&&rt.cleanups.push(e)}let En;class Yo{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Lf(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$n();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Uf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Cn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=rn,n=En;try{return rn=!0,En=this,this._runnings++,zi(this),this.fn()}finally{Wi(this),this._runnings--,En=n,rn=t}}stop(){var t;this.active&&(zi(this),Wi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Uf(e){return e.value}function zi(e){e._trackId++,e._depsLength=0}function Wi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)xl(e.deps[t],e);e.deps.length=e._depsLength}}function xl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let rn=!0,_o=0;const Rl=[];function $n(){Rl.push(rn),rn=!1}function Cn(){const e=Rl.pop();rn=e===void 0?!0:e}function Qo(){_o++}function Xo(){for(_o--;!_o&&wo.length;)wo.shift()()}function Sl(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&xl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const wo=[];function kl(e,t,n){Qo();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&wo.push(s.scheduler)))}Xo()}const $l=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Gs=new WeakMap,xn=Symbol(""),mo=Symbol("");function tt(e,t,n){if(rn&&En){let s=Gs.get(e);s||Gs.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=$l(()=>s.delete(n))),Sl(En,r)}}function Ut(e,t,n,s,r,o){const i=Gs.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&sn(e)){const l=Number(s);i.forEach((c,u)=>{(u==="length"||!cr(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":sn(e)?Jo(n)&&a.push(i.get("length")):(a.push(i.get(xn)),Vs(e)&&a.push(i.get(mo)));break;case"delete":sn(e)||(a.push(i.get(xn)),Vs(e)&&a.push(i.get(mo)));break;case"set":Vs(e)&&a.push(i.get(xn));break}Qo();for(const l of a)l&&kl(l,4);Xo()}function Mf(e,t){var n;return(n=Gs.get(e))==null?void 0:n.get(t)}const Hf=$f("__proto__,__v_isRef,__isVue"),Cl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(cr)),Gi=jf();function jf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let o=0,i=this.length;o<i;o++)tt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$n(),Qo();const s=be(this)[t].apply(this,n);return Xo(),Cn(),s}}),e}function Vf(e){const t=be(this);return tt(t,"has",e),t.hasOwnProperty(e)}class Al{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?ed:Bl:o?Tl:Pl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=sn(t);if(!r){if(i&&Ws(Gi,n))return Reflect.get(Gi,n,s);if(n==="hasOwnProperty")return Vf}const a=Reflect.get(t,n,s);return(cr(n)?Cl.has(n):Hf(n))||(r||tt(t,"get",n),o)?a:He(a)?i&&Jo(n)?a:a.value:ur(a)?r?Ll(a):Qn(a):a}}class Il extends Al{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const l=Dn(o);if(!Zs(s)&&!Dn(s)&&(o=be(o),s=be(s)),!sn(t)&&He(o)&&!He(s))return l?!1:(o.value=s,!0)}const i=sn(t)&&Jo(n)?Number(n)<t.length:Ws(t,n),a=Reflect.set(t,n,s,r);return t===be(r)&&(i?Yn(s,o)&&Ut(t,"set",n,s):Ut(t,"add",n,s)),a}deleteProperty(t,n){const s=Ws(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ut(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!cr(n)||!Cl.has(n))&&tt(t,"has",n),s}ownKeys(t){return tt(t,"iterate",sn(t)?"length":xn),Reflect.ownKeys(t)}}class Ff extends Al{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Df=new Il,qf=new Ff,Kf=new Il(!0),ei=e=>e,fr=e=>Reflect.getPrototypeOf(e);function Bs(e,t,n=!1,s=!1){e=e.__v_raw;const r=be(e),o=be(t);n||(Yn(t,o)&&tt(r,"get",t),tt(r,"get",o));const{has:i}=fr(r),a=s?ei:n?si:gs;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Ns(e,t=!1){const n=this.__v_raw,s=be(n),r=be(e);return t||(Yn(e,r)&&tt(s,"has",e),tt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Ls(e,t=!1){return e=e.__v_raw,!t&&tt(be(e),"iterate",xn),Reflect.get(e,"size",e)}function Zi(e){e=be(e);const t=be(this);return fr(t).has.call(t,e)||(t.add(e),Ut(t,"add",e,e)),this}function Ji(e,t){t=be(t);const n=be(this),{has:s,get:r}=fr(n);let o=s.call(n,e);o||(e=be(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?Yn(t,i)&&Ut(n,"set",e,t):Ut(n,"add",e,t),this}function Yi(e){const t=be(this),{has:n,get:s}=fr(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ut(t,"delete",e,void 0),o}function Qi(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Ut(e,"clear",void 0,void 0),n}function Os(e,t){return function(s,r){const o=this,i=o.__v_raw,a=be(i),l=t?ei:e?si:gs;return!e&&tt(a,"iterate",xn),i.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function Us(e,t,n){return function(...s){const r=this.__v_raw,o=be(r),i=Vs(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),u=n?ei:t?si:gs;return!t&&tt(o,"iterate",l?mo:xn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Kt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function zf(){const e={get(o){return Bs(this,o)},get size(){return Ls(this)},has:Ns,add:Zi,set:Ji,delete:Yi,clear:Qi,forEach:Os(!1,!1)},t={get(o){return Bs(this,o,!1,!0)},get size(){return Ls(this)},has:Ns,add:Zi,set:Ji,delete:Yi,clear:Qi,forEach:Os(!1,!0)},n={get(o){return Bs(this,o,!0)},get size(){return Ls(this,!0)},has(o){return Ns.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Os(!0,!1)},s={get(o){return Bs(this,o,!0,!0)},get size(){return Ls(this,!0)},has(o){return Ns.call(this,o,!0)},add:Kt("add"),set:Kt("set"),delete:Kt("delete"),clear:Kt("clear"),forEach:Os(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Us(o,!1,!1),n[o]=Us(o,!0,!1),t[o]=Us(o,!1,!0),s[o]=Us(o,!0,!0)}),[e,n,t,s]}const[Wf,Gf,Zf,Jf]=zf();function ti(e,t){const n=t?e?Jf:Zf:e?Gf:Wf;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(Ws(n,r)&&r in s?n:s,r,o)}const Yf={get:ti(!1,!1)},Qf={get:ti(!1,!0)},Xf={get:ti(!0,!1)},Pl=new WeakMap,Tl=new WeakMap,Bl=new WeakMap,ed=new WeakMap;function td(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function nd(e){return e.__v_skip||!Object.isExtensible(e)?0:td(Bf(e))}function Qn(e){return Dn(e)?e:ni(e,!1,Df,Yf,Pl)}function Nl(e){return ni(e,!1,Kf,Qf,Tl)}function Ll(e){return ni(e,!0,qf,Xf,Bl)}function ni(e,t,n,s,r){if(!ur(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=nd(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function on(e){return Dn(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Dn(e){return!!(e&&e.__v_isReadonly)}function Zs(e){return!!(e&&e.__v_isShallow)}function Ol(e){return on(e)||Dn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function dr(e){return Object.isExtensible(e)&&Nf(e,"__v_skip",!0),e}const gs=e=>ur(e)?Qn(e):e,si=e=>ur(e)?Ll(e):e;class Ul{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yo(()=>t(this._value),()=>Fs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&Yn(t._value,t._value=t.effect.run())&&Fs(t,4),Ml(t),t.effect._dirtyLevel>=2&&Fs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function sd(e,t,n=!1){let s,r;const o=If(e);return o?(s=e,r=Cf):(s=e.get,r=e.set),new Ul(s,r,o||!r,n)}function Ml(e){var t;rn&&En&&(e=be(e),Sl(En,(t=e.dep)!=null?t:e.dep=$l(()=>e.dep=void 0,e instanceof Ul?e:void 0)))}function Fs(e,t=4,n){e=be(e);const s=e.dep;s&&kl(s,t)}function He(e){return!!(e&&e.__v_isRef===!0)}function F(e){return Hl(e,!1)}function rd(e){return Hl(e,!0)}function Hl(e,t){return He(e)?e:new od(e,t)}class od{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:gs(t)}get value(){return Ml(this),this._value}set value(t){const n=this.__v_isShallow||Zs(t)||Dn(t);t=n?t:be(t),Yn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:gs(t),Fs(this,4))}}function ue(e){return He(e)?e.value:e}const id={get:(e,t,n)=>ue(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function jl(e){return on(e)?e:new Proxy(e,id)}function ad(e){const t=sn(e)?new Array(e.length):{};for(const n in e)t[n]=cd(e,n);return t}class ld{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Mf(be(this._object),this._key)}}function cd(e,t,n){const s=e[t];return He(s)?s:new ld(e,t,n)}/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ud(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Ae={},Un=[],at=()=>{},fd=()=>!1,ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vl=e=>e.startsWith("onUpdate:"),Ze=Object.assign,oi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},dd=Object.prototype.hasOwnProperty,Se=(e,t)=>dd.call(e,t),me=Array.isArray,Fl=e=>ii(e)==="[object Map]",Dl=e=>ii(e)==="[object Set]",_e=e=>typeof e=="function",nt=e=>typeof e=="string",ql=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",Kl=e=>(Oe(e)||_e(e))&&_e(e.then)&&_e(e.catch),zl=Object.prototype.toString,ii=e=>zl.call(e),Wl=e=>ii(e)==="[object Object]",as=ud(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hd=/-(\w)/g,Rt=hr(e=>e.replace(hd,(t,n)=>n?n.toUpperCase():"")),pd=/\B([A-Z])/g,pr=hr(e=>e.replace(pd,"-$1").toLowerCase()),ai=hr(e=>e.charAt(0).toUpperCase()+e.slice(1)),zr=hr(e=>e?`on${ai(e)}`:""),Xi=(e,t)=>!Object.is(e,t),Wr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},bo=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},gd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ea;const Gl=()=>ea||(ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=nt(s)?wd(s):li(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(nt(e)||Oe(e))return e}const yd=/;(?![^(]*\))/g,vd=/:([^]+)/,_d=/\/\*[^]*?\*\//g;function wd(e){const t={};return e.replace(_d,"").split(yd).forEach(n=>{if(n){const s=n.split(vd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(nt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const le=e=>nt(e)?e:e==null?"":me(e)||Oe(e)&&(e.toString===zl||!_e(e.toString))?JSON.stringify(e,Zl,2):String(e),Zl=(e,t)=>t&&t.__v_isRef?Zl(e,t.value):Fl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Gr(s,o)+" =>"]=r,n),{})}:Dl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Gr(n))}:ql(t)?Gr(t):Oe(t)&&!me(t)&&!Wl(t)?String(t):t,Gr=(e,t="")=>{var n;return ql(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function an(e,t,n,s){try{return s?e(...s):e()}catch(r){gr(r,t,n)}}function dt(e,t,n,s){if(_e(e)){const o=an(e,t,n,s);return o&&Kl(o)&&o.catch(i=>{gr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(dt(e[o],t,n,s));return r}function gr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){an(l,null,10,[e,i,a]);return}}md(e,n,r,s)}function md(e,t,n,s=!0){console.error(e)}let ys=!1,Eo=!1;const We=[];let bt=0;const Mn=[];let Qt=null,vn=0;const Jl=Promise.resolve();let ci=null;function ui(e){const t=ci||Jl;return e?t.then(this?e.bind(this):e):t}function bd(e){let t=bt+1,n=We.length;for(;t<n;){const s=t+n>>>1,r=We[s],o=vs(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function fi(e){(!We.length||!We.includes(e,ys&&e.allowRecurse?bt+1:bt))&&(e.id==null?We.push(e):We.splice(bd(e.id),0,e),Yl())}function Yl(){!ys&&!Eo&&(Eo=!0,ci=Jl.then(Xl))}function Ed(e){const t=We.indexOf(e);t>bt&&We.splice(t,1)}function xd(e){me(e)?Mn.push(...e):(!Qt||!Qt.includes(e,e.allowRecurse?vn+1:vn))&&Mn.push(e),Yl()}function ta(e,t,n=ys?bt+1:0){for(;n<We.length;n++){const s=We[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;We.splice(n,1),n--,s()}}}function Ql(e){if(Mn.length){const t=[...new Set(Mn)].sort((n,s)=>vs(n)-vs(s));if(Mn.length=0,Qt){Qt.push(...t);return}for(Qt=t,vn=0;vn<Qt.length;vn++)Qt[vn]();Qt=null,vn=0}}const vs=e=>e.id==null?1/0:e.id,Rd=(e,t)=>{const n=vs(e)-vs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Xl(e){Eo=!1,ys=!0,We.sort(Rd);const t=at;try{for(bt=0;bt<We.length;bt++){const n=We[bt];n&&n.active!==!1&&an(n,null,14)}}finally{bt=0,We.length=0,Ql(),ys=!1,ci=null,(We.length||Mn.length)&&Xl()}}function Sd(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ae;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Ae;d&&(r=n.map(h=>nt(h)?h.trim():h)),f&&(r=n.map(gd))}let a,l=s[a=zr(t)]||s[a=zr(Rt(t))];!l&&o&&(l=s[a=zr(pr(t))]),l&&dt(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(c,e,6,r)}}function ec(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!_e(e)){const l=c=>{const u=ec(c,t,!0);u&&(a=!0,Ze(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Oe(e)&&s.set(e,null),null):(me(o)?o.forEach(l=>i[l]=null):Ze(i,o),Oe(e)&&s.set(e,i),i)}function yr(e,t){return!e||!ri(t)?!1:(t=t.slice(2).replace(/Once$/,""),Se(e,t[0].toLowerCase()+t.slice(1))||Se(e,pr(t))||Se(e,t))}let Me=null,vr=null;function Js(e){const t=Me;return Me=e,vr=e&&e.type.__scopeId||null,t}function $t(e){vr=e}function Ct(){vr=null}function Ye(e,t=Me,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&da(-1);const o=Js(t);let i;try{i=e(...r)}finally{Js(o),s._d&&da(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Zr(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:w,inheritAttrs:y}=e;let v,m;const b=Js(e);try{if(n.shapeFlag&4){const $=r||s,N=$;v=mt(u.call(N,$,f,o,h,d,w)),m=l}else{const $=t;v=mt($.length>1?$(o,{attrs:l,slots:a,emit:c}):$(o,null)),m=t.props?l:kd(l)}}catch($){us.length=0,gr($,e,1),v=ye(cn)}let E=v;if(m&&y!==!1){const $=Object.keys(m),{shapeFlag:N}=E;$.length&&N&7&&(i&&$.some(Vl)&&(m=$d(m,i)),E=qn(E,m))}return n.dirs&&(E=qn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),v=E,Js(b),v}const kd=e=>{let t;for(const n in e)(n==="class"||n==="style"||ri(n))&&((t||(t={}))[n]=e[n]);return t},$d=(e,t)=>{const n={};for(const s in e)(!Vl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Cd(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?na(s,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!yr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?na(s,i,c):!0:!!i;return!1}function na(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!yr(n,o))return!0}return!1}function Ad({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const tc="components";function _s(e,t){return Pd(tc,e,!0,t)||e}const Id=Symbol.for("v-ndc");function Pd(e,t,n=!0,s=!1){const r=Me||Ke;if(r){const o=r.type;if(e===tc){const a=Rh(o,!1);if(a&&(a===t||a===Rt(t)||a===ai(Rt(t))))return o}const i=sa(r[e]||o[e],t)||sa(r.appContext[e],t);return!i&&s?o:i}}function sa(e,t){return e&&(e[t]||e[Rt(t)]||e[ai(Rt(t))])}const Td=e=>e.__isSuspense;function Bd(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):xd(e)}const Nd=Symbol.for("v-scx"),Ld=()=>lt(Nd);function Od(e,t){return di(e,null,t)}const Ms={};function Mt(e,t,n){return di(e,t,n)}function di(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Ae){if(t&&o){const k=t;t=(...V)=>{k(...V),N()}}const l=Ke,c=k=>s===!0?k:mn(k,s===!1?1:void 0);let u,f=!1,d=!1;if(He(e)?(u=()=>e.value,f=Zs(e)):on(e)?(u=()=>c(e),f=!0):me(e)?(d=!0,f=e.some(k=>on(k)||Zs(k)),u=()=>e.map(k=>{if(He(k))return k.value;if(on(k))return c(k);if(_e(k))return an(k,l,2)})):_e(e)?t?u=()=>an(e,l,2):u=()=>(h&&h(),dt(e,l,3,[w])):u=at,t&&s){const k=u;u=()=>mn(k())}let h,w=k=>{h=E.onStop=()=>{an(k,l,4),h=E.onStop=void 0}},y;if(br)if(w=at,t?n&&dt(t,l,3,[u(),d?[]:void 0,w]):u(),r==="sync"){const k=Ld();y=k.__watcherHandles||(k.__watcherHandles=[])}else return at;let v=d?new Array(e.length).fill(Ms):Ms;const m=()=>{if(!(!E.active||!E.dirty))if(t){const k=E.run();(s||f||(d?k.some((V,j)=>Xi(V,v[j])):Xi(k,v)))&&(h&&h(),dt(t,l,3,[k,v===Ms?void 0:d&&v[0]===Ms?[]:v,w]),v=k)}else E.run()};m.allowRecurse=!!t;let b;r==="sync"?b=m:r==="post"?b=()=>Qe(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),b=()=>fi(m));const E=new Yo(u,at,b),$=El(),N=()=>{E.stop(),$&&oi($.effects,E)};return t?n?m():v=E.run():r==="post"?Qe(E.run.bind(E),l&&l.suspense):E.run(),y&&y.push(N),N}function Ud(e,t,n){const s=this.proxy,r=nt(e)?e.includes(".")?nc(s,e):()=>s[e]:e.bind(s,s);let o;_e(t)?o=t:(o=t.handler,n=t);const i=Ss(this),a=di(r,o.bind(s),n);return i(),a}function nc(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function mn(e,t,n=0,s){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),He(e))mn(e.value,t,n,s);else if(me(e))for(let r=0;r<e.length;r++)mn(e[r],t,n,s);else if(Dl(e)||Fl(e))e.forEach(r=>{mn(r,t,n,s)});else if(Wl(e))for(const r in e)mn(e[r],t,n,s);return e}function Hn(e,t){if(Me===null)return e;const n=Er(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Ae]=t[r];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&mn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function hn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&($n(),dt(l,n,8,[e.el,a,e,t]),Cn())}}/*! #__NO_SIDE_EFFECTS__ */function Ue(e,t){return _e(e)?(()=>Ze({name:e.name},t,{setup:e}))():e}const ls=e=>!!e.type.__asyncLoader,sc=e=>e.type.__isKeepAlive;function Md(e,t){rc(e,"a",t)}function Hd(e,t){rc(e,"da",t)}function rc(e,t,n=Ke){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(_r(t,s,n),n){let r=n.parent;for(;r&&r.parent;)sc(r.parent.vnode)&&jd(s,t,n,r),r=r.parent}}function jd(e,t,n,s){const r=_r(t,e,s,!0);ic(()=>{oi(s[t],r)},n)}function _r(e,t,n=Ke,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;$n();const a=Ss(n),l=dt(t,n,e,i);return a(),Cn(),l});return s?r.unshift(o):r.push(o),o}}const Vt=e=>(t,n=Ke)=>(!br||e==="sp")&&_r(e,(...s)=>t(...s),n),oc=Vt("bm"),At=Vt("m"),hi=Vt("bu"),Vd=Vt("u"),Fd=Vt("bum"),ic=Vt("um"),Dd=Vt("sp"),qd=Vt("rtg"),Kd=Vt("rtc");function zd(e,t=Ke){_r("ec",e,t)}function ct(e,t,n,s){let r;const o=n&&n[s];if(me(e)||nt(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Oe(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o&&o[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];r[a]=t(e[c],c,a,o&&o[a])}}else r=[];return n&&(n[s]=r),r}function Wd(e,t,n={},s,r){if(Me.isCE||Me.parent&&ls(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),C();const i=o&&ac(o(n)),a=Be(xe,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function ac(e){return e.some(t=>Qs(t)?!(t.type===cn||t.type===xe&&!ac(t.children)):!0)?e:null}const xo=e=>e?wc(e)?Er(e)||e.proxy:xo(e.parent):null,cs=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xo(e.parent),$root:e=>xo(e.root),$emit:e=>e.emit,$options:e=>pi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,fi(e.update)}),$nextTick:e=>e.n||(e.n=ui.bind(e.proxy)),$watch:e=>Ud.bind(e)}),Jr=(e,t)=>e!==Ae&&!e.__isScriptSetup&&Se(e,t),Gd={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Jr(s,t))return i[t]=1,s[t];if(r!==Ae&&Se(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&Se(c,t))return i[t]=3,o[t];if(n!==Ae&&Se(n,t))return i[t]=4,n[t];Ro&&(i[t]=0)}}const u=cs[t];let f,d;if(u)return t==="$attrs"&&tt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Ae&&Se(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,Se(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Jr(r,t)?(r[t]=n,!0):s!==Ae&&Se(s,t)?(s[t]=n,!0):Se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Ae&&Se(e,i)||Jr(t,i)||(a=o[0])&&Se(a,i)||Se(s,i)||Se(cs,i)||Se(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Se(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ra(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ro=!0;function Zd(e){const t=pi(e),n=e.proxy,s=e.ctx;Ro=!1,t.beforeCreate&&oa(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:w,activated:y,deactivated:v,beforeDestroy:m,beforeUnmount:b,destroyed:E,unmounted:$,render:N,renderTracked:k,renderTriggered:V,errorCaptured:j,serverPrefetch:W,expose:Z,inheritAttrs:te,components:M,directives:Q,filters:D}=t;if(c&&Jd(c,s,null),i)for(const I in i){const T=i[I];_e(T)&&(s[I]=T.bind(n))}if(r){const I=r.call(n,n);Oe(I)&&(e.data=Qn(I))}if(Ro=!0,o)for(const I in o){const T=o[I],q=_e(T)?T.bind(n,n):_e(T.get)?T.get.bind(n,n):at,X=!_e(T)&&_e(T.set)?T.set.bind(n):at,ie=Pe({get:q,set:X});Object.defineProperty(s,I,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ee=>ie.value=ee})}if(a)for(const I in a)lc(a[I],s,n,I);if(l){const I=_e(l)?l.call(n):l;Reflect.ownKeys(I).forEach(T=>{Ds(T,I[T])})}u&&oa(u,e,"c");function P(I,T){me(T)?T.forEach(q=>I(q.bind(n))):T&&I(T.bind(n))}if(P(oc,f),P(At,d),P(hi,h),P(Vd,w),P(Md,y),P(Hd,v),P(zd,j),P(Kd,k),P(qd,V),P(Fd,b),P(ic,$),P(Dd,W),me(Z))if(Z.length){const I=e.exposed||(e.exposed={});Z.forEach(T=>{Object.defineProperty(I,T,{get:()=>n[T],set:q=>n[T]=q})})}else e.exposed||(e.exposed={});N&&e.render===at&&(e.render=N),te!=null&&(e.inheritAttrs=te),M&&(e.components=M),Q&&(e.directives=Q)}function Jd(e,t,n=at){me(e)&&(e=So(e));for(const s in e){const r=e[s];let o;Oe(r)?"default"in r?o=lt(r.from||s,r.default,!0):o=lt(r.from||s):o=lt(r),He(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function oa(e,t,n){dt(me(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function lc(e,t,n,s){const r=s.includes(".")?nc(n,s):()=>n[s];if(nt(e)){const o=t[e];_e(o)&&Mt(r,o)}else if(_e(e))Mt(r,e.bind(n));else if(Oe(e))if(me(e))e.forEach(o=>lc(o,t,n,s));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&Mt(r,o,e)}}function pi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>Ys(l,c,i,!0)),Ys(l,t,i)),Oe(t)&&o.set(t,l),l}function Ys(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Ys(e,o,n,!0),r&&r.forEach(i=>Ys(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Yd[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Yd={data:ia,props:aa,emits:aa,methods:is,computed:is,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:is,directives:is,watch:Xd,provide:ia,inject:Qd};function ia(e,t){return t?e?function(){return Ze(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function Qd(e,t){return is(So(e),So(t))}function So(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function is(e,t){return e?Ze(Object.create(null),e,t):t}function aa(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Ze(Object.create(null),ra(e),ra(t??{})):t}function Xd(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const s in t)n[s]=Je(e[s],t[s]);return n}function cc(){return{app:null,config:{isNativeTag:fd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eh=0;function th(e,t){return function(s,r=null){_e(s)||(s=Ze({},s)),r!=null&&!Oe(r)&&(r=null);const o=cc(),i=new WeakSet;let a=!1;const l=o.app={_uid:eh++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:kh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(l,...u)):_e(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const d=ye(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Er(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=jn;jn=l;try{return c()}finally{jn=u}}};return l}}let jn=null;function Ds(e,t){if(Ke){let n=Ke.provides;const s=Ke.parent&&Ke.parent.provides;s===n&&(n=Ke.provides=Object.create(s)),n[e]=t}}function lt(e,t,n=!1){const s=Ke||Me;if(s||jn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:jn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function nh(){return!!(Ke||Me||jn)}function sh(e,t,n,s=!1){const r={},o={};bo(o,mr,1),e.propsDefaults=Object.create(null),uc(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Nl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function rh(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=be(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(yr(e.emitsOptions,d))continue;const h=t[d];if(l)if(Se(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const w=Rt(d);r[w]=ko(l,a,w,h,e,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{uc(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!Se(t,f)&&((u=pr(f))===f||!Se(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=ko(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!Se(t,f))&&(delete o[f],c=!0)}c&&Ut(e,"set","$attrs")}function uc(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(as(l))continue;const c=t[l];let u;r&&Se(r,u=Rt(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:yr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=be(n),c=a||Ae;for(let u=0;u<o.length;u++){const f=o[u];n[f]=ko(r,l,f,c[f],e,!Se(c,f))}}return i}function ko(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=Se(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Ss(r);s=c[n]=l.call(null,t),u()}}else s=l}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===pr(n))&&(s=!0))}return s}function fc(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!_e(e)){const u=f=>{l=!0;const[d,h]=fc(f,t,!0);Ze(i,d),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Oe(e)&&s.set(e,Un),Un;if(me(o))for(let u=0;u<o.length;u++){const f=Rt(o[u]);la(f)&&(i[f]=Ae)}else if(o)for(const u in o){const f=Rt(u);if(la(f)){const d=o[u],h=i[f]=me(d)||_e(d)?{type:d}:Ze({},d);if(h){const w=fa(Boolean,h.type),y=fa(String,h.type);h[0]=w>-1,h[1]=y<0||w<y,(w>-1||Se(h,"default"))&&a.push(f)}}}const c=[i,a];return Oe(e)&&s.set(e,c),c}function la(e){return e[0]!=="$"&&!as(e)}function ca(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function ua(e,t){return ca(e)===ca(t)}function fa(e,t){return me(t)?t.findIndex(n=>ua(n,e)):_e(t)&&ua(t,e)?0:-1}const dc=e=>e[0]==="_"||e==="$stable",gi=e=>me(e)?e.map(mt):[mt(e)],oh=(e,t,n)=>{if(t._n)return t;const s=Ye((...r)=>gi(t(...r)),n);return s._c=!1,s},hc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(dc(r))continue;const o=e[r];if(_e(o))t[r]=oh(r,o,s);else if(o!=null){const i=gi(o);t[r]=()=>i}}},pc=(e,t)=>{const n=gi(t);e.slots.default=()=>n},ih=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),bo(t,"_",n)):hc(t,e.slots={})}else e.slots={},t&&pc(e,t);bo(e.slots,mr,1)},ah=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ae;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Ze(r,t),!n&&a===1&&delete r._):(o=!t.$stable,hc(t,r)),i=t}else t&&(pc(e,t),i={default:1});if(o)for(const a in r)!dc(a)&&i[a]==null&&delete r[a]};function $o(e,t,n,s,r=!1){if(me(e)){e.forEach((d,h)=>$o(d,t&&(me(t)?t[h]:t),n,s,r));return}if(ls(s)&&!r)return;const o=s.shapeFlag&4?Er(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ae?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(nt(c)?(u[c]=null,Se(f,c)&&(f[c]=null)):He(c)&&(c.value=null)),_e(l))an(l,a,12,[i,u]);else{const d=nt(l),h=He(l);if(d||h){const w=()=>{if(e.f){const y=d?Se(f,l)?f[l]:u[l]:l.value;r?me(y)&&oi(y,o):me(y)?y.includes(o)||y.push(o):d?(u[l]=[o],Se(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else d?(u[l]=i,Se(f,l)&&(f[l]=i)):h&&(l.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,Qe(w,n)):w()}}}const Qe=Bd;function lh(e){return ch(e)}function ch(e,t){const n=Gl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=at,insertStaticContent:w}=e,y=(p,g,S,O=null,L=null,J=null,ne=void 0,G=null,Y=!!g.dynamicChildren)=>{if(p===g)return;p&&!ns(p,g)&&(O=x(p),ee(p,L,J,!0),p=null),g.patchFlag===-2&&(Y=!1,g.dynamicChildren=null);const{type:K,ref:re,shapeFlag:de}=g;switch(K){case wr:v(p,g,S,O);break;case cn:m(p,g,S,O);break;case qs:p==null&&b(g,S,O,ne);break;case xe:M(p,g,S,O,L,J,ne,G,Y);break;default:de&1?N(p,g,S,O,L,J,ne,G,Y):de&6?Q(p,g,S,O,L,J,ne,G,Y):(de&64||de&128)&&K.process(p,g,S,O,L,J,ne,G,Y,A)}re!=null&&L&&$o(re,p&&p.ref,J,g||p,!g)},v=(p,g,S,O)=>{if(p==null)s(g.el=a(g.children),S,O);else{const L=g.el=p.el;g.children!==p.children&&c(L,g.children)}},m=(p,g,S,O)=>{p==null?s(g.el=l(g.children||""),S,O):g.el=p.el},b=(p,g,S,O)=>{[p.el,p.anchor]=w(p.children,g,S,O,p.el,p.anchor)},E=({el:p,anchor:g},S,O)=>{let L;for(;p&&p!==g;)L=d(p),s(p,S,O),p=L;s(g,S,O)},$=({el:p,anchor:g})=>{let S;for(;p&&p!==g;)S=d(p),r(p),p=S;r(g)},N=(p,g,S,O,L,J,ne,G,Y)=>{g.type==="svg"?ne="svg":g.type==="math"&&(ne="mathml"),p==null?k(g,S,O,L,J,ne,G,Y):W(p,g,L,J,ne,G,Y)},k=(p,g,S,O,L,J,ne,G)=>{let Y,K;const{props:re,shapeFlag:de,transition:fe,dirs:pe}=p;if(Y=p.el=i(p.type,J,re&&re.is,re),de&8?u(Y,p.children):de&16&&j(p.children,Y,null,O,L,Yr(p,J),ne,G),pe&&hn(p,null,O,"created"),V(Y,p,p.scopeId,ne,O),re){for(const $e in re)$e!=="value"&&!as($e)&&o(Y,$e,null,re[$e],J,p.children,O,L,z);"value"in re&&o(Y,"value",null,re.value,J),(K=re.onVnodeBeforeMount)&&yt(K,O,p)}pe&&hn(p,null,O,"beforeMount");const we=uh(L,fe);we&&fe.beforeEnter(Y),s(Y,g,S),((K=re&&re.onVnodeMounted)||we||pe)&&Qe(()=>{K&&yt(K,O,p),we&&fe.enter(Y),pe&&hn(p,null,O,"mounted")},L)},V=(p,g,S,O,L)=>{if(S&&h(p,S),O)for(let J=0;J<O.length;J++)h(p,O[J]);if(L){let J=L.subTree;if(g===J){const ne=L.vnode;V(p,ne,ne.scopeId,ne.slotScopeIds,L.parent)}}},j=(p,g,S,O,L,J,ne,G,Y=0)=>{for(let K=Y;K<p.length;K++){const re=p[K]=G?Xt(p[K]):mt(p[K]);y(null,re,g,S,O,L,J,ne,G)}},W=(p,g,S,O,L,J,ne)=>{const G=g.el=p.el;let{patchFlag:Y,dynamicChildren:K,dirs:re}=g;Y|=p.patchFlag&16;const de=p.props||Ae,fe=g.props||Ae;let pe;if(S&&pn(S,!1),(pe=fe.onVnodeBeforeUpdate)&&yt(pe,S,g,p),re&&hn(g,p,S,"beforeUpdate"),S&&pn(S,!0),K?Z(p.dynamicChildren,K,G,S,O,Yr(g,L),J):ne||T(p,g,G,null,S,O,Yr(g,L),J,!1),Y>0){if(Y&16)te(G,g,de,fe,S,O,L);else if(Y&2&&de.class!==fe.class&&o(G,"class",null,fe.class,L),Y&4&&o(G,"style",de.style,fe.style,L),Y&8){const we=g.dynamicProps;for(let $e=0;$e<we.length;$e++){const Te=we[$e],je=de[Te],ut=fe[Te];(ut!==je||Te==="value")&&o(G,Te,je,ut,L,p.children,S,O,z)}}Y&1&&p.children!==g.children&&u(G,g.children)}else!ne&&K==null&&te(G,g,de,fe,S,O,L);((pe=fe.onVnodeUpdated)||re)&&Qe(()=>{pe&&yt(pe,S,g,p),re&&hn(g,p,S,"updated")},O)},Z=(p,g,S,O,L,J,ne)=>{for(let G=0;G<g.length;G++){const Y=p[G],K=g[G],re=Y.el&&(Y.type===xe||!ns(Y,K)||Y.shapeFlag&70)?f(Y.el):S;y(Y,K,re,null,O,L,J,ne,!0)}},te=(p,g,S,O,L,J,ne)=>{if(S!==O){if(S!==Ae)for(const G in S)!as(G)&&!(G in O)&&o(p,G,S[G],null,ne,g.children,L,J,z);for(const G in O){if(as(G))continue;const Y=O[G],K=S[G];Y!==K&&G!=="value"&&o(p,G,K,Y,ne,g.children,L,J,z)}"value"in O&&o(p,"value",S.value,O.value,ne)}},M=(p,g,S,O,L,J,ne,G,Y)=>{const K=g.el=p?p.el:a(""),re=g.anchor=p?p.anchor:a("");let{patchFlag:de,dynamicChildren:fe,slotScopeIds:pe}=g;pe&&(G=G?G.concat(pe):pe),p==null?(s(K,S,O),s(re,S,O),j(g.children||[],S,re,L,J,ne,G,Y)):de>0&&de&64&&fe&&p.dynamicChildren?(Z(p.dynamicChildren,fe,S,L,J,ne,G),(g.key!=null||L&&g===L.subTree)&&gc(p,g,!0)):T(p,g,S,re,L,J,ne,G,Y)},Q=(p,g,S,O,L,J,ne,G,Y)=>{g.slotScopeIds=G,p==null?g.shapeFlag&512?L.ctx.activate(g,S,O,ne,Y):D(g,S,O,L,J,ne,Y):R(p,g,Y)},D=(p,g,S,O,L,J,ne)=>{const G=p.component=wh(p,O,L);if(sc(p)&&(G.ctx.renderer=A),mh(G),G.asyncDep){if(L&&L.registerDep(G,P),!p.el){const Y=G.subTree=ye(cn);m(null,Y,g,S)}}else P(G,p,g,S,L,J,ne)},R=(p,g,S)=>{const O=g.component=p.component;if(Cd(p,g,S))if(O.asyncDep&&!O.asyncResolved){I(O,g,S);return}else O.next=g,Ed(O.update),O.effect.dirty=!0,O.update();else g.el=p.el,O.vnode=g},P=(p,g,S,O,L,J,ne)=>{const G=()=>{if(p.isMounted){let{next:re,bu:de,u:fe,parent:pe,vnode:we}=p;{const Tn=yc(p);if(Tn){re&&(re.el=we.el,I(p,re,ne)),Tn.asyncDep.then(()=>{p.isUnmounted||G()});return}}let $e=re,Te;pn(p,!1),re?(re.el=we.el,I(p,re,ne)):re=we,de&&Wr(de),(Te=re.props&&re.props.onVnodeBeforeUpdate)&&yt(Te,pe,re,we),pn(p,!0);const je=Zr(p),ut=p.subTree;p.subTree=je,y(ut,je,f(ut.el),x(ut),p,L,J),re.el=je.el,$e===null&&Ad(p,je.el),fe&&Qe(fe,L),(Te=re.props&&re.props.onVnodeUpdated)&&Qe(()=>yt(Te,pe,re,we),L)}else{let re;const{el:de,props:fe}=g,{bm:pe,m:we,parent:$e}=p,Te=ls(g);if(pn(p,!1),pe&&Wr(pe),!Te&&(re=fe&&fe.onVnodeBeforeMount)&&yt(re,$e,g),pn(p,!0),de&&he){const je=()=>{p.subTree=Zr(p),he(de,p.subTree,p,L,null)};Te?g.type.__asyncLoader().then(()=>!p.isUnmounted&&je()):je()}else{const je=p.subTree=Zr(p);y(null,je,S,O,p,L,J),g.el=je.el}if(we&&Qe(we,L),!Te&&(re=fe&&fe.onVnodeMounted)){const je=g;Qe(()=>yt(re,$e,je),L)}(g.shapeFlag&256||$e&&ls($e.vnode)&&$e.vnode.shapeFlag&256)&&p.a&&Qe(p.a,L),p.isMounted=!0,g=S=O=null}},Y=p.effect=new Yo(G,at,()=>fi(K),p.scope),K=p.update=()=>{Y.dirty&&Y.run()};K.id=p.uid,pn(p,!0),K()},I=(p,g,S)=>{g.component=p;const O=p.vnode.props;p.vnode=g,p.next=null,rh(p,g.props,O,S),ah(p,g.children,S),$n(),ta(p),Cn()},T=(p,g,S,O,L,J,ne,G,Y=!1)=>{const K=p&&p.children,re=p?p.shapeFlag:0,de=g.children,{patchFlag:fe,shapeFlag:pe}=g;if(fe>0){if(fe&128){X(K,de,S,O,L,J,ne,G,Y);return}else if(fe&256){q(K,de,S,O,L,J,ne,G,Y);return}}pe&8?(re&16&&z(K,L,J),de!==K&&u(S,de)):re&16?pe&16?X(K,de,S,O,L,J,ne,G,Y):z(K,L,J,!0):(re&8&&u(S,""),pe&16&&j(de,S,O,L,J,ne,G,Y))},q=(p,g,S,O,L,J,ne,G,Y)=>{p=p||Un,g=g||Un;const K=p.length,re=g.length,de=Math.min(K,re);let fe;for(fe=0;fe<de;fe++){const pe=g[fe]=Y?Xt(g[fe]):mt(g[fe]);y(p[fe],pe,S,null,L,J,ne,G,Y)}K>re?z(p,L,J,!0,!1,de):j(g,S,O,L,J,ne,G,Y,de)},X=(p,g,S,O,L,J,ne,G,Y)=>{let K=0;const re=g.length;let de=p.length-1,fe=re-1;for(;K<=de&&K<=fe;){const pe=p[K],we=g[K]=Y?Xt(g[K]):mt(g[K]);if(ns(pe,we))y(pe,we,S,null,L,J,ne,G,Y);else break;K++}for(;K<=de&&K<=fe;){const pe=p[de],we=g[fe]=Y?Xt(g[fe]):mt(g[fe]);if(ns(pe,we))y(pe,we,S,null,L,J,ne,G,Y);else break;de--,fe--}if(K>de){if(K<=fe){const pe=fe+1,we=pe<re?g[pe].el:O;for(;K<=fe;)y(null,g[K]=Y?Xt(g[K]):mt(g[K]),S,we,L,J,ne,G,Y),K++}}else if(K>fe)for(;K<=de;)ee(p[K],L,J,!0),K++;else{const pe=K,we=K,$e=new Map;for(K=we;K<=fe;K++){const st=g[K]=Y?Xt(g[K]):mt(g[K]);st.key!=null&&$e.set(st.key,K)}let Te,je=0;const ut=fe-we+1;let Tn=!1,Di=0;const ts=new Array(ut);for(K=0;K<ut;K++)ts[K]=0;for(K=pe;K<=de;K++){const st=p[K];if(je>=ut){ee(st,L,J,!0);continue}let gt;if(st.key!=null)gt=$e.get(st.key);else for(Te=we;Te<=fe;Te++)if(ts[Te-we]===0&&ns(st,g[Te])){gt=Te;break}gt===void 0?ee(st,L,J,!0):(ts[gt-we]=K+1,gt>=Di?Di=gt:Tn=!0,y(st,g[gt],S,null,L,J,ne,G,Y),je++)}const qi=Tn?fh(ts):Un;for(Te=qi.length-1,K=ut-1;K>=0;K--){const st=we+K,gt=g[st],Ki=st+1<re?g[st+1].el:O;ts[K]===0?y(null,gt,S,Ki,L,J,ne,G,Y):Tn&&(Te<0||K!==qi[Te]?ie(gt,S,Ki,2):Te--)}}},ie=(p,g,S,O,L=null)=>{const{el:J,type:ne,transition:G,children:Y,shapeFlag:K}=p;if(K&6){ie(p.component.subTree,g,S,O);return}if(K&128){p.suspense.move(g,S,O);return}if(K&64){ne.move(p,g,S,A);return}if(ne===xe){s(J,g,S);for(let de=0;de<Y.length;de++)ie(Y[de],g,S,O);s(p.anchor,g,S);return}if(ne===qs){E(p,g,S);return}if(O!==2&&K&1&&G)if(O===0)G.beforeEnter(J),s(J,g,S),Qe(()=>G.enter(J),L);else{const{leave:de,delayLeave:fe,afterLeave:pe}=G,we=()=>s(J,g,S),$e=()=>{de(J,()=>{we(),pe&&pe()})};fe?fe(J,we,$e):$e()}else s(J,g,S)},ee=(p,g,S,O=!1,L=!1)=>{const{type:J,props:ne,ref:G,children:Y,dynamicChildren:K,shapeFlag:re,patchFlag:de,dirs:fe}=p;if(G!=null&&$o(G,null,S,p,!0),re&256){g.ctx.deactivate(p);return}const pe=re&1&&fe,we=!ls(p);let $e;if(we&&($e=ne&&ne.onVnodeBeforeUnmount)&&yt($e,g,p),re&6)ae(p.component,S,O);else{if(re&128){p.suspense.unmount(S,O);return}pe&&hn(p,null,g,"beforeUnmount"),re&64?p.type.remove(p,g,S,L,A,O):K&&(J!==xe||de>0&&de&64)?z(K,g,S,!1,!0):(J===xe&&de&384||!L&&re&16)&&z(Y,g,S),O&&ge(p)}(we&&($e=ne&&ne.onVnodeUnmounted)||pe)&&Qe(()=>{$e&&yt($e,g,p),pe&&hn(p,null,g,"unmounted")},S)},ge=p=>{const{type:g,el:S,anchor:O,transition:L}=p;if(g===xe){oe(S,O);return}if(g===qs){$(p);return}const J=()=>{r(S),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(p.shapeFlag&1&&L&&!L.persisted){const{leave:ne,delayLeave:G}=L,Y=()=>ne(S,J);G?G(p.el,J,Y):Y()}else J()},oe=(p,g)=>{let S;for(;p!==g;)S=d(p),r(p),p=S;r(g)},ae=(p,g,S)=>{const{bum:O,scope:L,update:J,subTree:ne,um:G}=p;O&&Wr(O),L.stop(),J&&(J.active=!1,ee(ne,p,g,S)),G&&Qe(G,g),Qe(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},z=(p,g,S,O=!1,L=!1,J=0)=>{for(let ne=J;ne<p.length;ne++)ee(p[ne],g,S,O,L)},x=p=>p.shapeFlag&6?x(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el);let H=!1;const B=(p,g,S)=>{p==null?g._vnode&&ee(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,S),H||(H=!0,ta(),Ql(),H=!1),g._vnode=p},A={p:y,um:ee,m:ie,r:ge,mt:D,mc:j,pc:T,pbc:Z,n:x,o:e};let se,he;return t&&([se,he]=t(A)),{render:B,hydrate:se,createApp:th(B,se)}}function Yr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function uh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gc(e,t,n=!1){const s=e.children,r=t.children;if(me(s)&&me(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=Xt(r[o]),a.el=i.el),n||gc(i,a)),a.type===wr&&(a.el=i.el)}}function fh(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function yc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yc(t)}const dh=e=>e.__isTeleport,xe=Symbol.for("v-fgt"),wr=Symbol.for("v-txt"),cn=Symbol.for("v-cmt"),qs=Symbol.for("v-stc"),us=[];let ft=null;function C(e=!1){us.push(ft=e?null:[])}function hh(){us.pop(),ft=us[us.length-1]||null}let ws=1;function da(e){ws+=e}function vc(e){return e.dynamicChildren=ws>0?ft||Un:null,hh(),ws>0&&ft&&ft.push(e),e}function U(e,t,n,s,r,o){return vc(_(e,t,n,s,r,o,!0))}function Be(e,t,n,s,r){return vc(ye(e,t,n,s,r,!0))}function Qs(e){return e?e.__v_isVNode===!0:!1}function ns(e,t){return e.type===t.type&&e.key===t.key}const mr="__vInternal",_c=({key:e})=>e??null,Ks=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||He(e)||_e(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function _(e,t=null,n=null,s=0,r=null,o=e===xe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_c(t),ref:t&&Ks(t),scopeId:vr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Me};return a?(vi(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=nt(n)?8:16),ws>0&&!i&&ft&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ft.push(l),l}const ye=ph;function ph(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Id)&&(e=cn),Qs(e)){const a=qn(e,t,!0);return n&&vi(a,n),ws>0&&!o&&ft&&(a.shapeFlag&6?ft[ft.indexOf(e)]=a:ft.push(a)),a.patchFlag|=-2,a}if(Sh(e)&&(e=e.__vccOpts),t){t=gh(t);let{class:a,style:l}=t;a&&!nt(a)&&(t.class=Ie(a)),Oe(l)&&(Ol(l)&&!me(l)&&(l=Ze({},l)),t.style=li(l))}const i=nt(e)?1:Td(e)?128:dh(e)?64:Oe(e)?4:_e(e)?2:0;return _(e,t,n,s,r,i,o,!0)}function gh(e){return e?Ol(e)||mr in e?Ze({},e):e:null}function qn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?yh(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&_c(a),ref:t&&t.ref?n&&r?me(r)?r.concat(Ks(t)):[r,Ks(t)]:Ks(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qn(e.ssContent),ssFallback:e.ssFallback&&qn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ke(e=" ",t=0){return ye(wr,null,e,t)}function yi(e,t){const n=ye(qs,null,e);return n.staticCount=t,n}function ce(e="",t=!1){return t?(C(),Be(cn,null,e)):ye(cn,null,e)}function mt(e){return e==null||typeof e=="boolean"?ye(cn):me(e)?ye(xe,null,e.slice()):typeof e=="object"?Xt(e):ye(wr,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qn(e)}function vi(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),vi(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(mr in t)?t._ctx=Me:r===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[ke(t)]):n=8);e.children=t,e.shapeFlag|=n}function yh(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=li([t.style,s.style]);else if(ri(r)){const o=t[r],i=s[r];i&&o!==i&&!(me(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function yt(e,t,n,s=null){dt(e,t,7,[n,s])}const vh=cc();let _h=0;function wh(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||vh,o={uid:_h++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new ml(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fc(s,r),emitsOptions:ec(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Sd.bind(null,o),e.ce&&e.ce(o),o}let Ke=null,Xs,Co;{const e=Gl(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};Xs=t("__VUE_INSTANCE_SETTERS__",n=>Ke=n),Co=t("__VUE_SSR_SETTERS__",n=>br=n)}const Ss=e=>{const t=Ke;return Xs(e),e.scope.on(),()=>{e.scope.off(),Xs(t)}},ha=()=>{Ke&&Ke.scope.off(),Xs(null)};function wc(e){return e.vnode.shapeFlag&4}let br=!1;function mh(e,t=!1){t&&Co(t);const{props:n,children:s}=e.vnode,r=wc(e);sh(e,n,r,t),ih(e,s);const o=r?bh(e,t):void 0;return t&&Co(!1),o}function bh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=dr(new Proxy(e.ctx,Gd));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?xh(e):null,o=Ss(e);$n();const i=an(s,e,0,[e.props,r]);if(Cn(),o(),Kl(i)){if(i.then(ha,ha),t)return i.then(a=>{pa(e,a,t)}).catch(a=>{gr(a,e,0)});e.asyncDep=i}else pa(e,i,t)}else mc(e,t)}function pa(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=jl(t)),mc(e,n)}let ga;function mc(e,t,n){const s=e.type;if(!e.render){if(!t&&ga&&!s.render){const r=s.template||pi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ze(Ze({isCustomElement:o,delimiters:a},i),l);s.render=ga(r,c)}}e.render=s.render||at}{const r=Ss(e);$n();try{Zd(e)}finally{Cn(),r()}}}function Eh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tt(e,"get","$attrs"),t[n]}}))}function xh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Eh(e)},slots:e.slots,emit:e.emit,expose:t}}function Er(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(jl(dr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in cs)return cs[n](e)},has(t,n){return n in t||n in cs}}))}function Rh(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function Sh(e){return _e(e)&&"__vccOpts"in e}const Pe=(e,t)=>sd(e,t,br);function bc(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!me(t)?Qs(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Qs(n)&&(n=[n]),ye(e,t,n))}const kh="3.4.19";/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $h(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Ch=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ah=e=>e.startsWith("onUpdate:"),Ih=Object.assign,Sn=Array.isArray,Ec=e=>Rc(e)==="[object Set]",ya=e=>Rc(e)==="[object Date]",xc=e=>typeof e=="function",er=e=>typeof e=="string",va=e=>typeof e=="symbol",_a=e=>e!==null&&typeof e=="object",Ph=Object.prototype.toString,Rc=e=>Ph.call(e),Sc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Th=/\B([A-Z])/g,kc=Sc(e=>e.replace(Th,"-$1").toLowerCase()),Bh=Sc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Lh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oh=$h(Lh);function $c(e){return!!e||e===""}function Uh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=xr(e[s],t[s]);return n}function xr(e,t){if(e===t)return!0;let n=ya(e),s=ya(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=va(e),s=va(t),n||s)return e===t;if(n=Sn(e),s=Sn(t),n||s)return n&&s?Uh(e,t):!1;if(n=_a(e),s=_a(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!xr(e[i],t[i]))return!1}}return String(e)===String(t)}function Cc(e,t){return e.findIndex(n=>xr(n,t))}/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mh="http://www.w3.org/2000/svg",Hh="http://www.w3.org/1998/Math/MathML",en=typeof document<"u"?document:null,ma=en&&en.createElement("template"),jh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?en.createElementNS(Mh,e):t==="mathml"?en.createElementNS(Hh,e):en.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>en.createTextNode(e),createComment:e=>en.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>en.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{ma.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ma.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Vh=Symbol("_vtc");function Fh(e,t,n){const s=e[Vh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ba=Symbol("_vod"),Dh=Symbol(""),qh=/(^|;)\s*display\s*:/;function Kh(e,t,n){const s=e.style,r=er(n),o=s.display;let i=!1;if(n&&!r){if(t&&!er(t))for(const a in t)n[a]==null&&Ao(s,a,"");for(const a in n)a==="display"&&(i=!0),Ao(s,a,n[a])}else if(r){if(t!==n){const a=s[Dh];a&&(n+=";"+a),s.cssText=n,i=qh.test(n)}}else t&&e.removeAttribute("style");ba in e&&(e[ba]=i?s.display:"",s.display=o)}const Ea=/\s*!important$/;function Ao(e,t,n){if(Sn(n))n.forEach(s=>Ao(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=zh(e,t);Ea.test(n)?e.setProperty(kc(s),n.replace(Ea,""),"important"):e[s]=n}}const xa=["Webkit","Moz","ms"],Qr={};function zh(e,t){const n=Qr[t];if(n)return n;let s=Rt(t);if(s!=="filter"&&s in e)return Qr[t]=s;s=Bh(s);for(let r=0;r<xa.length;r++){const o=xa[r]+s;if(o in e)return Qr[t]=o}return t}const Ra="http://www.w3.org/1999/xlink";function Wh(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ra,t.slice(6,t.length)):e.setAttributeNS(Ra,t,n);else{const o=Oh(t);n==null||o&&!$c(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Gh(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=$c(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function _n(e,t,n,s){e.addEventListener(t,n,s)}function Zh(e,t,n,s){e.removeEventListener(t,n,s)}const Sa=Symbol("_vei");function Jh(e,t,n,s,r=null){const o=e[Sa]||(e[Sa]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=Yh(t);if(s){const c=o[t]=ep(s,r);_n(e,a,c,l)}else i&&(Zh(e,a,i,l),o[t]=void 0)}}const ka=/(?:Once|Passive|Capture)$/;function Yh(e){let t;if(ka.test(e)){t={};let s;for(;s=e.match(ka);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):kc(e.slice(2)),t]}let Xr=0;const Qh=Promise.resolve(),Xh=()=>Xr||(Qh.then(()=>Xr=0),Xr=Date.now());function ep(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(tp(s,n.value),t,5,[s])};return n.value=e,n.attached=Xh(),n}function tp(e,t){if(Sn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const $a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,np=(e,t,n,s,r,o,i,a,l)=>{const c=r==="svg";t==="class"?Fh(e,s,c):t==="style"?Kh(e,n,s):Ch(t)?Ah(t)||Jh(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sp(e,t,s,c))?Gh(e,t,s,o,i,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wh(e,t,s,c))};function sp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&$a(t)&&xc(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return $a(t)&&er(n)?!1:t in e}const tr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Sn(t)?n=>Nh(t,n):t};function rp(e){e.target.composing=!0}function Ca(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vn=Symbol("_assign"),ms={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Vn]=tr(r);const o=s||r.props&&r.props.type==="number";_n(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=wa(a)),e[Vn](a)}),n&&_n(e,"change",()=>{e.value=e.value.trim()}),t||(_n(e,"compositionstart",rp),_n(e,"compositionend",Ca),_n(e,"change",Ca))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Vn]=tr(o),e.composing)return;const i=r||e.type==="number"?wa(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},op={deep:!0,created(e,t,n){e[Vn]=tr(n),_n(e,"change",()=>{const s=e._modelValue,r=ip(e),o=e.checked,i=e[Vn];if(Sn(s)){const a=Cc(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const c=[...s];c.splice(a,1),i(c)}}else if(Ec(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(Ac(e,o))})},mounted:Aa,beforeUpdate(e,t,n){e[Vn]=tr(n),Aa(e,t,n)}};function Aa(e,{value:t,oldValue:n},s){e._modelValue=t,Sn(t)?e.checked=Cc(t,s.props.value)>-1:Ec(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=xr(t,Ac(e,!0)))}function ip(e){return"_value"in e?e._value:e.value}function Ac(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ap=["ctrl","shift","alt","meta"],lp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ap.some(n=>e[`${n}Key`]&&!t.includes(n))},Io=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=lp[t[i]];if(a&&a(r,t))return}return e(r,...o)})},cp=Ih({patchProp:np},jh);let Ia;function up(){return Ia||(Ia=lh(cp))}const fp=(...e)=>{const t=up().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=hp(s);if(!r)return;const o=t._component;!xc(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,dp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function dp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function hp(e){return er(e)?document.querySelector(e):e}var pp=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ic;const Rr=e=>Ic=e,Pc=Symbol();function Po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var fs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(fs||(fs={}));function gp(){const e=bl(!0),t=e.run(()=>F({}));let n=[],s=[];const r=dr({install(o){Rr(r),r._a=o,o.provide(Pc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!pp?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Tc=()=>{};function Pa(e,t,n,s=Tc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&El()&&Of(r),r}function Bn(e,...t){e.slice().forEach(n=>{n(...t)})}const yp=e=>e();function To(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Po(r)&&Po(s)&&e.hasOwnProperty(n)&&!He(s)&&!on(s)?e[n]=To(r,s):e[n]=s}return e}const vp=Symbol();function _p(e){return!Po(e)||!e.hasOwnProperty(vp)}const{assign:Yt}=Object;function wp(e){return!!(He(e)&&e.effect)}function mp(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=ad(n.state.value[e]);return Yt(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=dr(Pe(()=>{Rr(n);const h=n._s.get(e);return i[d].call(h,h)})),f),{}))}return l=Bc(e,c,t,n,s,!0),l}function Bc(e,t,n={},s,r,o){let i;const a=Yt({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],h;const w=s.state.value[e];!o&&!w&&(s.state.value[e]={}),F({});let y;function v(j){let W;c=u=!1,typeof j=="function"?(j(s.state.value[e]),W={type:fs.patchFunction,storeId:e,events:h}):(To(s.state.value[e],j),W={type:fs.patchObject,payload:j,storeId:e,events:h});const Z=y=Symbol();ui().then(()=>{y===Z&&(c=!0)}),u=!0,Bn(f,W,s.state.value[e])}const m=o?function(){const{state:W}=n,Z=W?W():{};this.$patch(te=>{Yt(te,Z)})}:Tc;function b(){i.stop(),f=[],d=[],s._s.delete(e)}function E(j,W){return function(){Rr(s);const Z=Array.from(arguments),te=[],M=[];function Q(P){te.push(P)}function D(P){M.push(P)}Bn(d,{args:Z,name:j,store:N,after:Q,onError:D});let R;try{R=W.apply(this&&this.$id===e?this:N,Z)}catch(P){throw Bn(M,P),P}return R instanceof Promise?R.then(P=>(Bn(te,P),P)).catch(P=>(Bn(M,P),Promise.reject(P))):(Bn(te,R),R)}}const $={_p:s,$id:e,$onAction:Pa.bind(null,d),$patch:v,$reset:m,$subscribe(j,W={}){const Z=Pa(f,j,W.detached,()=>te()),te=i.run(()=>Mt(()=>s.state.value[e],M=>{(W.flush==="sync"?u:c)&&j({storeId:e,type:fs.direct,events:h},M)},Yt({},l,W)));return Z},$dispose:b},N=Qn($);s._s.set(e,N);const V=(s._a&&s._a.runWithContext||yp)(()=>s._e.run(()=>(i=bl()).run(t)));for(const j in V){const W=V[j];if(He(W)&&!wp(W)||on(W))o||(w&&_p(W)&&(He(W)?W.value=w[j]:To(W,w[j])),s.state.value[e][j]=W);else if(typeof W=="function"){const Z=E(j,W);V[j]=Z,a.actions[j]=W}}return Yt(N,V),Yt(be(N),V),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:j=>{v(W=>{Yt(W,j)})}}),s._p.forEach(j=>{Yt(N,i.run(()=>j({store:N,app:s._a,pinia:s,options:a})))}),w&&o&&n.hydrate&&n.hydrate(N.$state,w),c=!0,u=!0,N}function fn(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=nh();return a=a||(c?lt(Pc,null):null),a&&Rr(a),a=Ic,a._s.has(s)||(o?Bc(s,t,r,a):mp(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Nn=typeof window<"u";function bp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Re=Object.assign;function eo(e,t){const n={};for(const s in t){const r=t[s];n[s]=ht(r)?r.map(e):e(r)}return n}const ds=()=>{},ht=Array.isArray,Ep=/\/$/,xp=e=>e.replace(Ep,"");function to(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=$p(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Rp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ta(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Sp(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Kn(t.matched[s],n.matched[r])&&Nc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Nc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!kp(e[n],t[n]))return!1;return!0}function kp(e,t){return ht(e)?Ba(e,t):ht(t)?Ba(t,e):e===t}function Ba(e,t){return ht(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function $p(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var bs;(function(e){e.pop="pop",e.push="push"})(bs||(bs={}));var hs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(hs||(hs={}));function Cp(e){if(!e)if(Nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),xp(e)}const Ap=/^[^#]+#/;function Ip(e,t){return e.replace(Ap,"#")+t}function Pp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Sr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Tp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Pp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Na(e,t){return(history.state?history.state.position-t:-1)+e}const Bo=new Map;function Bp(e,t){Bo.set(e,t)}function Np(e){const t=Bo.get(e);return Bo.delete(e),t}let Lp=()=>location.protocol+"//"+location.host;function Lc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ta(l,"")}return Ta(n,e)+s+r}function Op(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const h=Lc(e,location),w=n.value,y=t.value;let v=0;if(d){if(n.value=h,t.value=d,i&&i===w){i=null;return}v=y?d.position-y.position:0}else s(h);r.forEach(m=>{m(n.value,w,{delta:v,type:bs.pop,direction:v?v>0?hs.forward:hs.back:hs.unknown})})};function l(){i=n.value}function c(d){r.push(d);const h=()=>{const w=r.indexOf(d);w>-1&&r.splice(w,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Re({},d.state,{scroll:Sr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function La(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Sr():null}}function Up(e){const{history:t,location:n}=window,s={value:Lc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Lp()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(l,c){const u=Re({},t.state,La(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Re({},r.value,t.state,{forward:l,scroll:Sr()});o(u.current,u,!0);const f=Re({},La(s.value,l,null),{position:u.position+1},c);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Mp(e){e=Cp(e);const t=Up(e),n=Op(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Re({location:"",base:e,go:s,createHref:Ip.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Hp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Mp(e)}function jp(e){return typeof e=="string"||e&&typeof e=="object"}function Oc(e){return typeof e=="string"||typeof e=="symbol"}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Uc=Symbol("");var Oa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Oa||(Oa={}));function zn(e,t){return Re(new Error,{type:e,[Uc]:!0},t)}function Pt(e,t){return e instanceof Error&&Uc in e&&(t==null||!!(e.type&t))}const Ua="[^/]+?",Vp={sensitive:!1,strict:!1,start:!0,end:!0},Fp=/[.+*?^${}()[\]/\\]/g;function Dp(e,t){const n=Re({},Vp,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Fp,"\\$&"),h+=40;else if(d.type===1){const{value:w,repeatable:y,optional:v,regexp:m}=d;o.push({name:w,repeatable:y,optional:v});const b=m||Ua;if(b!==Ua){h+=10;try{new RegExp(`(${b})`)}catch($){throw new Error(`Invalid custom RegExp for param "${w}" (${b}): `+$.message)}}let E=y?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),r+=E,h+=20,v&&(h+=-8),y&&(h+=-20),b===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",w=o[d-1];f[w.name]=h&&w.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:w,repeatable:y,optional:v}=h,m=w in c?c[w]:"";if(ht(m)&&!y)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const b=ht(m)?m.join("/"):m;if(!b)if(v)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);u+=b}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function qp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Kp(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=qp(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ma(s))return 1;if(Ma(r))return-1}return r.length-s.length}function Ma(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const zp={type:0,value:""},Wp=/[a-zA-Z0-9_]/;function Gp(e){if(!e)return[[]];if(e==="/")return[[zp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:Wp.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function Zp(e,t,n){const s=Dp(Gp(e.path),n),r=Re(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Jp(e,t){const n=[],s=new Map;t=Va({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const h=!d,w=Yp(u);w.aliasOf=d&&d.record;const y=Va(t,u),v=[w];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const $ of E)v.push(Re({},w,{components:d?d.record.components:w.components,path:$,aliasOf:d?d.record:w}))}let m,b;for(const E of v){const{path:$}=E;if(f&&$[0]!=="/"){const N=f.record.path,k=N[N.length-1]==="/"?"":"/";E.path=f.record.path+($&&k+$)}if(m=Zp(E,f,y),d?d.alias.push(m):(b=b||m,b!==m&&b.alias.push(m),h&&u.name&&!ja(m)&&i(u.name)),w.children){const N=w.children;for(let k=0;k<N.length;k++)o(N[k],m,d&&d.children[k])}d=d||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return b?()=>{i(b)}:ds}function i(u){if(Oc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&Kp(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Mc(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!ja(u)&&s.set(u.record.name,u)}function c(u,f){let d,h={},w,y;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw zn(1,{location:u});y=d.record.name,h=Re(Ha(f.params,d.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&Ha(u.params,d.keys.map(b=>b.name))),w=d.stringify(h)}else if("path"in u)w=u.path,d=n.find(b=>b.re.test(w)),d&&(h=d.parse(w),y=d.record.name);else{if(d=f.name?s.get(f.name):n.find(b=>b.re.test(f.path)),!d)throw zn(1,{location:u,currentLocation:f});y=d.record.name,h=Re({},f.params,u.params),w=d.stringify(h)}const v=[];let m=d;for(;m;)v.unshift(m.record),m=m.parent;return{name:y,path:w,params:h,matched:v,meta:Xp(v)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ha(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Yp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Qp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Qp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ja(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Xp(e){return e.reduce((t,n)=>Re(t,n.meta),{})}function Va(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Mc(e,t){return t.children.some(n=>n===e||Mc(e,n))}const Hc=/#/g,eg=/&/g,tg=/\//g,ng=/=/g,sg=/\?/g,jc=/\+/g,rg=/%5B/g,og=/%5D/g,Vc=/%5E/g,ig=/%60/g,Fc=/%7B/g,ag=/%7C/g,Dc=/%7D/g,lg=/%20/g;function _i(e){return encodeURI(""+e).replace(ag,"|").replace(rg,"[").replace(og,"]")}function cg(e){return _i(e).replace(Fc,"{").replace(Dc,"}").replace(Vc,"^")}function No(e){return _i(e).replace(jc,"%2B").replace(lg,"+").replace(Hc,"%23").replace(eg,"%26").replace(ig,"`").replace(Fc,"{").replace(Dc,"}").replace(Vc,"^")}function ug(e){return No(e).replace(ng,"%3D")}function fg(e){return _i(e).replace(Hc,"%23").replace(sg,"%3F")}function dg(e){return e==null?"":fg(e).replace(tg,"%2F")}function nr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function hg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(jc," "),i=o.indexOf("="),a=nr(i<0?o:o.slice(0,i)),l=i<0?null:nr(o.slice(i+1));if(a in t){let c=t[a];ht(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Fa(e){let t="";for(let n in e){const s=e[n];if(n=ug(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ht(s)?s.map(o=>o&&No(o)):[s&&No(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function pg(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ht(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const gg=Symbol(""),Da=Symbol(""),kr=Symbol(""),wi=Symbol(""),Lo=Symbol("");function ss(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function tn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const l=f=>{f===!1?a(zn(4,{from:n,to:t})):f instanceof Error?a(f):jp(f)?a(zn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function no(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let a=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if(yg(a)){const c=(a.__vccOpts||a)[t];c&&r.push(tn(c,n,s,o,i))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=bp(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&tn(d,n,s,o,i)()}))}}return r}function yg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qa(e){const t=lt(kr),n=lt(wi),s=Pe(()=>t.resolve(ue(e.to))),r=Pe(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Kn.bind(null,u));if(d>-1)return d;const h=Ka(l[c-2]);return c>1&&Ka(u)===h&&f[f.length-1].path!==h?f.findIndex(Kn.bind(null,l[c-2])):d}),o=Pe(()=>r.value>-1&&mg(n.params,s.value.params)),i=Pe(()=>r.value>-1&&r.value===n.matched.length-1&&Nc(n.params,s.value.params));function a(l={}){return wg(l)?t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(ds):Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const vg=Ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qa,setup(e,{slots:t}){const n=Qn(qa(e)),{options:s}=lt(kr),r=Pe(()=>({[za(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[za(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:bc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),_g=vg;function wg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function mg(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ht(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Ka(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const za=(e,t,n)=>e??t??n,bg=Ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=lt(Lo),r=Pe(()=>e.route||s.value),o=lt(Da,0),i=Pe(()=>{let c=ue(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Pe(()=>r.value.matched[i.value]);Ds(Da,Pe(()=>i.value+1)),Ds(gg,a),Ds(Lo,r);const l=F();return Mt(()=>[l.value,a.value,e.name],([c,u,f],[d,h,w])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Kn(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Wa(n.default,{Component:d,route:c});const h=f.props[u],w=h?h===!0?c.params:typeof h=="function"?h(c):h:null,v=bc(d,Re({},w,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Wa(n.default,{Component:v,route:c})||v}}});function Wa(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Eg=bg;function xg(e){const t=Jp(e.routes,e),n=e.parseQuery||hg,s=e.stringifyQuery||Fa,r=e.history,o=ss(),i=ss(),a=ss(),l=rd(zt);let c=zt;Nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=eo.bind(null,x=>""+x),f=eo.bind(null,dg),d=eo.bind(null,nr);function h(x,H){let B,A;return Oc(x)?(B=t.getRecordMatcher(x),A=H):A=x,t.addRoute(A,B)}function w(x){const H=t.getRecordMatcher(x);H&&t.removeRoute(H)}function y(){return t.getRoutes().map(x=>x.record)}function v(x){return!!t.getRecordMatcher(x)}function m(x,H){if(H=Re({},H||l.value),typeof x=="string"){const g=to(n,x,H.path),S=t.resolve({path:g.path},H),O=r.createHref(g.fullPath);return Re(g,S,{params:d(S.params),hash:nr(g.hash),redirectedFrom:void 0,href:O})}let B;if("path"in x)B=Re({},x,{path:to(n,x.path,H.path).path});else{const g=Re({},x.params);for(const S in g)g[S]==null&&delete g[S];B=Re({},x,{params:f(g)}),H.params=f(H.params)}const A=t.resolve(B,H),se=x.hash||"";A.params=u(d(A.params));const he=Rp(s,Re({},x,{hash:cg(se),path:A.path})),p=r.createHref(he);return Re({fullPath:he,hash:se,query:s===Fa?pg(x.query):x.query||{}},A,{redirectedFrom:void 0,href:p})}function b(x){return typeof x=="string"?to(n,x,l.value.path):Re({},x)}function E(x,H){if(c!==x)return zn(8,{from:H,to:x})}function $(x){return V(x)}function N(x){return $(Re(b(x),{replace:!0}))}function k(x){const H=x.matched[x.matched.length-1];if(H&&H.redirect){const{redirect:B}=H;let A=typeof B=="function"?B(x):B;return typeof A=="string"&&(A=A.includes("?")||A.includes("#")?A=b(A):{path:A},A.params={}),Re({query:x.query,hash:x.hash,params:"path"in A?{}:x.params},A)}}function V(x,H){const B=c=m(x),A=l.value,se=x.state,he=x.force,p=x.replace===!0,g=k(B);if(g)return V(Re(b(g),{state:typeof g=="object"?Re({},se,g.state):se,force:he,replace:p}),H||B);const S=B;S.redirectedFrom=H;let O;return!he&&Sp(s,A,B)&&(O=zn(16,{to:S,from:A}),ie(A,A,!0,!1)),(O?Promise.resolve(O):Z(S,A)).catch(L=>Pt(L)?Pt(L,2)?L:X(L):T(L,S,A)).then(L=>{if(L){if(Pt(L,2))return V(Re({replace:p},b(L.to),{state:typeof L.to=="object"?Re({},se,L.to.state):se,force:he}),H||S)}else L=M(S,A,!0,p,se);return te(S,A,L),L})}function j(x,H){const B=E(x,H);return B?Promise.reject(B):Promise.resolve()}function W(x){const H=oe.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(x):x()}function Z(x,H){let B;const[A,se,he]=Rg(x,H);B=no(A.reverse(),"beforeRouteLeave",x,H);for(const g of A)g.leaveGuards.forEach(S=>{B.push(tn(S,x,H))});const p=j.bind(null,x,H);return B.push(p),z(B).then(()=>{B=[];for(const g of o.list())B.push(tn(g,x,H));return B.push(p),z(B)}).then(()=>{B=no(se,"beforeRouteUpdate",x,H);for(const g of se)g.updateGuards.forEach(S=>{B.push(tn(S,x,H))});return B.push(p),z(B)}).then(()=>{B=[];for(const g of he)if(g.beforeEnter)if(ht(g.beforeEnter))for(const S of g.beforeEnter)B.push(tn(S,x,H));else B.push(tn(g.beforeEnter,x,H));return B.push(p),z(B)}).then(()=>(x.matched.forEach(g=>g.enterCallbacks={}),B=no(he,"beforeRouteEnter",x,H),B.push(p),z(B))).then(()=>{B=[];for(const g of i.list())B.push(tn(g,x,H));return B.push(p),z(B)}).catch(g=>Pt(g,8)?g:Promise.reject(g))}function te(x,H,B){a.list().forEach(A=>W(()=>A(x,H,B)))}function M(x,H,B,A,se){const he=E(x,H);if(he)return he;const p=H===zt,g=Nn?history.state:{};B&&(A||p?r.replace(x.fullPath,Re({scroll:p&&g&&g.scroll},se)):r.push(x.fullPath,se)),l.value=x,ie(x,H,B,p),X()}let Q;function D(){Q||(Q=r.listen((x,H,B)=>{if(!ae.listening)return;const A=m(x),se=k(A);if(se){V(Re(se,{replace:!0}),A).catch(ds);return}c=A;const he=l.value;Nn&&Bp(Na(he.fullPath,B.delta),Sr()),Z(A,he).catch(p=>Pt(p,12)?p:Pt(p,2)?(V(p.to,A).then(g=>{Pt(g,20)&&!B.delta&&B.type===bs.pop&&r.go(-1,!1)}).catch(ds),Promise.reject()):(B.delta&&r.go(-B.delta,!1),T(p,A,he))).then(p=>{p=p||M(A,he,!1),p&&(B.delta&&!Pt(p,8)?r.go(-B.delta,!1):B.type===bs.pop&&Pt(p,20)&&r.go(-1,!1)),te(A,he,p)}).catch(ds)}))}let R=ss(),P=ss(),I;function T(x,H,B){X(x);const A=P.list();return A.length?A.forEach(se=>se(x,H,B)):console.error(x),Promise.reject(x)}function q(){return I&&l.value!==zt?Promise.resolve():new Promise((x,H)=>{R.add([x,H])})}function X(x){return I||(I=!x,D(),R.list().forEach(([H,B])=>x?B(x):H()),R.reset()),x}function ie(x,H,B,A){const{scrollBehavior:se}=e;if(!Nn||!se)return Promise.resolve();const he=!B&&Np(Na(x.fullPath,0))||(A||!B)&&history.state&&history.state.scroll||null;return ui().then(()=>se(x,H,he)).then(p=>p&&Tp(p)).catch(p=>T(p,x,H))}const ee=x=>r.go(x);let ge;const oe=new Set,ae={currentRoute:l,listening:!0,addRoute:h,removeRoute:w,hasRoute:v,getRoutes:y,resolve:m,options:e,push:$,replace:N,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:P.add,isReady:q,install(x){const H=this;x.component("RouterLink",_g),x.component("RouterView",Eg),x.config.globalProperties.$router=H,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),Nn&&!ge&&l.value===zt&&(ge=!0,$(r.location).catch(se=>{}));const B={};for(const se in zt)Object.defineProperty(B,se,{get:()=>l.value[se],enumerable:!0});x.provide(kr,H),x.provide(wi,Nl(B)),x.provide(Lo,l);const A=x.unmount;oe.add(x),x.unmount=function(){oe.delete(x),oe.size<1&&(c=zt,Q&&Q(),Q=null,l.value=zt,ge=!1,I=!1),A()}}};function z(x){return x.reduce((H,B)=>H.then(()=>W(B)),Promise.resolve())}return ae}function Rg(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>Kn(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>Kn(c,l))||r.push(l))}return[n,s,r]}function $r(){return lt(kr)}function ks(){return lt(wi)}function Ga(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function qc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Sg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ga(e.outputLen),Ga(e.blockLen)}function sr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function kg(e,t){qc(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const so=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kc=e=>e instanceof Uint8Array,ro=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),vt=(e,t)=>e<<32-t|e>>>t,$g=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$g)throw new Error("Non little-endian hardware is not supported");function Cg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function mi(e){if(typeof e=="string"&&(e=Cg(e)),!Kc(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Ag(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Kc(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let zc=class{clone(){return this._cloneInto()}};function Ig(e){const t=s=>e().update(mi(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Wc(e=32){if(so&&typeof so.getRandomValues=="function")return so.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Pg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let Tg=class extends zc{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ro(this.buffer)}update(t){sr(this);const{view:n,buffer:s,blockLen:r}=this;t=mi(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=ro(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){sr(this),kg(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Pg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=ro(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const Bg=(e,t,n)=>e&t^~e&n,Ng=(e,t,n)=>e&t^e&n^t&n,Lg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gt=new Uint32Array(64);let Og=class extends Tg{constructor(){super(64,32,8,!1),this.A=Wt[0]|0,this.B=Wt[1]|0,this.C=Wt[2]|0,this.D=Wt[3]|0,this.E=Wt[4]|0,this.F=Wt[5]|0,this.G=Wt[6]|0,this.H=Wt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Gt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Gt[f-15],h=Gt[f-2],w=vt(d,7)^vt(d,18)^d>>>3,y=vt(h,17)^vt(h,19)^h>>>10;Gt[f]=y+Gt[f-7]+w+Gt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=vt(a,6)^vt(a,11)^vt(a,25),h=u+d+Bg(a,l,c)+Lg[f]+Gt[f]|0,y=(vt(s,2)^vt(s,13)^vt(s,22))+Ng(s,r,o)|0;u=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Gt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Oo=Ig(()=>new Og);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gc=BigInt(0),Cr=BigInt(1),Ug=BigInt(2),Ar=e=>e instanceof Uint8Array,Mg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wn(e){if(!Ar(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Mg[e[n]];return t}function Zc(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function bi(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Gn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function et(e){return bi(Wn(e))}function Ei(e){if(!Ar(e))throw new Error("Uint8Array expected");return bi(Wn(Uint8Array.from(e).reverse()))}function un(e,t){return Gn(e.toString(16).padStart(t*2,"0"))}function xi(e,t){return un(e,t).reverse()}function Hg(e){return Gn(Zc(e))}function ze(e,t,n){let s;if(typeof t=="string")try{s=Gn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Ar(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function kn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Ar(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function jg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Vg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Fg(e){let t;for(t=0;e>Gc;e>>=Cr,t+=1);return t}function Dg(e,t){return e>>BigInt(t)&Cr}const qg=(e,t,n)=>e|(n?Cr:Gc)<<BigInt(t),Ri=e=>(Ug<<BigInt(e-1))-Cr,oo=e=>new Uint8Array(e),Za=e=>Uint8Array.from(e);function Jc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=oo(e),r=oo(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=oo())=>{r=a(Za([0]),f),s=a(),f.length!==0&&(r=a(Za([1]),f),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=a();const h=s.slice();d.push(h),f+=s.length}return kn(...d)};return(f,d)=>{i(),l(f);let h;for(;!(h=d(c()));)l();return i(),h}}const Kg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function $s(e,t,n={}){const s=(r,o,i)=>{const a=Kg[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const zg=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Dg,bitLen:Fg,bitMask:Ri,bitSet:qg,bytesToHex:Wn,bytesToNumberBE:et,bytesToNumberLE:Ei,concatBytes:kn,createHmacDrbg:Jc,ensureBytes:ze,equalBytes:jg,hexToBytes:Gn,hexToNumber:bi,numberToBytesBE:un,numberToBytesLE:xi,numberToHexUnpadded:Zc,numberToVarBytesBE:Hg,utf8ToBytes:Vg,validateObject:$s},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ve=BigInt(0),Ne=BigInt(1),wn=BigInt(2),Wg=BigInt(3),Uo=BigInt(4),Ja=BigInt(5),Ya=BigInt(8);BigInt(9);BigInt(16);function qe(e,t){const n=e%t;return n>=Ve?n:t+n}function Gg(e,t,n){if(n<=Ve||t<Ve)throw new Error("Expected power/modulo > 0");if(n===Ne)return Ve;let s=Ne;for(;t>Ve;)t&Ne&&(s=s*e%n),e=e*e%n,t>>=Ne;return s}function ot(e,t,n){let s=e;for(;t-- >Ve;)s*=s,s%=n;return s}function Mo(e,t){if(e===Ve||t<=Ve)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=qe(e,t),s=t,r=Ve,o=Ne;for(;n!==Ve;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Ne)throw new Error("invert: does not exist");return qe(r,t)}function Zg(e){const t=(e-Ne)/wn;let n,s,r;for(n=e-Ne,s=0;n%wn===Ve;n/=wn,s++);for(r=wn;r<e&&Gg(r,t,e)!==e-Ne;r++);if(s===1){const i=(e+Ne)/Uo;return function(l,c){const u=l.pow(c,i);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Ne)/wn;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,u=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(d);h<c&&!a.eql(y,a.ONE);h++)y=a.sqr(y);const w=a.pow(u,Ne<<BigInt(c-h-1));u=a.sqr(w),f=a.mul(f,w),d=a.mul(d,u),c=h}return f}}function Jg(e){if(e%Uo===Wg){const t=(e+Ne)/Uo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%Ya===Ja){const t=(e-Ja)/Ya;return function(s,r){const o=s.mul(r,wn),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,wn),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return Zg(e)}const Yg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qg(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Yg.reduce((s,r)=>(s[r]="function",s),t);return $s(e,n)}function Xg(e,t,n){if(n<Ve)throw new Error("Expected power > 0");if(n===Ve)return e.ONE;if(n===Ne)return t;let s=e.ONE,r=t;for(;n>Ve;)n&Ne&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Ne;return s}function ey(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function Yc(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function ty(e,t,n=!1,s={}){if(e<=Ve)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=Yc(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Jg(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:Ri(r),ZERO:Ve,ONE:Ne,create:l=>qe(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Ve<=l&&l<e},is0:l=>l===Ve,isOdd:l=>(l&Ne)===Ne,neg:l=>qe(-l,e),eql:(l,c)=>l===c,sqr:l=>qe(l*l,e),add:(l,c)=>qe(l+c,e),sub:(l,c)=>qe(l-c,e),mul:(l,c)=>qe(l*c,e),pow:(l,c)=>Xg(a,l,c),div:(l,c)=>qe(l*Mo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Mo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>ey(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?xi(l,o):un(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ei(l):et(l)}});return Object.freeze(a)}function Qc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Xc(e){const t=Qc(e);return t+Math.ceil(t/2)}function ny(e,t,n=!1){const s=e.length,r=Qc(t),o=Xc(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?et(e):Ei(e),a=qe(i,t-Ne)+Ne;return n?xi(a,r):un(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sy=BigInt(0),io=BigInt(1);function ry(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>sy;)o&io&&(i=i.add(a)),a=a.double(),o>>=io;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,h=BigInt(r);for(let w=0;w<a;w++){const y=w*l;let v=Number(i&f);i>>=h,v>l&&(v-=d,i+=io);const m=y,b=y+Math.abs(v)-1,E=w%2!==0,$=v<0;v===0?u=u.add(n(E,o[m])):c=c.add(n($,o[b]))}return{p:c,f:u}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function eu(e){return Qg(e.Fp),$s(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Yc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oy(e){const t=eu(e);$s(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:iy,hexToBytes:ay}=zg,bn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=bn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:iy(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=bn,n=typeof e=="string"?ay(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=bn._parseInt(n.subarray(2)),{d:i,l:a}=bn._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},Nt=BigInt(0),it=BigInt(1);BigInt(2);const Qa=BigInt(3);BigInt(4);function ly(e){const t=oy(e),{Fp:n}=t,s=t.toBytes||((w,y,v)=>{const m=y.toAffine();return kn(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),r=t.fromBytes||(w=>{const y=w.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),m=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:m}});function o(w){const{a:y,b:v}=t,m=n.sqr(w),b=n.mul(m,w);return n.add(n.add(b,n.mul(w,y)),v)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(w){return typeof w=="bigint"&&Nt<w&&w<t.n}function a(w){if(!i(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(w){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:m,n:b}=t;if(y&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Wn(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(v*2,"0")}let E;try{E=typeof w=="bigint"?w:et(ze("private key",w,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof w}`)}return m&&(E=qe(E,b)),a(E),E}const c=new Map;function u(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,v,m){if(this.px=y,this.py=v,this.pz=m,y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(y){const{x:v,y:m}=y||{};if(!y||!n.isValid(v)||!n.isValid(m))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const b=E=>n.eql(E,n.ZERO);return b(v)&&b(m)?f.ZERO:new f(v,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=n.invertBatch(y.map(m=>m.pz));return y.map((m,b)=>m.toAffine(v[b])).map(f.fromAffine)}static fromHex(y){const v=f.fromAffine(r(ze("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=this.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");const m=n.sqr(v),b=o(y);if(!n.eql(m,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:v,py:m,pz:b}=this,{px:E,py:$,pz:N}=y,k=n.eql(n.mul(v,N),n.mul(E,b)),V=n.eql(n.mul(m,N),n.mul($,b));return k&&V}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,m=n.mul(v,Qa),{px:b,py:E,pz:$}=this;let N=n.ZERO,k=n.ZERO,V=n.ZERO,j=n.mul(b,b),W=n.mul(E,E),Z=n.mul($,$),te=n.mul(b,E);return te=n.add(te,te),V=n.mul(b,$),V=n.add(V,V),N=n.mul(y,V),k=n.mul(m,Z),k=n.add(N,k),N=n.sub(W,k),k=n.add(W,k),k=n.mul(N,k),N=n.mul(te,N),V=n.mul(m,V),Z=n.mul(y,Z),te=n.sub(j,Z),te=n.mul(y,te),te=n.add(te,V),V=n.add(j,j),j=n.add(V,j),j=n.add(j,Z),j=n.mul(j,te),k=n.add(k,j),Z=n.mul(E,$),Z=n.add(Z,Z),j=n.mul(Z,te),N=n.sub(N,j),V=n.mul(Z,W),V=n.add(V,V),V=n.add(V,V),new f(N,k,V)}add(y){u(y);const{px:v,py:m,pz:b}=this,{px:E,py:$,pz:N}=y;let k=n.ZERO,V=n.ZERO,j=n.ZERO;const W=t.a,Z=n.mul(t.b,Qa);let te=n.mul(v,E),M=n.mul(m,$),Q=n.mul(b,N),D=n.add(v,m),R=n.add(E,$);D=n.mul(D,R),R=n.add(te,M),D=n.sub(D,R),R=n.add(v,b);let P=n.add(E,N);return R=n.mul(R,P),P=n.add(te,Q),R=n.sub(R,P),P=n.add(m,b),k=n.add($,N),P=n.mul(P,k),k=n.add(M,Q),P=n.sub(P,k),j=n.mul(W,R),k=n.mul(Z,Q),j=n.add(k,j),k=n.sub(M,j),j=n.add(M,j),V=n.mul(k,j),M=n.add(te,te),M=n.add(M,te),Q=n.mul(W,Q),R=n.mul(Z,R),M=n.add(M,Q),Q=n.sub(te,Q),Q=n.mul(W,Q),R=n.add(R,Q),te=n.mul(M,R),V=n.add(V,te),te=n.mul(P,R),k=n.mul(D,k),k=n.sub(k,te),te=n.mul(D,M),j=n.mul(P,j),j=n.add(j,te),new f(k,V,j)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return h.wNAFCached(this,c,y,v=>{const m=n.invertBatch(v.map(b=>b.pz));return v.map((b,E)=>b.toAffine(m[E])).map(f.fromAffine)})}multiplyUnsafe(y){const v=f.ZERO;if(y===Nt)return v;if(a(y),y===it)return this;const{endo:m}=t;if(!m)return h.unsafeLadder(this,y);let{k1neg:b,k1:E,k2neg:$,k2:N}=m.splitScalar(y),k=v,V=v,j=this;for(;E>Nt||N>Nt;)E&it&&(k=k.add(j)),N&it&&(V=V.add(j)),j=j.double(),E>>=it,N>>=it;return b&&(k=k.negate()),$&&(V=V.negate()),V=new f(n.mul(V.px,m.beta),V.py,V.pz),k.add(V)}multiply(y){a(y);let v=y,m,b;const{endo:E}=t;if(E){const{k1neg:$,k1:N,k2neg:k,k2:V}=E.splitScalar(v);let{p:j,f:W}=this.wNAF(N),{p:Z,f:te}=this.wNAF(V);j=h.constTimeNegate($,j),Z=h.constTimeNegate(k,Z),Z=new f(n.mul(Z.px,E.beta),Z.py,Z.pz),m=j.add(Z),b=W.add(te)}else{const{p:$,f:N}=this.wNAF(v);m=$,b=N}return f.normalizeZ([m,b])[0]}multiplyAndAddUnsafe(y,v,m){const b=f.BASE,E=(N,k)=>k===Nt||k===it||!N.equals(b)?N.multiplyUnsafe(k):N.multiply(k),$=E(this,v).add(E(y,m));return $.is0()?void 0:$}toAffine(y){const{px:v,py:m,pz:b}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(b));const $=n.mul(v,y),N=n.mul(m,y),k=n.mul(b,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:$,y:N}}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===it)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===it?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),s(f,this,y)}toHex(y=!0){return Wn(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,h=ry(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function cy(e){const t=eu(e);return $s(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function uy(e){const t=cy(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(R){return Nt<R&&R<n.ORDER}function a(R){return qe(R,s)}function l(R){return Mo(R,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=ly({...t,toBytes(R,P,I){const T=P.toAffine(),q=n.toBytes(T.x),X=kn;return I?X(Uint8Array.from([P.hasEvenY()?2:3]),q):X(Uint8Array.from([4]),q,n.toBytes(T.y))},fromBytes(R){const P=R.length,I=R[0],T=R.subarray(1);if(P===r&&(I===2||I===3)){const q=et(T);if(!i(q))throw new Error("Point is not on curve");const X=f(q);let ie=n.sqrt(X);const ee=(ie&it)===it;return(I&1)===1!==ee&&(ie=n.neg(ie)),{x:q,y:ie}}else if(P===o&&I===4){const q=n.fromBytes(T.subarray(0,n.BYTES)),X=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:q,y:X}}else throw new Error(`Point of length ${P} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),h=R=>Wn(un(R,t.nByteLength));function w(R){const P=s>>it;return R>P}function y(R){return w(R)?a(-R):R}const v=(R,P,I)=>et(R.slice(P,I));class m{constructor(P,I,T){this.r=P,this.s=I,this.recovery=T,this.assertValidity()}static fromCompact(P){const I=t.nByteLength;return P=ze("compactSignature",P,I*2),new m(v(P,0,I),v(P,I,2*I))}static fromDER(P){const{r:I,s:T}=bn.toSig(ze("DER",P));return new m(I,T)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new m(this.r,this.s,P)}recoverPublicKey(P){const{r:I,s:T,recovery:q}=this,X=V(ze("msgHash",P));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const ie=q===2||q===3?I+t.n:I;if(ie>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=q&1?"03":"02",ge=c.fromHex(ee+h(ie)),oe=l(ie),ae=a(-X*oe),z=a(T*oe),x=c.BASE.multiplyAndAddUnsafe(ge,ae,z);if(!x)throw new Error("point at infinify");return x.assertValidity(),x}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Gn(this.toDERHex())}toDERHex(){return bn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Gn(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Xc(t.n);return ny(t.randomBytes(R),t.n)},precompute(R=8,P=c.BASE){return P._setWindowSize(R),P.multiply(BigInt(3)),P}};function E(R,P=!0){return c.fromPrivateKey(R).toRawBytes(P)}function $(R){const P=R instanceof Uint8Array,I=typeof R=="string",T=(P||I)&&R.length;return P?T===r||T===o:I?T===2*r||T===2*o:R instanceof c}function N(R,P,I=!0){if($(R))throw new Error("first arg must be private key");if(!$(P))throw new Error("second arg must be public key");return c.fromHex(P).multiply(u(R)).toRawBytes(I)}const k=t.bits2int||function(R){const P=et(R),I=R.length*8-t.nBitLength;return I>0?P>>BigInt(I):P},V=t.bits2int_modN||function(R){return a(k(R))},j=Ri(t.nBitLength);function W(R){if(typeof R!="bigint")throw new Error("bigint expected");if(!(Nt<=R&&R<j))throw new Error(`bigint expected < 2^${t.nBitLength}`);return un(R,t.nByteLength)}function Z(R,P,I=te){if(["recovered","canonical"].some(B=>B in I))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:q}=t;let{lowS:X,prehash:ie,extraEntropy:ee}=I;X==null&&(X=!0),R=ze("msgHash",R),ie&&(R=ze("prehashed msgHash",T(R)));const ge=V(R),oe=u(P),ae=[W(oe),W(ge)];if(ee!=null){const B=ee===!0?q(n.BYTES):ee;ae.push(ze("extraEntropy",B))}const z=kn(...ae),x=ge;function H(B){const A=k(B);if(!d(A))return;const se=l(A),he=c.BASE.multiply(A).toAffine(),p=a(he.x);if(p===Nt)return;const g=a(se*a(x+p*oe));if(g===Nt)return;let S=(he.x===p?0:2)|Number(he.y&it),O=g;return X&&w(g)&&(O=y(g),S^=1),new m(p,O,S)}return{seed:z,k2sig:H}}const te={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};function Q(R,P,I=te){const{seed:T,k2sig:q}=Z(R,P,I),X=t;return Jc(X.hash.outputLen,X.nByteLength,X.hmac)(T,q)}c.BASE._setWindowSize(8);function D(R,P,I,T=M){var he;const q=R;if(P=ze("msgHash",P),I=ze("publicKey",I),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:ie}=T;let ee,ge;try{if(typeof q=="string"||q instanceof Uint8Array)try{ee=m.fromDER(q)}catch(p){if(!(p instanceof bn.Err))throw p;ee=m.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:p,s:g}=q;ee=new m(p,g)}else throw new Error("PARSE");ge=c.fromHex(I)}catch(p){if(p.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&ee.hasHighS())return!1;ie&&(P=t.hash(P));const{r:oe,s:ae}=ee,z=V(P),x=l(ae),H=a(z*x),B=a(oe*x),A=(he=c.BASE.multiplyAndAddUnsafe(ge,H,B))==null?void 0:he.toAffine();return A?a(A.x)===oe:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:N,sign:Q,verify:D,ProjectivePoint:c,Signature:m,utils:b}}let tu=class extends zc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Sg(t);const s=mi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return sr(this),this.iHash.update(t),this}digestInto(t){sr(this),qc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const nu=(e,t,n)=>new tu(e,t).update(n).digest();nu.create=(e,t)=>new tu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fy(e){return{hash:e,hmac:(t,...n)=>nu(e,t,Ag(...n)),randomBytes:Wc}}function dy(e,t){const n=s=>uy({...e,...fy(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ir=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),rr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),su=BigInt(1),or=BigInt(2),Xa=(e,t)=>(e+t/or)/t;function ru(e){const t=Ir,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=ot(u,n,t)*u%t,d=ot(f,n,t)*u%t,h=ot(d,or,t)*c%t,w=ot(h,r,t)*h%t,y=ot(w,o,t)*w%t,v=ot(y,a,t)*y%t,m=ot(v,l,t)*v%t,b=ot(m,a,t)*y%t,E=ot(b,n,t)*u%t,$=ot(E,i,t)*w%t,N=ot($,s,t)*c%t,k=ot(N,or,t);if(!Ho.eql(Ho.sqr(k),e))throw new Error("Cannot find square root");return k}const Ho=ty(Ir,void 0,void 0,{sqrt:ru}),Xn=dy({a:BigInt(0),b:BigInt(7),Fp:Ho,n:rr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=rr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-su*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Xa(o*e,t),l=Xa(-s*e,t);let c=qe(e-a*n-l*r,t),u=qe(-a*s-l*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Oo),Pr=BigInt(0),ou=e=>typeof e=="bigint"&&Pr<e&&e<Ir,hy=e=>typeof e=="bigint"&&Pr<e&&e<rr,el={};function ir(e,...t){let n=el[e];if(n===void 0){const s=Oo(Uint8Array.from(e,r=>r.charCodeAt(0)));n=kn(s,s),el[e]=n}return Oo(kn(n,...t))}const Si=e=>e.toRawBytes(!0).slice(1),jo=e=>un(e,32),ao=e=>qe(e,Ir),Es=e=>qe(e,rr),ki=Xn.ProjectivePoint,py=(e,t,n)=>ki.BASE.multiplyAndAddUnsafe(e,t,n);function Vo(e){let t=Xn.utils.normPrivateKeyToScalar(e),n=ki.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Es(-t),bytes:Si(n)}}function iu(e){if(!ou(e))throw new Error("bad x: need 0 < x < p");const t=ao(e*e),n=ao(t*e+BigInt(7));let s=ru(n);s%or!==Pr&&(s=ao(-s));const r=new ki(e,s,su);return r.assertValidity(),r}function au(...e){return Es(et(ir("BIP0340/challenge",...e)))}function gy(e){return Vo(e).bytes}function yy(e,t,n=Wc(32)){const s=ze("message",e),{bytes:r,scalar:o}=Vo(t),i=ze("auxRand",n,32),a=jo(o^et(ir("BIP0340/aux",i))),l=ir("BIP0340/nonce",a,r,s),c=Es(et(l));if(c===Pr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Vo(c),d=au(u,r,s),h=new Uint8Array(64);if(h.set(u,0),h.set(jo(Es(f+d*o)),32),!lu(h,s,r))throw new Error("sign: Invalid signature produced");return h}function lu(e,t,n){const s=ze("signature",e,64),r=ze("message",t),o=ze("publicKey",n,32);try{const i=iu(et(o)),a=et(s.subarray(0,32));if(!ou(a))return!1;const l=et(s.subarray(32,64));if(!hy(l))return!1;const c=au(jo(a),Si(i),r),u=py(i,l,Es(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const rs=(()=>({getPublicKey:gy,sign:yy,verify:lu,utils:{randomPrivateKey:Xn.utils.randomPrivateKey,lift_x:iu,pointToBytes:Si,numberToBytesBE:un,bytesToNumberBE:et,taggedHash:ir,mod:qe}}))(),lo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $i=e=>e instanceof Uint8Array,co=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_t=(e,t)=>e<<32-t|e>>>t,vy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vy)throw new Error("Non little-endian hardware is not supported");const _y=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xe(e){if(!$i(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=_y[e[n]];return t}function Zn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function cu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function xs(e){if(typeof e=="string"&&(e=cu(e)),!$i(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function ar(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!$i(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class uu{clone(){return this._cloneInto()}}function fu(e){const t=s=>e().update(xs(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function du(e=32){if(lo&&typeof lo.getRandomValues=="function")return lo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Fo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function wy(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function hu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function my(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Fo(e.outputLen),Fo(e.blockLen)}function by(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ey(e,t){hu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Et={number:Fo,bool:wy,bytes:hu,hash:my,exists:by,output:Ey};function xy(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class Ry extends uu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=co(this.buffer)}update(t){Et.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=xs(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=co(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Et.exists(this),Et.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;xy(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=co(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const Sy=(e,t,n)=>e&t^~e&n,ky=(e,t,n)=>e&t^e&n^t&n,$y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=new Uint32Array(64);class pu extends Ry{constructor(){super(64,32,8,!1),this.A=Zt[0]|0,this.B=Zt[1]|0,this.C=Zt[2]|0,this.D=Zt[3]|0,this.E=Zt[4]|0,this.F=Zt[5]|0,this.G=Zt[6]|0,this.H=Zt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Jt[f-15],h=Jt[f-2],w=_t(d,7)^_t(d,18)^d>>>3,y=_t(h,17)^_t(h,19)^h>>>10;Jt[f]=y+Jt[f-7]+w+Jt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=_t(a,6)^_t(a,11)^_t(a,25),h=u+d+Sy(a,l,c)+$y[f]+Jt[f]|0,y=(_t(s,2)^_t(s,13)^_t(s,22))+ky(s,r,o)|0;u=c,c=l,l=a,a=i+h|0,i=o,o=r,r=s,s=h+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Cy extends pu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ps=fu(()=>new pu);fu(()=>new Cy);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function es(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ft(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function Dt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(es(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function qt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Tr(e,t="="){if(es(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function gu(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function tl(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(es(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[l]=Math.floor(u/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const yu=(e,t)=>t?yu(t,e%t):e,lr=(e,t)=>e+(t-yu(e,t));function Do(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(lr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${lr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(es(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function Ay(e){return es(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return tl(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(tl(t,e,2**8))}}}function dn(e,t=!1){if(es(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(lr(8,e)>32||lr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Do(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Do(n,e,8,t))}}}function nl(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const Iy=Ft(dn(4),Dt("0123456789ABCDEF"),qt("")),Py=Ft(dn(5),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Tr(5),qt(""));Ft(dn(5),Dt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Tr(5),qt(""));Ft(dn(5),Dt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),qt(""),gu(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const jt=Ft(dn(6),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Tr(6),qt("")),Ty=Ft(dn(6),Dt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Tr(6),qt("")),Ci=e=>Ft(Ay(58),Dt(e),qt("")),qo=Ci("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ci("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ci("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const sl=[0,2,3,5,6,7,9,10,11],By={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=qo.encode(s).padStart(sl[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=sl.indexOf(s.length),o=qo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},Ko=Ft(Dt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),qt("")),rl=[996825010,642813549,513874426,1027748829,705979059];function os(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<rl.length;s++)(t>>s&1)===1&&(n^=rl[s]);return n}function ol(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=os(r)^i>>5}r=os(r);for(let o=0;o<s;o++)r=os(r)^e.charCodeAt(o)&31;for(let o of t)r=os(r)^o;for(let o=0;o<6;o++)r=os(r);return r^=n,Ko.encode(Do([r%2**30],30,5,!1))}function vu(e){const t=e==="bech32"?1:734539939,n=dn(5),s=n.decode,r=n.encode,o=nl(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const h=u.length+7+f.length;if(d!==!1&&h>d)throw new TypeError(`Length ${h} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${Ko.encode(f)}${ol(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const h=u.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=u.slice(0,h),y=u.slice(h+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const v=Ko.decode(y).slice(0,-6),m=ol(w,v,t);if(!y.endsWith(m))throw new Error(`Invalid checksum in ${u}: expected "${m}"`);return{prefix:w,words:v}}const l=nl(a);function c(u){const{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const Jn=vu("bech32");vu("bech32m");const Ny={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Ly=Ft(dn(4),Dt("0123456789abcdef"),qt(""),gu(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),Oy={utf8:Ny,hex:Ly,base16:Iy,base32:Py,base64:jt,base64url:Ty,base58:qo,base58xmr:By};`${Object.keys(Oy).join(", ")}`;function uo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function il(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Uy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ot(e,...t){if(!Uy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Ge=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),My=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!My)throw new Error("Non little-endian hardware is not supported");function _u(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Hy(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function jy(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const Vy=(e,t)=>(Object.assign(t,e),t),ln=16,Fy=283;function Ai(e){return e<<1^Fy&-(e>>7)}function Ln(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Ai(e);return n}const zo=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Ai(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),Dy=zo.map((e,t)=>zo.indexOf(t)),qy=e=>e<<24|e>>>8,fo=e=>e<<8|e>>>24;function wu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(fo),r=s.map(fo),o=r.map(fo),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],a[f]=r[c]^o[u],l[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Ii=wu(zo,e=>Ln(e,3)<<24|e<<16|e<<8|Ln(e,2)),mu=wu(Dy,e=>Ln(e,11)<<24|Ln(e,13)<<16|Ln(e,9)<<8|Ln(e,14)),Ky=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Ai(n))e[t]=n;return e})();function bu(e){Ot(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Ii,s=Ge(e),r=s.length,o=a=>xt(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(qy(l))^Ky[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function zy(e){const t=bu(e),n=t.slice(),s=t.length,{sbox2:r}=Ii,{T0:o,T1:i,T2:a,T3:l}=mu;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=xt(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function nn(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function xt(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function al(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Ii;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^nn(i,a,t,n,s,r),v=e[l++]^nn(i,a,n,s,r,t),m=e[l++]^nn(i,a,s,r,t,n),b=e[l++]^nn(i,a,r,t,n,s);t=y,n=v,s=m,r=b}const u=e[l++]^xt(o,t,n,s,r),f=e[l++]^xt(o,n,s,r,t),d=e[l++]^xt(o,s,r,t,n),h=e[l++]^xt(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:h}}function Wy(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=mu;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^nn(i,a,t,r,s,n),v=e[l++]^nn(i,a,n,t,r,s),m=e[l++]^nn(i,a,s,n,t,r),b=e[l++]^nn(i,a,r,s,n,t);t=y,n=v,s=m,r=b}const u=e[l++]^xt(o,t,r,s,n),f=e[l++]^xt(o,n,t,r,s),d=e[l++]^xt(o,s,n,t,r),h=e[l++]^xt(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:h}}function Eu(e,t){if(!t)return new Uint8Array(e);if(Ot(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function Gy(e){if(Ot(e),e.length%ln!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${ln}`)}function Zy(e,t,n){let s=e.length;const r=s%ln;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Ge(e);if(t){let l=ln-r;l||(l=ln),s=s+l}const i=Eu(s,n),a=Ge(i);return{b:o,o:a,out:i}}function Jy(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function Yy(e){const t=new Uint8Array(16),n=Ge(t);t.set(e);const s=ln-e.length;for(let r=ln-s;r<ln;r++)t[r]=s;return n}const xu=Vy({blockSize:16,nonceLength:16},function(t,n,s={}){Ot(t),Ot(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=bu(t),{b:l,o:c,out:u}=Zy(o,r,i),f=Ge(n);let d=f[0],h=f[1],w=f[2],y=f[3],v=0;for(;v+4<=l.length;)d^=l[v+0],h^=l[v+1],w^=l[v+2],y^=l[v+3],{s0:d,s1:h,s2:w,s3:y}=al(a,d,h,w,y),c[v++]=d,c[v++]=h,c[v++]=w,c[v++]=y;if(r){const m=Yy(o.subarray(v*4));d^=m[0],h^=m[1],w^=m[2],y^=m[3],{s0:d,s1:h,s2:w,s3:y}=al(a,d,h,w,y),c[v++]=d,c[v++]=h,c[v++]=w,c[v++]=y}return a.fill(0),u},decrypt:(o,i)=>{Gy(o);const a=zy(t),l=Ge(n),c=Eu(o.length,i),u=Ge(o),f=Ge(c);let d=l[0],h=l[1],w=l[2],y=l[3];for(let v=0;v+4<=u.length;){const m=d,b=h,E=w,$=y;d=u[v+0],h=u[v+1],w=u[v+2],y=u[v+3];const{s0:N,s1:k,s2:V,s3:j}=Wy(a,d,h,w,y);f[v++]=N^m,f[v++]=k^b,f[v++]=V^E,f[v++]=j^$}return a.fill(0),Jy(c,r)}}}),Qy=_u("expand 16-byte k"),Xy=_u("expand 32-byte k"),e0=Ge(Qy),t0=Ge(Xy);function Ee(e,t){return e<<t|e>>>32-t}function Wo(e){return e.byteOffset%4===0}const Hs=64,n0=16,Ru=2**32-1,ll=new Uint32Array;function s0(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(Hs),u=Ge(c),f=Wo(r)&&Wo(o),d=f?Ge(r):ll,h=f?Ge(o):ll;for(let w=0;w<l;i++){if(e(t,n,s,u,i,a),i>=Ru)throw new Error("arx: counter overflow");const y=Math.min(Hs,l-w);if(f&&y===Hs){const v=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let m=0,b;m<n0;m++)b=v+m,h[b]=d[b]^u[m];w+=Hs;continue}for(let v=0,m;v<y;v++)m=w+v,o[m]=r[m]^c[v];w+=y}}function r0(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=Hy({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return uo(r),uo(i),il(o),il(n),(a,l,c,u,f=0)=>{Ot(a),Ot(l),Ot(c);const d=c.length;if(u||(u=new Uint8Array(d)),Ot(u),uo(f),f<0||f>=Ru)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let w=a.length,y,v;if(w===32)y=a.slice(),h.push(y),v=t0;else if(w===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),v=e0,h.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);Wo(l)||(l=l.slice(),h.push(l));const m=Ge(y);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(v,m,Ge(l.subarray(0,16)),m),l=l.subarray(16)}const b=16-r;if(b!==l.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const $=new Uint8Array(12);$.set(l,o?0:12-l.length),l=$,h.push(l)}const E=Ge(l);for(s0(e,v,m,E,c,u,f,i);h.length>0;)h.pop().fill(0);return u}}function o0(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],d=t[2],h=t[3],w=t[4],y=t[5],v=t[6],m=t[7],b=r,E=n[0],$=n[1],N=n[2],k=i,V=a,j=l,W=c,Z=u,te=f,M=d,Q=h,D=w,R=y,P=v,I=m,T=b,q=E,X=$,ie=N;for(let ge=0;ge<o;ge+=2)k=k+Z|0,T=Ee(T^k,16),D=D+T|0,Z=Ee(Z^D,12),k=k+Z|0,T=Ee(T^k,8),D=D+T|0,Z=Ee(Z^D,7),V=V+te|0,q=Ee(q^V,16),R=R+q|0,te=Ee(te^R,12),V=V+te|0,q=Ee(q^V,8),R=R+q|0,te=Ee(te^R,7),j=j+M|0,X=Ee(X^j,16),P=P+X|0,M=Ee(M^P,12),j=j+M|0,X=Ee(X^j,8),P=P+X|0,M=Ee(M^P,7),W=W+Q|0,ie=Ee(ie^W,16),I=I+ie|0,Q=Ee(Q^I,12),W=W+Q|0,ie=Ee(ie^W,8),I=I+ie|0,Q=Ee(Q^I,7),k=k+te|0,ie=Ee(ie^k,16),P=P+ie|0,te=Ee(te^P,12),k=k+te|0,ie=Ee(ie^k,8),P=P+ie|0,te=Ee(te^P,7),V=V+M|0,T=Ee(T^V,16),I=I+T|0,M=Ee(M^I,12),V=V+M|0,T=Ee(T^V,8),I=I+T|0,M=Ee(M^I,7),j=j+Q|0,q=Ee(q^j,16),D=D+q|0,Q=Ee(Q^D,12),j=j+Q|0,q=Ee(q^j,8),D=D+q|0,Q=Ee(Q^D,7),W=W+Z|0,X=Ee(X^W,16),R=R+X|0,Z=Ee(Z^R,12),W=W+Z|0,X=Ee(X^W,8),R=R+X|0,Z=Ee(Z^R,7);let ee=0;s[ee++]=i+k|0,s[ee++]=a+V|0,s[ee++]=l+j|0,s[ee++]=c+W|0,s[ee++]=u+Z|0,s[ee++]=f+te|0,s[ee++]=d+M|0,s[ee++]=h+Q|0,s[ee++]=w+D|0,s[ee++]=y+R|0,s[ee++]=v+P|0,s[ee++]=m+I|0,s[ee++]=b+T|0,s[ee++]=E+q|0,s[ee++]=$+X|0,s[ee++]=N+ie|0}const Su=r0(o0,{counterRight:!1,counterLength:4,allowShortKeys:!1});class ku extends uu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Et.hash(t);const s=xs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Et.exists(this),this.iHash.update(t),this}digestInto(t){Et.exists(this),Et.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Br=(e,t,n)=>new ku(e,t).update(n).digest();Br.create=(e,t)=>new ku(e,t);function i0(e,t,n){return Et.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Br(e,xs(n),xs(t))}const ho=new Uint8Array([0]),cl=new Uint8Array;function a0(e,t,n,s=32){if(Et.hash(e),Et.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=cl);const o=new Uint8Array(r*e.outputLen),i=Br.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)ho[0]=c+1,a.update(c===0?cl:l).update(n).update(ho).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),ho.fill(0),o.slice(0,s)}var l0=Object.defineProperty,Le=(e,t)=>{for(var n in t)l0(e,n,{get:t[n],enumerable:!0})},yn=Symbol("verified"),c0=e=>e instanceof Object;function $u(e){if(!c0(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var Cs={};Le(Cs,{Queue:()=>Au,QueueNode:()=>Cu,binarySearch:()=>Pi,insertEventIntoAscendingList:()=>f0,insertEventIntoDescendingList:()=>u0,normalizeURL:()=>On,utf8Decoder:()=>Lt,utf8Encoder:()=>St});var Lt=new TextDecoder("utf-8"),St=new TextEncoder;function On(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function u0(e,t){const[n,s]=Pi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function f0(e,t){const[n,s]=Pi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Pi(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var Cu=class{constructor(e){ve(this,"value");ve(this,"next",null);ve(this,"prev",null);this.value=e}},Au=class{constructor(){ve(this,"first");ve(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Cu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},d0=class{generateSecretKey(){return rs.utils.randomPrivateKey()}getPublicKey(e){return Xe(rs.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Xe(rs.getPublicKey(t)),n.id=zs(n),n.sig=Xe(rs.sign(zs(n),t)),n[yn]=!0,n}verifyEvent(e){if(typeof e[yn]=="boolean")return e[yn];const t=zs(e);if(t!==e.id)return e[yn]=!1,!1;try{const n=rs.verify(e.sig,t,e.pubkey);return e[yn]=n,n}catch{return e[yn]=!1,!1}}};function h0(e){if(!$u(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function zs(e){let t=ps(St.encode(h0(e)));return Xe(t)}var Nr=new d0,p0=Nr.generateSecretKey,g0=Nr.getPublicKey,pt=Nr.finalizeEvent,An=Nr.verifyEvent,y0={};Le(y0,{Application:()=>yv,BadgeAward:()=>S0,BadgeDefinition:()=>cv,BlockedRelaysList:()=>G0,BookmarkList:()=>K0,Bookmarksets:()=>iv,Calendar:()=>xv,CalendarEventRSVP:()=>Rv,ChannelCreation:()=>Nu,ChannelHideMessage:()=>Uu,ChannelMessage:()=>Ou,ChannelMetadata:()=>Lu,ChannelMuteUser:()=>Mu,ClassifiedListing:()=>wv,ClientAuth:()=>Hu,CommunitiesList:()=>z0,CommunityDefinition:()=>$v,CommunityPostApproval:()=>N0,Contacts:()=>b0,CreateOrUpdateProduct:()=>dv,CreateOrUpdateStall:()=>fv,Curationsets:()=>av,Date:()=>bv,DraftClassifiedListing:()=>mv,DraftLong:()=>pv,Emojisets:()=>gv,EncryptedDirectMessage:()=>E0,EncryptedDirectMessages:()=>x0,EventDeletion:()=>R0,FileMetadata:()=>C0,FileServerPreference:()=>Q0,Followsets:()=>sv,GenericRepost:()=>k0,Genericlists:()=>rv,HTTPAuth:()=>Ni,Handlerinformation:()=>kv,Handlerrecommendation:()=>Sv,Highlights:()=>V0,InterestsList:()=>J0,Interestsets:()=>uv,JobFeedback:()=>U0,JobRequest:()=>L0,JobResult:()=>O0,Label:()=>B0,LightningPubRPC:()=>ev,LiveChatMessage:()=>A0,LiveEvent:()=>vv,LongFormArticle:()=>hv,Metadata:()=>_0,Mutelist:()=>F0,NWCWalletInfo:()=>X0,NWCWalletRequest:()=>ju,NWCWalletResponse:()=>tv,NostrConnect:()=>nv,OpenTimestamps:()=>$0,Pinlist:()=>D0,ProblemTracker:()=>I0,ProfileBadges:()=>lv,PublicChatsList:()=>W0,Reaction:()=>Bi,RecommendRelay:()=>m0,RelayList:()=>q0,Relaysets:()=>ov,Report:()=>P0,Reporting:()=>T0,Repost:()=>Ti,SearchRelaysList:()=>Z0,ShortTextNote:()=>w0,Time:()=>Ev,UserEmojiList:()=>Y0,UserStatuses:()=>_v,Zap:()=>j0,ZapGoal:()=>M0,ZapRequest:()=>H0,classifyKind:()=>v0,isEphemeralKind:()=>Tu,isParameterizedReplaceableKind:()=>Bu,isRegularKind:()=>Iu,isReplaceableKind:()=>Pu});function Iu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Pu(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Tu(e){return 2e4<=e&&e<3e4}function Bu(e){return 3e4<=e&&e<4e4}function v0(e){return Iu(e)?"regular":Pu(e)?"replaceable":Tu(e)?"ephemeral":Bu(e)?"parameterized":"unknown"}var _0=0,w0=1,m0=2,b0=3,E0=4,x0=4,R0=5,Ti=6,Bi=7,S0=8,k0=16,Nu=40,Lu=41,Ou=42,Uu=43,Mu=44,$0=1040,C0=1063,A0=1311,I0=1971,P0=1984,T0=1984,B0=1985,N0=4550,L0=5999,O0=6999,U0=7e3,M0=9041,H0=9734,j0=9735,V0=9802,F0=1e4,D0=10001,q0=10002,K0=10003,z0=10004,W0=10005,G0=10006,Z0=10007,J0=10015,Y0=10030,Q0=10096,X0=13194,ev=21e3,Hu=22242,ju=23194,tv=23195,nv=24133,Ni=27235,sv=3e4,rv=30001,ov=30002,iv=30003,av=30004,lv=30008,cv=30009,uv=30015,fv=30017,dv=30018,hv=30023,pv=30024,gv=30030,yv=30078,vv=30311,_v=30315,wv=30402,mv=30403,bv=31922,Ev=31923,xv=31924,Rv=31925,Sv=31989,kv=31990,$v=34550;function Cv(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Av(e,t){for(let n=0;n<e.length;n++)if(Cv(e[n],t))return!0;return!1}var Iv={};Le(Iv,{getHex64:()=>Lr,getInt:()=>Vu,getSubscriptionId:()=>Fu,matchEventId:()=>Pv,matchEventKind:()=>Bv,matchEventPubkey:()=>Tv});function Lr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Vu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function Fu(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function Pv(e,t){return t===Lr(e,"id")}function Tv(e,t){return t===Lr(e,"pubkey")}function Bv(e,t){return t===Vu(e,"kind")}var Nv={};Le(Nv,{makeAuthEvent:()=>Du});function Du(e,t){return{kind:Hu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function Lv(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var Ov=e=>(e[yn]=!0,!0),qu;try{qu=WebSocket}catch{}var Li=class{constructor(e,t){ve(this,"url");ve(this,"_connected",!1);ve(this,"onclose",null);ve(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ve(this,"baseEoseTimeout",4400);ve(this,"connectionTimeout",4400);ve(this,"openSubs",new Map);ve(this,"connectionTimeoutHandle");ve(this,"connectionPromise");ve(this,"openCountRequests",new Map);ve(this,"openEventPublishes",new Map);ve(this,"ws");ve(this,"incomingMessageQueue",new Au);ve(this,"queueRunning",!1);ve(this,"challenge");ve(this,"serial",0);ve(this,"verifyEvent");this.url=On(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Li(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new qu(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&((s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"),this._connected=!1)},this.ws.onclose=async()=>{var n;this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"),this._connected=!1},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Lv();this.queueRunning=!1}handleNext(){var n,s;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=Fu(e);if(t){const r=this.openSubs.get(t);if(!r)return;const o=Lr(e,"id"),i=(n=r.alreadyHaveEvent)==null?void 0:n.call(r,o);if((s=r.receivedEvent)==null||s.call(r,this,o),i)return}try{let r=JSON.parse(e);switch(r[0]){case"EVENT":{const o=this.openSubs.get(r[1]),i=r[2];this.verifyEvent(i)&&Av(o.filters,i)&&o.onevent(i);return}case"COUNT":{const o=r[1],i=r[2],a=this.openCountRequests.get(o);a&&(a.resolve(i.count),this.openCountRequests.delete(o));return}case"EOSE":{const o=this.openSubs.get(r[1]);if(!o)return;o.receivedEose();return}case"OK":{const o=r[1],i=r[2],a=r[3],l=this.openEventPublishes.get(o);i?l.resolve(a):l.reject(new Error(a)),this.openEventPublishes.delete(o);return}case"CLOSED":{const o=r[1],i=this.openSubs.get(o);if(!i)return;i.closed=!0,i.close(r[2]);return}case"NOTICE":this.onnotice(r[1]);return;case"AUTH":{this.challenge=r[1];return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(Du(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new Uv(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Uv=class{constructor(e,t,n,s){ve(this,"relay");ve(this,"id");ve(this,"closed",!1);ve(this,"eosed",!1);ve(this,"filters");ve(this,"alreadyHaveEvent");ve(this,"receivedEvent");ve(this,"onevent");ve(this,"oneose");ve(this,"onclose");ve(this,"eoseTimeout");ve(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;this.closed||(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},Go=class extends Li{constructor(e){super(e,{verifyEvent:An})}static async connect(e){const t=new Go(e);return await t.connect(),t}},Mv=class{constructor(e){ve(this,"relays",new Map);ve(this,"seenOn",new Map);ve(this,"trackRelays",!1);ve(this,"verifyEvent");ve(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=On(e);let n=this.relays.get(e);return n||(n=new Li(e,{verifyEvent:this.trustedRelayURLs.has(e)?Ov:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(On).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){this.trackRelays&&(n.receivedEvent=(f,d)=>{let h=this.seenOn.get(d);h||(h=new Set,this.seenOn.set(d,h)),h.add(f)});const s=new Set,r=[],o=[];let i=f=>{var d;o[f]=!0,o.filter(h=>h).length===e.length&&((d=n.oneose)==null||d.call(n),i=()=>{})};const a=[];let l=(f,d)=>{var h;i(f),a[f]=d,a.filter(w=>w).length===e.length&&((h=n.onclose)==null||h.call(n,a),l=()=>{})};const c=f=>{var h;if((h=n.alreadyHaveEvent)!=null&&h.call(n,f))return!0;const d=s.has(f);return s.add(f),d},u=Promise.all(e.map(On).map(async(f,d,h)=>{if(h.indexOf(f)!==d){l(d,"duplicate url");return}let w;try{w=await this.ensureRelay(f,{connectionTimeout:n.maxWait?Math.max(n.maxWait*.8,n.maxWait-1e3):void 0})}catch(v){l(d,(v==null?void 0:v.message)||String(v));return}let y=w.subscribe(t,{...n,oneose:()=>i(d),onclose:v=>l(d,v),alreadyHaveEvent:c,eoseTimeout:n.maxWait});r.push(y)}));return{async close(){await u,r.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(On).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},Ht=class extends Mv{constructor(){super({verifyEvent:An})}},Fe={};Le(Fe,{BECH32_REGEX:()=>Ku,Bech32MaxSize:()=>Oi,decode:()=>As,encodeBytes:()=>Or,naddrEncode:()=>Kv,neventEncode:()=>qv,noteEncode:()=>Fv,nprofileEncode:()=>Dv,npubEncode:()=>Vv,nrelayEncode:()=>zv,nsecEncode:()=>jv});var Oi=5e3,Ku=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Hv(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function As(e){var r,o,i,a,l,c,u,f;let{prefix:t,words:n}=Jn.decode(e,Oi),s=new Uint8Array(Jn.fromWords(n));switch(t){case"nprofile":{let d=js(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Xe(d[0][0]),relays:d[1]?d[1].map(h=>Lt.decode(h)):[]}}}case"nevent":{let d=js(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Xe(d[0][0]),relays:d[1]?d[1].map(h=>Lt.decode(h)):[],author:(i=d[2])!=null&&i[0]?Xe(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Xe(d[3][0]),16):void 0}}}case"naddr":{let d=js(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Lt.decode(d[0][0]),pubkey:Xe(d[2][0]),kind:parseInt(Xe(d[3][0]),16),relays:d[1]?d[1].map(h=>Lt.decode(h)):[]}}}case"nrelay":{let d=js(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Lt.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:Xe(s)};default:throw new Error(`unknown prefix ${t}`)}}function js(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function jv(e){return Or("nsec",e)}function Vv(e){return Or("npub",Zn(e))}function Fv(e){return Or("note",Zn(e))}function Is(e,t){let n=Jn.toWords(t);return Jn.encode(e,n,Oi)}function Or(e,t){return Is(e,t)}function Dv(e){let t=Ur({0:[Zn(e.pubkey)],1:(e.relays||[]).map(n=>St.encode(n))});return Is("nprofile",t)}function qv(e){let t;e.kind!==void 0&&(t=Hv(e.kind));let n=Ur({0:[Zn(e.id)],1:(e.relays||[]).map(s=>St.encode(s)),2:e.author?[Zn(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Is("nevent",n)}function Kv(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Ur({0:[St.encode(e.identifier)],1:(e.relays||[]).map(s=>St.encode(s)),2:[Zn(e.pubkey)],3:[new Uint8Array(t)]});return Is("naddr",n)}function zv(e){let t=Ur({0:[St.encode(e)]});return Is("nrelay",t)}function Ur(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),ar(...t)}var Wv=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function zu(e){let t=[];for(let n of e.content.matchAll(Wv))if(n[2])try{let{type:s,data:r}=As(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var Gv={};Le(Gv,{decrypt:()=>Zv,encrypt:()=>Wu});async function Wu(e,t,n){const s=e instanceof Uint8Array?Xe(e):e,r=Xn.getSharedSecret(s,"02"+t),o=Gu(r);let i=Uint8Array.from(du(16)),a=St.encode(n),l=xu(o,i).encrypt(a),c=jt.encode(new Uint8Array(l)),u=jt.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function Zv(e,t,n){const s=e instanceof Uint8Array?Xe(e):e;let[r,o]=n.split("?iv="),i=Xn.getSharedSecret(s,"02"+t),a=Gu(i),l=jt.decode(o),c=jt.decode(r),u=xu(a,l).decrypt(c);return Lt.decode(u)}function Gu(e){return e.slice(1,33)}var Zu={};Le(Zu,{NIP05_REGEX:()=>Ju,isValid:()=>Qv,queryProfile:()=>Yu,searchDomain:()=>Yv,useFetchImplementation:()=>Jv});var Ju=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Mr;try{Mr=fetch}catch{}function Jv(e){Mr=e}async function Yv(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Mr(n,{redirect:"error"})).json()).names}catch{return{}}}async function Yu(e){var o;const t=e.match(Ju);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await Mr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function Qv(e,t){let n=await Yu(t);return n?n.pubkey===e:!1}var kt={};Le(kt,{parse:()=>Xv});function Xv(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},u=s===0,f=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var e_={};Le(e_,{fetchRelayInformation:()=>n_,useFetchImplementation:()=>t_});var Qu;try{Qu=fetch}catch{}function t_(e){Qu=e}async function n_(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var s_={};Le(s_,{getPow:()=>Xu,minePow:()=>r_});function Xu(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function r_(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=zs(s),Xu(s.id)>=t)break}return s}var o_={};Le(o_,{finishRepostEvent:()=>i_,getRepostedEvent:()=>a_,getRepostedEventPointer:()=>ef});function i_(e,t,n,s){return pt({kind:Ti,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function ef(e){if(e.kind!==Ti)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function a_(e,{skipVerification:t}={}){const n=ef(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!An(s)))return s}var l_={};Le(l_,{NOSTR_URI_REGEX:()=>Hr,parse:()=>u_,test:()=>c_});var Hr=new RegExp(`nostr:(${Ku.source})`);function c_(e){return typeof e=="string"&&new RegExp(`^${Hr.source}$`).test(e)}function u_(e){const t=e.match(new RegExp(`^${Hr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:As(t[1])}}var f_={};Le(f_,{finishReactionEvent:()=>d_,getReactedEventPointer:()=>h_});function d_(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return pt({...e,kind:Bi,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function h_(e){if(e.kind!==Bi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var p_={};Le(p_,{matchAll:()=>g_,regex:()=>Ui,replaceAll:()=>y_});var Ui=()=>new RegExp(`\\b${Hr.source}\\b`,"g");function*g_(e){const t=e.matchAll(Ui());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:As(r),start:n.index,end:n.index+s.length}}catch{}}function y_(e,t){return e.replaceAll(Ui(),(n,s)=>t({uri:n,value:s,decoded:As(s)}))}var v_={};Le(v_,{channelCreateEvent:()=>__,channelHideMessageEvent:()=>b_,channelMessageEvent:()=>m_,channelMetadataEvent:()=>w_,channelMuteUserEvent:()=>E_});var __=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:Nu,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},w_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:Lu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},m_=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),pt({kind:Ou,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},b_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:Uu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},E_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return pt({kind:Mu,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},x_={};Le(x_,{EMOJI_SHORTCODE_REGEX:()=>tf,matchAll:()=>R_,regex:()=>Mi,replaceAll:()=>S_});var tf=/:(\w+):/,Mi=()=>new RegExp(`\\B${tf.source}\\B`,"g");function*R_(e){const t=e.matchAll(Mi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function S_(e,t){return e.replaceAll(Mi(),(n,s)=>t({shortcode:n,name:s}))}var k_={};Le(k_,{useFetchImplementation:()=>$_,validateGithub:()=>C_});var Hi;try{Hi=fetch}catch{}function $_(e){Hi=e}async function C_(e,t,n){try{return await(await Hi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var A_={};Le(A_,{default:()=>B_,v2:()=>nf});var I_=new TextDecoder,De={minPlaintextSize:1,maxPlaintextSize:65535,utf8Encode:cu,utf8Decode(e){return I_.decode(e)},getConversationKey(e,t){const n=Xn.getSharedSecret(e,"02"+t).subarray(1,33);return i0(ps,n,"nip44-v2")},getMessageKeys(e,t){const n=a0(ps,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}},calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)},writeU16BE(e){if(!Number.isSafeInteger(e)||e<De.minPlaintextSize||e>De.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t},pad(e){const t=De.utf8Encode(e),n=t.length,s=De.writeU16BE(n),r=new Uint8Array(De.calcPaddedLen(n)-n);return ar(s,t,r)},unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<De.minPlaintextSize||t>De.maxPlaintextSize||n.length!==t||e.length!==2+De.calcPaddedLen(t))throw new Error("invalid padding");return De.utf8Decode(n)},hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=ar(n,t);return Br(ps,e,s)},decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=jt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}};function P_(e,t,n=du(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=De.getMessageKeys(t,n),i=De.pad(e),a=Su(s,r,i),l=De.hmacAad(o,a,n);return jt.encode(ar(new Uint8Array([2]),n,a,l))}function T_(e,t){const{nonce:n,ciphertext:s,mac:r}=De.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=De.getMessageKeys(t,n),l=De.hmacAad(a,s,n);if(!jy(l,r))throw new Error("invalid MAC");const c=Su(o,i,s);return De.unpad(c)}var nf={utils:De,encrypt:P_,decrypt:T_},B_={v2:nf},N_={};Le(N_,{makeNwcRequestEvent:()=>O_,parseConnectionString:()=>L_});function L_(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function O_(e,t,n){const r=await Wu(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:ju,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return pt(o,t)}var U_={};Le(U_,{getZapEndpoint:()=>H_,makeZapReceipt:()=>F_,makeZapRequest:()=>j_,useFetchImplementation:()=>M_,validateZapRequest:()=>V_});var ji;try{ji=fetch}catch{}function M_(e){ji=e}async function H_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=Jn.decode(n,1e3),a=Jn.fromWords(i);t=Lt.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await ji(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function j_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function V_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!$u(t))return"Zap request is not a valid Nostr event.";if(!An(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function F_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var D_={};Le(D_,{getToken:()=>q_,hashPayload:()=>Vi,unpackEventFromToken:()=>rf,validateEvent:()=>ff,validateEventKind:()=>af,validateEventMethodTag:()=>cf,validateEventPayloadTag:()=>uf,validateEventTimestamp:()=>of,validateEventUrlTag:()=>lf,validateToken:()=>K_});var sf="Nostr ";async function q_(e,t,n,s=!1,r){const o={kind:Ni,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Vi(r)]);const i=await n(o);return(s?sf:"")+jt.encode(St.encode(JSON.stringify(i)))}async function K_(e,t,n){const s=await rf(e).catch(o=>{throw o});return await ff(s,t,n).catch(o=>{throw o})}async function rf(e){if(!e)throw new Error("Missing token");e=e.replace(sf,"");const t=Lt.decode(jt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function of(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function af(e){return e.kind===Ni}function lf(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function cf(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Vi(e){const t=ps(St.encode(JSON.stringify(e)));return Xe(t)}function uf(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Vi(t);return n.length>0&&n[1]===s}async function ff(e,t,n,s){if(!An(e))throw new Error("Invalid nostr event, signature invalid");if(!af(e))throw new Error("Invalid nostr event, kind invalid");if(!of(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!lf(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!cf(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!uf(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const df=e=>($t("data-v-393546d0"),e=e(),Ct(),e),z_={class:"event-details"},W_={key:0},G_={class:"highlight"},Z_={key:1},J_={key:0,class:"highlight"},Y_={key:1,class:"event-details__no-user"},Q_=df(()=>_("div",null,"No info about author on this relay.",-1)),X_={class:"highlight"},e1={key:2},t1={key:0,class:"highlight"},n1={key:1,class:"event-details__no-user"},s1=df(()=>_("div",null,"No info about author on this relay.",-1)),r1={class:"highlight"},o1=Ue({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=F(1),s=F(!0),r=F(),o=F({});At(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:w,sig:y}=l;return{id:c,pubkey:u,created_at:f,kind:d,tags:h,content:w,sig:y}},a=l=>{n.value=l};return(l,c)=>(C(),U("div",z_,[_("div",{class:Ie(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[_("span",{onClick:c[0]||(c[0]=()=>a(1)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(C(),U("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):ce("",!0),_("span",{onClick:c[2]||(c[2]=()=>a(3)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(C(),U("div",W_,[_("pre",G_,le(JSON.stringify(r.value,null,2)),1)])):ce("",!0),s.value&&n.value===2?(C(),U("div",Z_,[l.authorEvent?(C(),U("pre",J_,le(JSON.stringify(o.value,null,2)),1)):(C(),U("div",Y_,[Q_,_("pre",X_,"pubkey: "+le(l.event.pubkey)+` 
npub: `+le(ue(Fe).npubEncode(l.event.pubkey)),1)]))])):ce("",!0),n.value===3?(C(),U("div",e1,[l.event.author?(C(),U("pre",t1,le(JSON.stringify(l.event.author,null,2)),1)):(C(),U("div",n1,[s1,_("pre",r1,"pubkey: "+le(l.event.pubkey)+`
npub: `+le(ue(Fe).npubEncode(l.event.pubkey)),1)]))])):ce("",!0)]))}});const Ce=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},hf=Ce(o1,[["__scopeId","data-v-393546d0"]]),i1={},a1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},l1=_("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),c1=[l1];function u1(e,t){return C(),U("svg",a1,c1)}const f1=Ce(i1,[["render",u1]]),d1={},h1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},p1=_("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),g1=[p1];function y1(e,t){return C(),U("svg",h1,g1)}const v1=Ce(d1,[["render",y1]]),_1={},w1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},m1=_("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),b1=[m1];function E1(e,t){return C(),U("svg",w1,b1)}const x1=Ce(_1,[["render",E1]]),R1={},S1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},k1=_("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),$1=[k1];function C1(e,t){return C(),U("svg",S1,$1)}const A1=Ce(R1,[["render",C1]]),I1={class:"actions-bar"},P1={class:"actions-bar__action actions-bar__num"},T1={class:"actions_bar-number"},B1={class:"actions-bar__action actions-bar__num"},N1={class:"actions_bar-number"},L1={class:"actions_bar-number"},O1=Ue({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(C(),U("div",I1,[_("span",P1,[ye(f1,{class:"actions-bar__icon"}),_("span",T1,le(o.likes),1)]),_("span",B1,[ye(v1,{class:"actions-bar__icon"}),_("span",N1,le(o.reposts),1)]),o.hasReplyBtn?(C(),U("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ye(A1,{class:"actions-bar__icon"}),_("span",L1,le(o.replies),1)])):ce("",!0),o.hasReplyBtn?(C(),U("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ye(x1,{class:"actions-bar__icon"})])):ce("",!0)]))}});const jr=fn("npub",()=>{const e=F(""),t=F("");function n(r){e.value=r}function s(r){t.value=r}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:n,updateCachedUrl:s}}),Fi=fn("user",()=>{const e=F(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),U1={class:"event-content"},M1={key:0},H1={key:1},j1=["onClick"],V1=Ue({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=$r(),s=jr(),r=Fi(),o=F([]);At(()=>{o.value=a(t.event,t.slice)}),hi(()=>{o.value=a(t.event,t.slice)});const i=(f,d)=>{let h=[],w="";for(const y of f){const v=w.length;if(w+=y.value,w.length<=d)h.push(y);else{if(y.type==="text"){const m=d-v;y.value=y.value.slice(0,m)}h.push(y),h.push({type:"text",value:"..."});break}}return h},a=(f,d)=>{const h=f.content,w=f.references,y=[];w.forEach(b=>{let E=h.indexOf(b.text);if(y.includes(E))for(const $ of y){if(!y.includes(E))break;E=h.indexOf(b.text,E+b.text.length)}b.textIndex=E,y.push(E)}),w.sort((b,E)=>b.textIndex-E.textIndex);let v=[],m=h;return w.forEach(b=>{const E=m.indexOf(b.text),$=m.slice(0,E),N=m.slice(E+b.text.length),k=l(b);v.push({type:"text",value:$}),v.push({type:"profile",value:k,npub:c(b.profile.pubkey)}),m=N}),v.push({type:"text",value:m}),d&&(v=i(v,d)),v},l=f=>{const d=f.profile_details,h=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${h.slice(0,15)}...`}`},c=f=>Fe.npubEncode(f),u=f=>{f&&(s.updateNpubInput(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>(C(),U("div",U1,[(C(!0),U(xe,null,ct(o.value,h=>(C(),U("span",null,[h.type==="text"?(C(),U("span",M1,le(h.value),1)):ce("",!0),h.type==="profile"?(C(),U("span",H1,[_("a",{onClick:Io(()=>u(h.npub),["prevent"]),href:"#"},le(h.value),9,j1)])):ce("",!0)]))),256))]))}});const F1=Ce(V1,[["__scopeId","data-v-9afb4f87"]]);function D1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function q1(e,...t){if(!D1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const K1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function z1(e){q1(e);let t="";for(let n=0;n<e.length;n++)t+=K1[e[n]];return t}const Tt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ul(e){if(e>=Tt._0&&e<=Tt._9)return e-Tt._0;if(e>=Tt._A&&e<=Tt._F)return e-(Tt._A-10);if(e>=Tt._a&&e<=Tt._f)return e-(Tt._a-10)}function fl(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=ul(e.charCodeAt(o)),a=ul(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}const In=fn("nsec",()=>{const e=F(""),t=F(!1),n=F("");function s(h){e.value=h}function r(h){n.value=h}function o(h){t.value=h}function i(){try{const h=a();if(!h)throw new Error("Invalid private key");return g0(h)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?fl(e.value):Fe.decode(e.value).data}catch{return null}}function l(){const h=a();if(!h)return"";try{return z1(h)}catch{return""}}function c(){try{return e.value.indexOf("nsec")===-1?Fe.nsecEncode(fl(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&d()}function f(){return e.value.length>0&&!d()}function d(){return e.value.length===0?!1:i().length>0}return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:d,isValidNsecPresented:u,isNotValidNsecPresented:f,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:a,getPrivkeyHex:l,getPrivkey:c}}),Vr=fn("images",()=>{const e=F(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:Bt}=Cs,Pn=fn("relay",()=>{const e=F({}),t=F(!1),n=F(""),s=F(""),r=F(""),o=F(0),i=F([]),a=F([]),l=F([]),c=F([]),u=Pe(()=>{const D=new Set([...l.value,...c.value]),R=[],P=[];return D.forEach(I=>{l.value.includes(I)&&!c.value.includes(I)?R.push({url:I,type:"read"}):P.push({url:I,type:"write"})}),[...R,...P].sort((I,T)=>I.url.localeCompare(T.url))}),f=Pe(()=>u.value.map(D=>D.url)),d=Pe(()=>{const D=n.value,R=f.value;return R.includes(D)?R:[D,...R]}),h=Pe(()=>{const D=l.value,R=c.value,P=new Set([...D,...R]),I=[];return P.forEach(T=>{D.includes(T)&&R.includes(T)?I.push(["r",T]):D.includes(T)?I.push(["r",T,"read"]):R.includes(T)&&I.push(["r",T,"write"])}),I}),w=Pe(()=>a.value.map(D=>D.replace("wss://","").replace("/","")).join(", ")),y=Pe(()=>n.value.length>0);function v(D){e.value=D}function m(D){t.value=D}function b(D){n.value=D==="custom"||D===""?D:Bt(D)}function E(D){a.value=D.map(R=>Bt(R))}function $(D){l.value=D.map(R=>Bt(R))}function N(D){c.value=D.map(R=>Bt(R))}function k(D){c.value.includes(D)||c.value.push(Bt(D))}function V(D){const R=Bt(D);if(!R||f.value.includes(R))return!1;l.value.push(R)}function j(D){c.value=c.value.filter(R=>R!==D)}function W(D){l.value=l.value.filter(R=>R!==D),c.value=c.value.filter(R=>R!==D),a.value=a.value.filter(R=>R!==D)}function Z(D){s.value=Bt(D)}function te(D){r.value=Bt(D)}function M(D){o.value=D}function Q(D,R){i.value[D]=R.length?Bt(R):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:m,connectedRelayUrl:n,setConnectedRelayUrl:b,connectedReedRelayUrls:a,setConnectedReedRelayUrls:E,selectedRelay:s,setSelectedRelay:Z,customRelayUrl:r,setCustomRelayUrl:te,currentRelay:e,updateCurrentRelay:v,additionalRelaysCountForSignedEvent:o,updateAdditionalRelaysCountForSignedEvent:M,additionalRelaysUrlsForSignedEvent:i,updateRelayAdditionalRelaysUrlsForSignedEvent:Q,connectedRelaysPrettyStr:w,reedRelays:l,writeRelays:c,setReedRelays:$,setWriteRelays:N,isConnectedToRelay:y,allRelays:u,removeWriteRelay:j,addWriteRelay:k,removeUserRelay:W,addUserRelay:V,nip65Tags:h,allRelaysUrls:f,allRelaysUrlsWithConnectedRelay:d}}),Fn=async(e,t=[],n)=>{const s=gf(e,t,n),r=yf(e,t,n),o=pf(e,t,n),i=G1(e,t,n);return Promise.all([s,r,o,i])},Zo=async(e,t,n=[],s)=>{const r=gf(t,n,s),o=yf(t,n,s),i=pf(t,n,s),a=Z1(t,n,s);return W1(e,t),Promise.all([r,o,i,a])},W1=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey}},G1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ht,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=kt.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===a.id&&l++}a.replies=l}},Z1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ht,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=kt.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===a.id&&l++}a.replies=l}},Rs=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===i.pubkey){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(r),o=!0}}),o||s.push(r)}),s},pf=async(e,t=[],n)=>{if(!t.length)return e;let s=n||new Ht;for(const r of e){if(!J1(r.content)){r.references=[];continue}let o=zu(r);const i=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];if(!u)continue;const f=s.get(t,{kinds:[0],limit:1,authors:[u.pubkey]});i.push(f)}const a=await Promise.all(i),l=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];u&&a.forEach((f,d)=>{if((f==null?void 0:f.pubkey)===(u==null?void 0:u.pubkey)){const h=o[d];h.profile_details=JSON.parse((f==null?void 0:f.content)||"{}"),l.push(h)}})}r.references=l}},gf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ht).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l.content&&Y1(l.content)&&a++}),i.likes=a})},yf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ht).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a++}),i.reposts=a})},J1=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,Y1=e=>!["-",""].includes(e),po=(e,t=3e3)=>{try{const n=new WebSocket(e);return new Promise(s=>{const r=setTimeout(()=>{n.close(),s(!1)},t);n.onopen=()=>{clearTimeout(r),n.close(),s(!0)},n.onerror=()=>{clearTimeout(r),n.close(),s(!1)}})}catch{return Promise.resolve(!1)}},dl=e=>/^[a-f0-9]{64}$/.test(e),Q1=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(a){o(a)},oneose(){i.close()}})});return Promise.race([r,s])},vf=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=Cs.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},_f=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},wf=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),X1={},ew={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},tw=_("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),nw=_("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),sw=[tw,nw];function rw(e,t){return C(),U("svg",ew,sw)}const hl=Ce(X1,[["render",rw]]),ow={},iw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},aw=_("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),lw=[aw];function cw(e,t){return C(),U("svg",iw,lw)}const pl=Ce(ow,[["render",cw]]),uw={},fw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},dw=_("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),hw=_("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),pw=[dw,hw];function gw(e,t){return C(),U("svg",fw,pw)}const mf=Ce(uw,[["render",gw]]),yw={},vw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},_w=_("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),ww=_("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),mw=[_w,ww];function bw(e,t){return C(),U("svg",vw,mw)}const bf=Ce(yw,[["render",bw]]),Ew={class:"event-card"},xw={key:0,class:"event-img"},Rw=["src","title"],Sw={class:"event-content"},kw={class:"event-header"},$w=["href"],Cw={class:"event-username-text"},Aw={key:0,class:"event-replying-to"},Iw=["href"],Pw={class:"event-body"},Tw={class:"event-footer"},Bw={class:"event-footer__right-actions"},Nw={class:"event-footer__link-wrapper"},Lw={class:"event__raw-data"},Ow={class:"event-footer-code-wrapper"},Uw={class:"event-footer__signature-text"},Mw={class:"event-footer__right-actions"},Hw={class:"event-footer__link-wrapper"},jw={key:0,class:"reply-field"},Vw={class:"reply-field__actions"},Fw={class:"reply-field__error"},Dw=["disabled"],qw={key:1,class:"loading-replies"},Kw={key:2,class:"replies"},zw=Ue({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},sliceText:{},isRootEvent:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=F(""),r=F(""),o=e,i=$r(),a=jr(),l=In(),c=Fi(),u=Vr(),f=Pn(),d=F(!1),h=F(!1),w=F([]),y=F(!1),v=F(!1),m=F(!1),b=F(!1),E=M=>{if(o.isRootEvent)return n("toggleRawData",M);o.event.showRawData=!o.event.showRawData},$=M=>`/user/${Fe.npubEncode(M)}`;At(()=>{Object.keys(o.event).length!==0&&(m.value=An(o.event))});const N=(M,Q)=>M?M.name?M.name:M.username?M.username:M.display_name:Fe.npubEncode(Q).slice(0,15)+"...",k=()=>{d.value=!d.value,n("showReplyField")},V=async()=>{if(h.value)return;if(!(l.nsec?l.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const Q=s.value.trim();if(!Q.length){r.value="Please provide message to broadcast.";return}let D,R;try{if(D=l.getPrivkeyBytes(),!D)throw new Error;if(R=l.getPubkey(),!R.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const P={kind:1,pubkey:R,created_at:Math.floor(Date.now()/1e3),content:Q,tags:[],id:"",sig:""},I=[],T=[];o.event.tags.forEach(A=>{const se=[A[0],A[1]];A[2]&&se.push(A[2]),A[3]&&se.push(A[3]),se[0]==="e"?I.push(se):se[0]==="p"&&T.push(se)});const q=[];if(I.length){const A=I.find(se=>se[3]==="root");A?q.push(A):q.push(I[0]),q.push(["e",o.event.id,"","reply"])}else q.push(["e",o.event.id,"","root"]);const X=zu(P),ie=T.map(A=>A[1]),ee=[];X.forEach(A=>{var he;const se=(he=A==null?void 0:A.profile)==null?void 0:he.pubkey;se&&!ie.includes(se)&&(ee.push(["p",se]),ie.push(se))});const ge=[...ee,...T];ie.includes(o.event.pubkey)||ge.push(["p",o.event.pubkey]),P.tags=[...ge,...q],pt(P,D),r.value="",h.value=!0;const oe=ge.filter(A=>A[1]!==R).map(A=>A[1]);let ae=[];const{pool:z}=o;if(oe.length){const A=[...f.reedRelays,...f.writeRelays,f.connectedRelayUrl];let se=[...new Set(A)];const he=await z.querySync(se,{kinds:[10002],authors:oe}),p=new Set;he.forEach(g=>{if(g.tags.length){const{read:S}=vf(g);S.forEach(O=>{f.writeRelays.includes(O)||p.add(O)})}}),ae=[...p]}const x=f.writeRelays;if(!x.length){r.value="Please provide your write relays to broadcast event";return}if(!(await _f(x,z,P)).some(A=>A.success)){r.value="Failed to broadcast reply";return}if(ae.length)try{await z.publish(ae,P)}catch{console.error("Failed to broadcast reply to some additional relays")}if(h.value=!1,d.value=!1,s.value="",o.isRootEvent)return n("loadRootReplies");j()},j=async()=>{const{event:M,currentReadRelays:Q,pool:D}=o;if(!(Q!=null&&Q.length)||!D)return;if(o.isRootEvent)return n("loadMoreReplies");b.value=!0;let R=await D.querySync(Q,{kinds:[1],"#e":[M.id]});R=R.filter(q=>{var ie,ee;const X=kt.parse(q);return((ie=X==null?void 0:X.root)==null?void 0:ie.id)===M.id||((ee=X==null?void 0:X.reply)==null?void 0:ee.id)===M.id});const P=R.map(q=>q.pubkey),I=[...new Set(P)],T=await D.querySync(Q,{kinds:[0],authors:I});R=Rs(R,T),await Zo(M,R,Q,D),w.value=R,y.value=!0,b.value=!1},W=()=>{y.value=!1},Z=()=>{const{origin:M,pathname:Q}=window.location;let D=Fe.noteEncode(o.event.id);const R=`${M}${Q}#/event/${D}`;navigator.clipboard.writeText(R),v.value=!0,setTimeout(()=>{v.value=!1},2e3)},te=M=>{const Q=Fe.npubEncode(M);a.updateNpubInput(Q),c.updateRoutingStatus(!0),i.push({path:$(M)})};return(M,Q)=>{const D=_s("EventContent",!0);return C(),U(xe,null,[_("div",Ew,[_("div",{class:Ie(["event-card__content",{flipped:M.event.showRawData}])},[_("div",{class:Ie(["event-card__front","event__presentable-date",{"event-card__front_custom":M.pubKey===M.event.pubkey}])},[ue(u).showImages&&M.event.author?(C(),U("div",xw,[_("img",{class:"author-pic",src:M.event.author.picture,alt:"user's avatar",title:`Avatar for ${M.event.author.name}`},null,8,Rw)])):ce("",!0),_("div",Sw,[_("div",kw,[_("div",null,[_("a",{class:"event-username-link",onClick:Q[0]||(Q[0]=Io(()=>te(M.event.pubkey),["prevent"])),href:$(M.event.pubkey)},[_("b",Cw,le(N(M.event.author,M.event.pubkey)),1)],8,$w)]),_("div",null,le(ue(wf)(M.event.created_at)),1)]),M.event.replyingTo?(C(),U("div",Aw,[ke(" Replying to "),_("a",{onClick:Q[1]||(Q[1]=Io(()=>te(M.event.replyingTo.pubkey),["prevent"])),href:$(M.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+le(N(M.event.replyingTo.user,M.event.replyingTo.pubkey)),9,Iw)])):ce("",!0),_("div",Pw,[ye(F1,{event:M.event,slice:M.sliceText},null,8,["event","slice"])]),_("div",Tw,[ye(O1,{onShowReplyField:k,onHandleShowReplies:j,onHandleHideReplies:W,hasReplyBtn:M.hasReplyBtn,likes:M.event.likes,reposts:M.event.reposts,replies:M.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),_("div",Bw,[_("div",Nw,[v.value?(C(),Be(pl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),v.value?ce("",!0):(C(),Be(hl,{key:1,onClick:Z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:Q[2]||(Q[2]=()=>E(M.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),_("div",{class:Ie(["event-card__back",{"event-card__back_custom":M.pubKey===M.event.pubkey,"event-details-first":M.index===0}])},[_("div",Lw,[ye(hf,{event:M.event,authorEvent:M.event.authorEvent},null,8,["event","authorEvent"])]),_("div",Ow,[_("div",{class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!m.value}])},[m.value?(C(),Be(mf,{key:0})):ce("",!0),m.value?ce("",!0):(C(),Be(bf,{key:1})),_("span",Uw,le(m.value?"Signature is valid":"Invalid signature"),1)],2),_("div",Mw,[_("div",Hw,[v.value?(C(),Be(pl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ce("",!0),v.value?ce("",!0):(C(),Be(hl,{key:1,onClick:Z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:Q[3]||(Q[3]=()=>E(M.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),d.value?(C(),U("div",jw,[Hn(_("textarea",{"onUpdate:modelValue":Q[4]||(Q[4]=R=>s.value=R),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[ms,s.value]]),_("div",Vw,[_("div",Fw,le(r.value),1),_("button",{disabled:h.value,onClick:V,class:"reply-field__btn"},le(h.value?"Sending reply...":"Reply"),9,Dw)])])):ce("",!0),b.value?(C(),U("div",qw," Loading replies... ")):ce("",!0),y.value&&w.value.length?(C(),U("div",Kw,[(C(!0),U(xe,null,ct(w.value,(R,P)=>(C(),U("div",{class:"reply",key:R.id},[ye(D,{sliceText:M.sliceText,onToggleRawData:Q[5]||(Q[5]=()=>E(M.event.id)),event:R,currentReadRelays:M.currentReadRelays,pool:M.pool,hasReplyBtn:M.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):ce("",!0)],64)}}});const go=Ce(zw,[["__scopeId","data-v-bfbac373"]]),Ww={},Gw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},Zw=_("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),Jw=[Zw];function Yw(e,t){return C(),U("svg",Gw,Jw)}const Qw=Ce(Ww,[["render",Yw]]),Ps=fn("pool",()=>{const e=F(new Ht),t=F(new Ht),n=F(new Ht);return{eventPool:e,feedPool:t,userPool:n}}),Ef=e=>($t("data-v-6c7f9e55"),e=e(),Ct(),e),Xw={class:"event"},em={key:0},tm={key:1,class:"replies"},nm={class:"replies__other-link"},sm=Ef(()=>_("span",{class:"replies__other-text"}," Show more replies ",-1)),rm={key:1,class:"replies__other"},om={key:2,class:"replies__other"},im={class:"replies__other-text"},am={key:4},lm={key:5,class:"replies__list"},cm={class:"replies__list-item"},um=Ef(()=>_("div",{class:"replies__list-item-line-horizontal"},null,-1)),fm=Ue({__name:"EventView",props:{event:{},pubKey:{},index:{},sliceText:{},sliceTextReply:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const s=Ps().eventPool,r=t,o=e,i=F(!1),a=F(!1),l=F(!1),c=F(!1),u=F(!1),f=F(null),d=F([]);At(async()=>{o.showReplies&&await h()});const h=async()=>{const{event:b,currentReadRelays:E}=o;if(!E.length)return;let $=await s.querySync(E,{kinds:[1],"#e":[b.id]});if($=$.filter(j=>{var Z;const W=kt.parse(j);return!W.reply&&((Z=W==null?void 0:W.root)==null?void 0:Z.id)===b.id}),!$.length)return;u.value=!0,a.value=$.length>1;let N=$[0],k=[N];await Zo(b,k,E,s),N=k[0];const V=await s.get(E,{kinds:[0],limit:1,authors:[N.pubkey]});V&&(N.author=JSON.parse(V.content)),f.value=N,u.value=!1},w=(b,E=!1)=>{if(E)return r("toggleRawData",b)},y=()=>{i.value=!i.value},v=async()=>{const{event:b,currentReadRelays:E}=o;if(!E.length)return;c.value=!0;let $=await s.querySync(E,{kinds:[1],"#e":[b.id]});if($=$.filter(j=>{var Z;const W=kt.parse(j);return!W.reply&&((Z=W==null?void 0:W.root)==null?void 0:Z.id)===b.id}),!$.length){c.value=!1;return}const N=$.map(j=>j.pubkey),k=[...new Set(N)],V=await s.querySync(E,{kinds:[0],authors:k});$=Rs($,V),await Zo(b,$,E,s),d.value=$,l.value=!0,c.value=!1},m=async()=>{i.value=!1,l.value?await v():await h()};return(b,E)=>(C(),U("div",Xw,[(C(),Be(go,{key:b.event.id,onLoadRootReplies:m,onShowReplyField:y,onToggleRawData:E[0]||(E[0]=$=>w($,!0)),onLoadMoreReplies:v,event:b.event,pubKey:b.pubKey,sliceText:b.sliceText,isRootEvent:!0,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["event","pubKey","sliceText","currentReadRelays","pool","hasReplyBtn"])),u.value?(C(),U("div",em,"Loading replies...")):ce("",!0),b.showReplies&&f.value?(C(),U("div",tm,[!l.value&&a.value&&!c.value?(C(),U("div",{key:0,onClick:v,class:"replies__other"},[_("span",nm,[sm,ye(Qw)])])):ce("",!0),c.value?(C(),U("div",rm," Loading replies... ")):ce("",!0),l.value&&a.value?(C(),U("div",om,[_("span",im," Loaded "+le(d.value.length)+" replies ",1)])):ce("",!0),_("div",{class:Ie(["line-vertical",{"line-vertical_long":a.value,"line-vertical_reply-field":i.value&&!a.value,"line-vertical_reply-field_long":i.value&&a.value}])},null,2),l.value?ce("",!0):(C(),U("div",{key:3,class:Ie(["line-horizontal",{"line-horizontal_height":a.value}])},null,2)),l.value?ce("",!0):(C(),U("div",am,[(C(),Be(go,{key:f.value.id,sliceText:b.sliceTextReply,event:f.value,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?(C(),U("div",lm,[(C(!0),U(xe,null,ct(d.value,($,N)=>(C(),U("div",cm,[um,_("div",{class:Ie(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":N===d.value.length-1}])},null,2),(C(),Be(go,{key:$.id,sliceText:b.sliceTextReply,event:$,currentReadRelays:b.currentReadRelays,pool:ue(s),hasReplyBtn:b.hasReplyBtn},null,8,["sliceText","event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):ce("",!0)])):ce("",!0)]))}});const xf=Ce(fm,[["__scopeId","data-v-6c7f9e55"]]),dm=Ue({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(C(),U("div",null,[(C(!0),U(xe,null,ct(r.events,(i,a)=>(C(),Be(xf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:a,showReplies:!0,hasReplyBtn:!0,sliceText:150},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const hm=Ce(dm,[["__scopeId","data-v-84edcd50"]]),pm={key:0,class:"pagination"},gm={key:0},ym={key:1},vm={key:1},_m={key:4},wm=Ue({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=ks(),r=o=>({path:s.path,query:{...s.query,page:o}});return Mt(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=_s("router-link");return o.pagesCount>1?(C(),U("div",pm,[ke(" Pages: "),o.pagesCount<5?(C(),U("span",gm,[(C(!0),U(xe,null,ct(o.pagesCount,l=>(C(),Be(a,{key:l,class:Ie(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:Ye(()=>[ke(le(l),1)]),_:2},1032,["class","to"]))),128))])):ce("",!0),o.pagesCount>=5?(C(),U("span",ym,[o.currentPage>=3?(C(),Be(a,{key:1,class:Ie(["pagination__link"]),to:r(1)},{default:Ye(()=>[ke(le(1))]),_:1},8,["to"])):ce("",!0),o.currentPage>3?(C(),U("span",vm,"...")):ce("",!0),o.currentPage!=1?(C(),Be(a,{key:o.currentPage-1,class:Ie(["pagination__link"]),to:r(o.currentPage-1)},{default:Ye(()=>[ke(le(o.currentPage-1),1)]),_:1},8,["to"])):ce("",!0),(C(),Be(a,{key:o.currentPage,class:Ie(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Ye(()=>[ke(le(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(C(),Be(a,{key:o.currentPage+1,class:Ie(["pagination__link"]),to:r(o.currentPage+1)},{default:Ye(()=>[ke(le(o.currentPage+1),1)]),_:1},8,["to"])):ce("",!0),o.currentPage<o.pagesCount-2?(C(),U("span",_m,"...")):ce("",!0),o.currentPage<=o.pagesCount-2?(C(),Be(a,{key:o.pagesCount,class:Ie(["pagination__link"]),to:r(o.pagesCount)},{default:Ye(()=>[ke(le(o.pagesCount),1)]),_:1},8,["to"])):ce("",!0)])):ce("",!0)])):ce("",!0)}}});const Rf=Ce(wm,[["__scopeId","data-v-fa836b0e"]]),mm=e=>($t("data-v-2db5cc65"),e=e(),Ct(),e),bm={class:"log"},Em=mm(()=>_("strong",null,"Relay events log",-1)),xm={class:"log__list"},Rm={class:"log__list-item"},Sm={key:0},km={key:1},$m=Ue({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>(C(),U("div",bm,[Em,_("ul",xm,[(C(!0),U(xe,null,ct(t.eventsLog,r=>(C(),U("li",Rm,[(C(!0),U(xe,null,ct(r,({type:o,value:i})=>(C(),U(xe,null,[o==="text"?(C(),U("span",Sm,le(i),1)):(C(),U("b",km,le(i),1))],64))),256))]))),256))])]))}});const Cm=Ce($m,[["__scopeId","data-v-2db5cc65"]]),gl=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],gn=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],Rn=20,Fr=fn("feed",()=>{const e=F([]),t=F(!1),n=F([]),s=F(0),r=F([]),o=F([]),i=F(""),a=F("");function l(E){e.value=E}function c(E){const $=e.value.find(N=>N.id===E);$&&($.showRawData=!$.showRawData)}function u(E){t.value=E}function f(E){n.value=E}function d(E){s.value=E}function h(E){r.value=E}function w(E){r.value.push(E)}function y(E){o.value=E}function v(E){o.value.push(E)}function m(E){i.value=E}function b(E){a.value=E}return{events:e,updateEvents:l,toggleEventRawData:c,showNewEventsBadge:t,setShowNewEventsBadge:u,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:f,newEventsBadgeCount:s,setNewEventsBadgeCount:d,newEventsToShow:r,updateNewEventsToShow:h,pushToNewEventsToShow:w,paginationEventsIds:o,updatePaginationEventsIds:y,pushToPaginationEventsIds:v,messageToBroadcast:i,updateMessageToBroadcast:m,signedJson:a,updateSignedJson:b}}),Am=e=>($t("data-v-6e13cf20"),e=e(),Ct(),e),Im={id:"feed"},Pm={class:"columns"},Tm={key:0,class:"connecting-notice"},Bm={key:0,class:"new-events__imgs"},Nm=["src"],Lm=["src"],Om={class:"new-events__text"},Um=Am(()=>_("b",{class:"new-events__arrow"},"",-1)),Mm=Ue({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=Pn(),s=Vr(),r=Fr(),o=In(),i=Ps(),a=t,l=Pe(()=>r.newEventsBadgeImageUrls[0]),c=Pe(()=>r.newEventsBadgeImageUrls[1]),u=F(1),f=Pe(()=>Math.ceil(r.paginationEventsIds.length/Rn)),d=ks(),h=Pe(()=>d.path);Mt(()=>d.path,async()=>{u.value>1&&w(1)}),At(()=>{f.value>1&&w(1)});const w=async v=>{const m=i.feedPool,b=n.connectedReedRelayUrls;if(!b.length)return;const E=Rn,$=(v-1)*E,N=$+E,V=r.paginationEventsIds.slice().reverse().slice($,N),j=await m.querySync(b,{ids:V}),W=j.map(M=>M.pubkey),Z=await m.querySync(b,{kinds:[0],authors:W});let te=Rs(j,Z);await Fn(te,b,m),r.updateEvents(te),u.value=v},y=async()=>{await a("loadNewRelayEvents"),u.value=1};return(v,m)=>(C(),U("div",Im,[_("div",Pm,[_("div",{class:Ie(["events",{"d-md-none":h.value==="/log"}])},[ue(n).isConnectingToRelay?(C(),U("div",Tm," Loading "+le(ue(n).currentRelay?"new":"")+" relay feed... ",1)):ce("",!0),ue(r).showNewEventsBadge?(C(),U("div",{key:1,onClick:y,class:"new-events"},[ue(s).showImages?(C(),U("div",Bm,[_("img",{class:"new-events__img",src:l.value,alt:"user's avatar"},null,8,Nm),_("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,Lm)])):ce("",!0),_("span",Om,le(ue(r).newEventsBadgeCount)+" new notes",1),Um])):ce("",!0),ye(hm,{events:ue(r).events,pubKey:ue(o).getPubkey(),showImages:ue(s).showImages,currentReadRelays:ue(n).connectedReedRelayUrls,onToggleRawData:ue(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),ye(Rf,{pagesCount:f.value,currentPage:u.value,onShowPage:w},null,8,["pagesCount","currentPage"])],2),_("div",{class:Ie(["log-wrapper",{"d-md-none":h.value!=="/log"}])},[ye(Cm,{eventsLog:v.eventsLog},null,8,["eventsLog"])],2)])]))}});const yo=Ce(Mm,[["__scopeId","data-v-6e13cf20"]]),Hm=e=>($t("data-v-9d94ec19"),e=e(),Ct(),e),jm={class:"message-fields-wrapper"},Vm={class:"message-fields"},Fm={class:"message-fields__field"},Dm=Hm(()=>_("label",{for:"message"},[_("strong",null,"Message to broadcast")],-1)),qm={class:"field-elements"},Km=["value"],zm={class:"send-btn-wrapper"},Wm=["disabled"],Gm={class:"error"},Zm={class:"notice"},Jm=Ue({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=In(),o=Fr(),i=F(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key or generate random key.";return}const u=o.messageToBroadcast.trim();if(!u.length){i.value="Please provide message to broadcast.";return}let f,d;try{if(f=r.getPrivkeyBytes(),!f)throw new Error;if(d=r.getPubkey(),!d.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const h={kind:1,pubkey:d,created_at:Math.floor(Date.now()/1e3),content:u,tags:[],id:"",sig:""},w=pt(h,f);if(n.sentEventIds.has(w.id)){i.value="The same event can't be sent twice (same id, signature).";return}i.value="",s("broadcastEvent",w,"text")},l=c=>{var u;o.updateMessageToBroadcast((u=c==null?void 0:c.target)==null?void 0:u.value)};return(c,u)=>(C(),U("div",jm,[_("div",Vm,[_("div",Fm,[Dm,_("div",qm,[_("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:ue(o).messageToBroadcast,onInput:l,placeholder:"Test message "},null,40,Km)]),_("div",zm,[_("button",{disabled:c.isSendingMessage,class:"send-btn",onClick:a},le(c.isSendingMessage?"Broadcasting...":"Broadcast"),9,Wm)])])]),_("div",Gm,le(i.value),1),_("div",Zm,le(c.broadcastNotice),1)]))}});const yl=Ce(Jm,[["__scopeId","data-v-9d94ec19"]]),Dr=e=>($t("data-v-efc02ad6"),e=e(),Ct(),e),Ym={class:"message-fields-wrapper"},Qm={class:"signed-message-desc"},Xm=Dr(()=>_("p",{class:"signed-message-desc_p"},[ke(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),ke(". ")],-1)),eb={class:"signed-message-desc_p"},tb=Dr(()=>_("br",null,null,-1)),nb={key:0,class:"additional-relays"},sb={class:"additional-relay-field"},rb=Dr(()=>_("span",null,"1.",-1)),ob=["value"],ib={class:"additional-relay-field"},ab=["onInput"],lb={class:"message-fields__field_sig"},cb=Dr(()=>_("label",{class:"message-fields__label",for:"signed_json"},[_("strong",null,"JSON of a signed event")],-1)),ub={class:"field-elements"},fb={class:"signed-json-btn-wrapper"},db={class:"error"},hb=["disabled"],pb=Ue({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=Pn(),r=Fr(),o=F(""),i=()=>{if(!r.signedJson.length){o.value="Provide signed event.";return}let u;try{u=JSON.parse(r.signedJson)}catch{o.value="Invalid JSON. Please check it and try again.";return}const f=s.currentRelay;if(!(f!=null&&f.connected)){o.value="Please connect to relay first.";return}o.value="",n("broadcastEvent",u,"json")},a=()=>{const u=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(u)},l=u=>{var f;r.updateSignedJson((f=u==null?void 0:u.target)==null?void 0:f.value)},c=(u,f)=>{var h;const d=(h=u==null?void 0:u.target)==null?void 0:h.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(f,d)};return(u,f)=>{var d,h;return C(),U("div",Ym,[_("div",Qm,[Xm,_("p",eb,[ke(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),tb,_("button",{class:"additional-relay-btn",onClick:a}," Add relay "),ue(s).additionalRelaysCountForSignedEvent>0?(C(),U("div",nb,[_("div",sb,[rb,_("input",{readonly:"",value:(d=ue(s).currentRelay)!=null&&d.url?`${(h=ue(s).currentRelay)==null?void 0:h.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,ob)]),(C(!0),U(xe,null,ct(ue(s).additionalRelaysCountForSignedEvent,w=>(C(),U("div",null,[_("div",ib,[_("span",null,le(w+1)+".",1),_("input",{onInput:y=>c(y,w),placeholder:"[wss://]relay.example.com",type:"text"},null,40,ab)])]))),256))])):ce("",!0)])]),_("div",lb,[cb,_("div",ub,[_("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:l,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},le(ue(r).signedJson),33)])]),_("div",fb,[_("div",db,le(o.value)+" "+le(u.broadcastError),1),_("button",{disabled:u.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:i},le(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,hb)])])}}});const gb=Ce(pb,[["__scopeId","data-v-efc02ad6"]]),yb=yi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),vb=yi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),_b=yi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),vl=Ue({__name:"Help",props:{showPrivacy:{}},setup(e){const t=ks(),n=F(null);return At(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),hi(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(C(),U(xe,null,[yb,_("p",null,[_("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),vb]),_b],64))}}),wt=Qn({value:1,update(e){this.value=e}}),wb=fn("user-notes",()=>{const e=F([]),t=F([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),qr=e=>($t("data-v-59817eec"),e=e(),Ct(),e),mb={class:"event"},bb={key:0,class:"event__content"},Eb=qr(()=>_("hr",null,null,-1)),xb={class:"event__code-block"},Rb={class:"event__code-title"},Sb=qr(()=>_("b",null,"Author: ",-1)),kb={class:"content-col_code"},$b={class:"event__code"},Cb={class:"event__code-block"},Ab={class:"event__code-title"},Ib=qr(()=>_("b",null,"Event id: ",-1)),Pb={class:"content-col_code"},Tb={class:"event__code"},Bb=qr(()=>_("div",{class:"header-col"},[_("b",null,"Created: ")],-1)),Nb={class:"content-col_code"},Lb={class:"event__code"},Ob={class:"event-footer__signature-text"},Ub=Ue({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=F(!1),s=F(!1),r=F(!1),o=F(""),i=F(""),a=F(""),l=F(0),c=F(!1);Od(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,a.value=f.pubkey,l.value=f.created_at}),At(()=>{Object.keys(t.event).length!==0&&(c.value=An(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>(C(),U("div",mb,[n.value?ce("",!0):(C(),U("div",bb,[Wd(f.$slots,"default",{},()=>[ke("No content for event")],!0),Eb,_("div",xb,[_("div",Rb,[Sb,_("button",{class:"event__code-btn",onClick:d[0]||(d[0]=h=>r.value=!r.value)},le(r.value?"npub":"hex"),1)]),_("div",kb,[_("code",$b,le(r.value?a.value:ue(Fe).npubEncode(a.value)),1)])]),_("div",Cb,[_("div",Ab,[Ib,_("button",{class:"event__code-btn",onClick:d[1]||(d[1]=h=>s.value=!s.value)},le(s.value?"nevent":"hex"),1)]),_("div",Pb,[_("code",Tb,le(s.value?o.value:ue(Fe).neventEncode({id:o.value})),1)])]),_("div",null,[Bb,_("div",Nb,[_("code",Lb,le(ue(wf)(l.value)),1)])])])),n.value?(C(),Be(hf,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):ce("",!0),_("div",{class:Ie(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(C(),U("div",{key:0,class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(C(),Be(mf,{key:0})):ce("",!0),c.value?ce("",!0):(C(),Be(bf,{key:1})),_("span",Ob,le(c.value?"Signature is valid":"Invalid signature"),1)],2)):ce("",!0),_("div",null,[_("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const Mb=Ce(Ub,[["__scopeId","data-v-59817eec"]]),Hb={},jb={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},Vb=_("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),Fb=_("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),Db=[Vb,Fb];function qb(e,t){return C(),U("svg",jb,Db)}const Kb=Ce(Hb,[["render",qb]]),Kr=e=>($t("data-v-3e6ba389"),e=e(),Ct(),e),zb={class:"field"},Wb={class:"field-label",for:"user_public_key"},Gb=Kr(()=>_("strong",null,"Profile's public key or event id",-1)),Zb={class:"field-elements"},Jb={class:"error"},Yb={key:0,class:"loading-notice"},Qb={class:"user"},Xb={key:0,class:"user__avatar-wrapper"},eE=["src"],tE={class:"user__info"},nE={class:"user__nickname"},sE={class:"user__name"},rE={class:"user__desc"},oE={key:0,class:"user__nip05"},iE=["href"],aE=Kr(()=>_("strong",null,"nip05",-1)),lE={key:1,class:"user__contacts"},cE={class:"user__contacts-col user__following-cnt"},uE={class:"user__contacts-col user__followers-cnt"},fE={key:0},dE={key:1,class:"user__contacts-download-icon"},hE=Kr(()=>_("span",{class:"user__contacts-followers-word"}," Followers ",-1)),pE={key:2},gE={key:3,id:"user-posts"},yE={key:0},vE={key:1},_E={key:5,class:"not-found"},wE=Kr(()=>_("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),mE=Ue({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Ps().userPool,s=jr(),r=wb(),o=Fi(),i=Vr(),a=In(),l=Pn(),c=e,u=F({}),f=F({}),d=F(!1),h=F(!1),w=F(""),y=F(!1),v=F(""),m=F(!1),b=F(""),E=F(!1),$=F(!1),N=F(!1),k=F(!1),V=F(1),j=Pe(()=>Math.ceil(r.allNotesIds.length/Rn)),W=$r(),Z=ks(),te=oe=>{const[ae,z]=oe.split("@");return`https://${z}/.well-known/nostr.json?name=${ae}`},M=F([]);At(()=>{var oe,ae;if((ae=(oe=Z.params)==null?void 0:oe.id)!=null&&ae.length&&!l.currentRelay.connected){s.updateNpubInput(Z.params.id),s.updateCachedUrl(Z.params.id),l.currentRelay.connected||(N.value=!0);return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),P();return}}),Mt(()=>Z.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),P())}),Mt(()=>Z.redirectedFrom,()=>{s.updateNpubInput(Z.params.id),s.updateCachedUrl(Z.params.id),R()}),oc(()=>{r.notes.length&&P()});const Q=()=>{b.value="",y.value=!1},D=async oe=>{const ae=l.connectedReedRelayUrls;if(!ae.length)return;const z=Rn,x=(oe-1)*z,H=x+z,B=r.allNotesIds.slice(x,H),A=await n.querySync(ae,{ids:B});let se=I(A,f.value);await Fn(se,ae,n),r.updateNotes(se),V.value=oe},R=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},P=async()=>{wt.update(wt.value+1);const oe=wt.value,ae=s.npubInput.trim();let z=!1;if(!ae.length){w.value="Public key or event id is required.";return}if(dl(ae))v.value=ae,z=!0;else try{let{data:se,type:he}=Fe.decode(ae);if(he!=="npub"&&he!=="note"){w.value="Public key or event id should be in npub or note format, or hex.";return}k.value=he==="note",v.value=se.toString()}catch{w.value="Public key or event id is invalid. Please check it and try again.";return}N.value&&await c.handleRelayConnect();const x=l.connectedReedRelayUrls;if(oe!==wt.value)return;if(!x.length){w.value=N.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}N.value=!1,R(),h.value=!1,w.value="",m.value=!0;let H=[];if(k.value||z){const se=v.value;if(H=await n.querySync(x,{ids:[se]}),oe!==wt.value)return;H.length&&(r.updateIds(H.map(he=>he.id)),v.value=H[0].pubkey,k.value=!0)}const B=await n.get(x,{kinds:[0],limit:1,authors:[v.value]});if(oe!==wt.value)return;if(!B){m.value=!1,y.value=!0;return}M.value=x;const A=await n.get(x,{kinds:[3],limit:1,authors:[v.value]});if(oe===wt.value){if(u.value=B,f.value=JSON.parse(B.content),f.value.followingCount=(A==null?void 0:A.tags.length)||0,d.value=!1,m.value=!1,y.value=!1,k.value?W.push({path:`/event/${ae}`}):W.push({path:`/user/${ae}`}),s.updateCachedUrl(ae),$.value=!0,T(oe),!k.value){if(H=await n.querySync(x,{kinds:[1],authors:[v.value]}),oe!==wt.value)return;const se=new Set;H.forEach(p=>{const g=kt.parse(p);(g.reply||g.root)&&se.add(p.id)}),H=H.filter(p=>!se.has(p.id)),r.updateIds(H.map(p=>p.id));const he=Rn;V.value=1,H=H.slice(0,he)}H=I(H,f.value),await Fn(H,x,n),oe===wt.value&&(r.updateNotes(H),$.value=!1)}},I=(oe,ae)=>oe.map(z=>(z.author=ae,z)),T=async(oe=0)=>{const ae=f.value.nip05,z=u.value.pubkey;if(!(!ae||!z))try{const x=await q(ae,z);if(oe&&oe!==wt.value)return;d.value=x}catch{console.log("Failed to check nip05")}},q=async(oe,ae)=>{const z=await Zu.queryProfile(oe);return ae===(z==null?void 0:z.pubkey)},X=()=>{if(!a.nsec.trim().length){w.value="Please provide private key first.";return}try{const ae=a.getPubkey();if(!ae.length)throw new Error;s.updateNpubInput(Fe.npubEncode(ae)),w.value=""}catch{w.value="Private key is invalid. Please check it and try again.";return}},ie=async()=>{const oe=s.npubInput.trim();let ae=!1;if(!oe.length){b.value="Public key or event id is required.";return}if(dl(oe))v.value=oe,ae=!0;else try{let{data:B,type:A}=Fe.decode(oe);if(A!=="npub"&&A!=="note"){b.value="Public key or event id should be in npub or note format, or hex.";return}k.value=A==="note",v.value=B.toString()}catch{b.value="Public key or event id is invalid. Please check it and try again.";return}E.value=!0,r.updateIds([]);let z=[];if(k.value||ae){const B=v.value;z=await n.querySync(gn,{ids:[B]}),z.length&&(v.value=z[0].pubkey,k.value=!0)}const x=await n.get(gn,{kinds:[0],limit:1,authors:[v.value]});if(!x){E.value=!1,b.value="User was not found on listed relays.";return}M.value=gn;const H=await n.get(gn,{kinds:[3],limit:1,authors:[v.value]});if(u.value=x,f.value=JSON.parse(x.content),f.value.followingCount=(H==null?void 0:H.tags.length)||0,b.value="",E.value=!1,y.value=!1,h.value=!0,d.value=!1,k.value?W.push({path:`/event/${oe}`}):W.push({path:`/user/${oe}`}),s.updateCachedUrl(oe),$.value=!0,T(),!k.value){z=await n.querySync(gn,{kinds:[1],authors:[v.value]});const B=new Set;z.forEach(A=>{const se=kt.parse(A);(se.reply||se.root)&&B.add(A.id)}),z=z.filter(A=>!B.has(A.id))}z=I(z,f.value),await Fn(z,gn,n),r.updateNotes(z),$.value=!1},ee=async()=>{f.value.followersCount=0;const oe=n.subscribeMany(M.value,[{"#p":[v.value],kinds:[3]}],{onevent(ae){f.value.followersCount=f.value.followersCount+1},oneose(){oe.close()}})},ge=oe=>{r.toggleRawData(oe)};return(oe,ae)=>(C(),U(xe,null,[_("div",zb,[_("label",Wb,[Gb,ue(a).nsec.length?(C(),U("button",{key:0,onClick:X,class:"random-key-btn"},"Use mine")):ce("",!0)]),_("div",Zb,[Hn(_("input",{onInput:Q,"onUpdate:modelValue":ae[0]||(ae[0]=z=>ue(s).npubInput=z),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[ms,ue(s).npubInput]]),_("button",{onClick:P,class:"get-user-btn"},le(N.value?"Connect & Search":"Search"),1)]),_("div",Jb,le(w.value),1)]),m.value?(C(),U("div",Yb," Loading event info... ")):ce("",!0),u.value.id?(C(),Be(Mb,{author:f.value,event:u.value,key:u.value.id},{default:Ye(()=>[_("div",Qb,[ue(i).showImages?(C(),U("div",Xb,[_("img",{class:"user__avatar",src:f.value.picture},null,8,eE)])):ce("",!0),_("div",tE,[_("div",null,[_("div",nE,le(f.value.username||f.value.name),1),_("div",sE,le(f.value.display_name||""),1),_("div",rE,le(f.value.about||""),1),d.value?(C(),U("div",oE,[_("a",{target:"_blank",href:te(f.value.nip05)},[aE,ke(": "+le(f.value.nip05),1)],8,iE)])):ce("",!0),f.value.followingCount>=0?(C(),U("div",lE,[_("span",cE,[_("b",null,le(f.value.followingCount),1),ke(" Following ")]),_("span",uE,[f.value.followersCount?(C(),U("b",fE,le(f.value.followersCount),1)):(C(),U("span",dE,[ye(Kb,{onClick:ee})])),hE])])):ce("",!0)])])])]),_:1},8,["author","event"])):ce("",!0),$.value?(C(),U("div",pE,"Loading notes...")):ce("",!0),ue(r).notes.length>0&&!$.value?(C(),U("h3",gE,[k.value?(C(),U("span",yE,"Event info")):(C(),U("span",vE,"User notes"))])):ce("",!0),(C(!0),U(xe,null,ct(ue(r).notes,(z,x)=>(C(),Be(xf,{key:z.id,hasReplyBtn:!k.value,showReplies:!k.value,currentReadRelays:M.value,index:x,onToggleRawData:ge,event:z},null,8,["hasReplyBtn","showReplies","currentReadRelays","index","event"]))),128)),!$.value&&!m.value?(C(),Be(Rf,{key:4,pagesCount:j.value,currentPage:V.value,onShowPage:D},null,8,["pagesCount","currentPage"])):ce("",!0),y.value?(C(),U("div",_E,[wE,_("div",null,[_("button",{onClick:ie,class:"fallback-search-btn"}," Search in all listed relays "),_("div",{class:Ie(["not-found__status",{error:b.value.length}])},le(b.value)+" "+le(E.value?"Searching...":""),3),_("ul",null,[(C(!0),U(xe,null,ct(ue(gn),z=>(C(),U("li",null,le(z),1))),256))])])])):ce("",!0)],64))}});const _l=Ce(mE,[["__scopeId","data-v-3e6ba389"]]),bE={},EE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},xE=_("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),RE=_("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),SE=[xE,RE];function kE(e,t){return C(),U("svg",EE,SE)}const $E=Ce(bE,[["render",kE]]),CE={class:"show-images"},AE={class:"show-images__field"},IE=["checked"],PE=_("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),TE=Ue({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=_s("router-link");return C(),U("div",CE,[_("span",AE,[_("input",{onChange:o[0]||(o[0]=a=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,IE),PE]),_("small",null,[ke(" ("),ye(i,{to:{path:"/help",hash:"#privacy"}},{default:Ye(()=>[ke("Exposes your IP")]),_:1}),ke(")")])])}}});const It=e=>($t("data-v-ecc7d16d"),e=e(),Ct(),e),BE=It(()=>_("h4",null,"Images:",-1)),NE={class:"show-images"},LE=It(()=>_("h4",null,"Your relays:",-1)),OE={class:"error"},UE={class:"relays"},ME={class:"relay"},HE={class:"actions"},jE=["onChange","id","name","checked"],VE=["for"],FE=It(()=>_("span",{class:"actions__delimiter"}," | ",-1)),DE=["onClick"],qE=It(()=>_("span",{class:"actions__remove-label"},"remove",-1)),KE={key:0},zE={key:0},WE={key:1},GE=It(()=>_("h4",null,"Add relay:",-1)),ZE={class:"add-relay"},JE={class:"error"},YE=It(()=>_("h4",null,"Your Keys:",-1)),QE={class:"keys"},XE={class:"key-block"},e2=It(()=>_("div",null," Public key: ",-1)),t2=It(()=>_("div",{class:"key-block__desc"},[_("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),n2={key:0,class:"key-block__code"},s2={key:1},r2={class:"key-block"},o2=It(()=>_("div",null," Private key: ",-1)),i2=It(()=>_("div",{class:"key-block__desc"},[_("small",null,[ke(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),_("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),a2={key:0,class:"key-block__code"},l2={key:1},vo="Updating relays error. Please reload the page and try again or write us about the issue.",c2=Ue({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Ps(),s=In(),r=Vr(),o=Pn(),i=F(""),a=F(""),l=F(""),c=b=>{if(l.value="",!(s.nsec?s.nsec.trim():"").length){l.value="Please provide your private key.";return}let $,N;try{if($=s.getPrivkeyBytes(),!$)throw new Error;if(N=s.getPubkey(),!N.length)throw new Error}catch{l.value="Invalid private key. Please check it and try again.";return}const k={kind:10002,pubkey:N,created_at:Math.floor(Date.now()/1e3),content:"",tags:b};return pt(k,$)},u=async(b,E)=>{l.value="",b.target.checked?o.addWriteRelay(E):o.removeWriteRelay(E);const N=o.nip65Tags,k=c(N),V=n.feedPool;if(k)return await V.publish(o.allRelaysUrlsWithConnectedRelay,k);l.value.length||(l.value=vo)},f=async b=>{l.value="",o.removeUserRelay(b),t.handleRelayConnect(!0);const E=o.nip65Tags,$=c(E),N=n.feedPool;if($)return await N.publish(o.allRelaysUrlsWithConnectedRelay,$);l.value.length||(l.value=vo)},d=async()=>{let b="";l.value="",a.value="";try{b=Cs.normalizeURL(i.value)}catch{a.value="Invalid relay url.";return}o.addUserRelay(b),t.handleRelayConnect(!0),i.value="";const E=o.nip65Tags,$=c(E),N=n.feedPool;if($)return await N.publish(o.allRelaysUrlsWithConnectedRelay,$);l.value.length||(l.value=vo)},h=()=>{r.updateShowImages(!r.showImages)},w=()=>{if(!s.isValidNsecPresented())return;const b=s.getPubkey();navigator.clipboard.writeText(Fe.npubEncode(b))},y=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPubkey())},v=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkey())},m=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkeyHex())};return(b,E)=>(C(),U(xe,null,[BE,_("div",NE,[ye(TE,{showImages:ue(r).showImages,onToggleImages:h},null,8,["showImages"])]),LE,_("div",OE,le(l.value),1),_("ul",UE,[(C(!0),U(xe,null,ct(ue(o).allRelays,($,N)=>(C(),U("li",ME,[ke(le($.url)+" ",1),_("div",HE,[_("input",{onChange:k=>u(k,$.url),class:"actions__checkbox",type:"checkbox",id:`write-${N}`,name:`write-${N}`,checked:$.type==="write"},null,40,jE),_("label",{class:"actions__label",for:`write-${N}`}," publish to relay",8,VE),FE,_("span",{onClick:()=>f($.url),class:"actions__remove"},[ye($E,{class:"trash-icon"}),qE],8,DE)])]))),256))]),ue(o).allRelays.length?ce("",!0):(C(),U("div",KE,[ue(o).isConnectedToRelay?(C(),U("span",zE,[ke(" The private key was not provided or the list with your relays was not found on "),_("b",null,le(ue(o).connectedRelayUrl),1)])):(C(),U("span",WE," Please connect to a relay to see the list of your relays. "))])),GE,_("div",ZE,[Hn(_("input",{"onUpdate:modelValue":E[0]||(E[0]=$=>i.value=$),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[ms,i.value]]),_("button",{onClick:d,class:"add-relay__btn"},"Add")]),_("div",JE,le(a.value),1),YE,_("div",QE,[_("div",XE,[e2,t2,_("div",null,[ke("  "),ue(s).isValidNsecPresented()?(C(),U("code",n2,le(ue(Fe).npubEncode(ue(s).getPubkey())),1)):(C(),U("span",s2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:w}," Copy pubkey "),_("button",{onClick:y}," Copy hex ")])]),_("div",r2,[o2,i2,_("div",null,[ke("  "),ue(s).isValidNsecPresented()?(C(),U("code",a2," *************************************************************** ")):(C(),U("span",l2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:v}," Copy privkey "),_("button",{onClick:m}," Copy hex ")])])])],64))}});const u2=Ce(c2,[["__scopeId","data-v-ecc7d16d"]]),f2=[{path:"/feed",name:"Feed",components:{default:yo,messageInput:yl}},{path:"/message",name:"Message",components:{default:yo,signedEventInput:gb}},{path:"/log",name:"Log",components:{default:yo,messageInput:yl}},{path:"/user",name:"User",component:_l,alias:["/event"]},{path:"/user/:id",component:_l,alias:["/event/:id"]},{path:"/help",name:"Help",component:vl},{path:"/",component:vl,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:u2}],d2=xg({history:Hp(),routes:f2}),Ts=e=>($t("data-v-6bce2545"),e=e(),Ct(),e),h2={class:"relay-fields"},p2={class:"relay-fields__wrapper"},g2={class:"relay-fields__relay"},y2={class:"relay-fields__select-field"},v2=Ts(()=>_("label",{class:"field-label_priv-key",for:"relays"},[_("strong",null,"Select relay")],-1)),_2={class:"field-elements"},w2=["value"],m2=Ts(()=>_("option",{value:"custom"},"custom url",-1)),b2={class:"message-fields__field"},E2=Ts(()=>_("label",{for:"priv_key"},[_("strong",null,"Private key (optional)")],-1)),x2={class:"field-elements"},R2={class:"remember-me"},S2=Ts(()=>_("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),k2={class:"error"},$2={key:0,class:"field"},C2=Ts(()=>_("label",{for:"relay_url"},[_("strong",null,"Relay URL")],-1)),A2={class:"field-elements"},I2=Ue({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=Pn(),o=In(),i=F(!1),a=F(!1),l=Pe(()=>r.selectedRelay!==r.connectedRelayUrl);r.setSelectedRelay(gl[0]);const c=v=>{const m=v.target.value;a.value=m==="custom",r.setSelectedRelay(m)};At(()=>{o.isValidNsecPresented()&&(i.value=!0)});const u=v=>{if(!o.isNsecValid()){i.value=!1;return}i.value=!0,o.rememberMe&&localStorage.setItem("privkey",o.nsec),r.isConnectedToRelay&&o.cachedNsec!==o.nsec&&s("relayConnect")},f=()=>{const v=p0();o.updateNsec(Fe.nsecEncode(v)),i.value=!0},d=()=>{o.updateNsec(""),localStorage.removeItem("privkey"),i.value=!1,r.isConnectedToRelay&&r.allRelays.length&&(s("relayDisconnect"),s("relayConnect"))},h=()=>{o.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",o.nsec)):localStorage.clear()},w=()=>{s("relayConnect")},y=()=>{s("relayDisconnect")};return(v,m)=>(C(),U(xe,null,[_("p",h2,[_("div",p2,[_("div",g2,[_("div",y2,[v2,_("div",_2,[_("select",{class:"select-relay__select",onChange:c,name:"relays",id:"relays"},[(C(!0),U(xe,null,ct(ue(gl),b=>(C(),U("option",{value:b},le(b),9,w2))),256)),m2],32),l.value?(C(),U("button",{key:0,onClick:w,class:"select-relay__btn"},le(ue(r).isConnectingToRelay?"Connecting...":"Connect"),1)):(C(),U("button",{key:1,onClick:y,class:"select-relay__btn"}," Disconnect "))])])]),_("div",b2,[E2,_("div",x2,[Hn(_("input",{onInput:u,"onUpdate:modelValue":m[0]||(m[0]=b=>ue(o).nsec=b),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[ms,ue(o).nsec]]),i.value?ce("",!0):(C(),U("button",{key:0,onClick:f,class:"random-key-btn"},"Random")),i.value?(C(),U("button",{key:1,onClick:d,class:"random-key-btn"},"Logout")):ce("",!0)]),_("div",R2,[Hn(_("input",{onChange:h,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":m[1]||(m[1]=b=>ue(o).rememberMe=b)},null,544),[[op,ue(o).rememberMe]]),S2])])]),_("div",k2,le(n.wsError),1)]),a.value?(C(),U("div",$2,[C2,_("div",A2,[Hn(_("input",{"onUpdate:modelValue":m[2]||(m[2]=b=>ue(r).customRelayUrl=b),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[ms,ue(r).customRelayUrl]])])])):ce("",!0)],64))}});const P2=Ce(I2,[["__scopeId","data-v-6bce2545"]]),T2={class:"tabs"},B2=Ue({__name:"App",setup(e){const t=$r(),n=ks(),s=jr(),r=In(),o=Pn(),i=Fr(),a=Ps();let l,c;const u=localStorage.getItem("rememberMe")==="true";r.setRememberMe(u);const f=u?localStorage.getItem("privkey"):"";r.updateNsec(f||"");const d=F([]),h=new Set,w=new Set;let y=F([]),v=F(0),m=F(""),b=F("");const E=F([]),$=F(""),N=F(""),k=F(""),V=F(!1),j=Pe(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),W=I=>{E.value.unshift(I)},Z=async()=>{var z,x;const I=a.feedPool,T=o.connectedReedRelayUrls;if(!T.length)return;const q=i.newEventsToShow;if(q.length<2)return;const X=q[q.length-1].pubkey,ie=q[q.length-2].pubkey,ee={kinds:[0],authors:[X],limit:1},ge={kinds:[0],authors:[ie],limit:1},oe=await I.querySync(T,ee),ae=await I.querySync(T,ge);c&&(!((z=oe[0])!=null&&z.content)||!((x=ae[0])!=null&&x.content)||(m.value=JSON.parse(oe[0].content).picture,b.value=JSON.parse(ae[0].content).picture,i.setNewEventsBadgeImageUrls([m.value,b.value]),v.value=q.length,i.setNewEventsBadgeCount(q.length),i.setShowNewEventsBadge(!0)))},te=I=>new Promise(T=>setTimeout(T,I)),M=(I,T,q)=>new Promise(X=>{const ie=[];let ee,ge=q;if(q&&q.length&&q[0].limit){let{limit:ae,...z}=q[0];ge=[z],ee=ae}const oe=I.subscribeMany(T,ge,{onevent(ae){const z=kt.parse(ae);z.reply||z.root||(ie.push(ae),ee&&ie.length>=ee&&(X(ie.slice(0,ee)),oe.close()))},oneose(){oe.close()}})});async function Q(I=!1){if(o.isConnectingToRelay)return;let T=o.selectedRelay,q=!1;if(T==="custom"&&(T=Cs.normalizeURL(o.customRelayUrl),q=!0),!T.length)return;if(r.isNotValidNsecPresented()){$.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!I&&o.currentRelay.connected&&(o.currentRelay.close(),W([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),l&&l.close(),c&&(clearInterval(c),c=0),I||(o.setReedRelays([]),o.setWriteRelays([]));let X;if(!I){try{o.setConnectionToRelayStatus(!0);try{X=await Go.connect(T)}catch{await te(500),X=await Go.connect(T)}$.value=""}catch{let A=`WebSocket connection to "${T}" failed. You can try again. `;navigator.onLine?A+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":A+="Or check your internet connection.",$.value=A,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(X),W([{type:"text",value:"connected to "},{type:"bold",value:X.url}]),r.isNotValidNsecPresented()&&($.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const B=r.getPubkey(),se=await Q1(X,[{kinds:[10002],limit:1,authors:[B]}],3e3);if(se&&se.tags.length){const{read:he,write:p}=vf(se);o.setReedRelays(he),o.setWriteRelays(p)}}}i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]),a.feedPool=new Ht;const ie=a.feedPool,ee=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async A=>{const se=await po(A);return{url:A,connected:se}}))).forEach(A=>{if(I&&!o.reedRelays.includes(A.url)||(A.connected&&ee.push(A.url),(X==null?void 0:X.url)===A.url))return;const se=A.connected?"connected to ":"failed to connect to ";W([{type:"text",value:se},{type:"bold",value:A.url}])});const ge=ee.length?ee:[T],ae=await M(ie,ge,[{kinds:[1],limit:Rn}]),z=ae.map(B=>B.pubkey),x=await ie.querySync(ge,{kinds:[0],authors:z});let H=Rs(ae,x);await Fn(H,ge,ie),h.clear(),i.updatePaginationEventsIds([]),H.forEach(B=>{h.add(B.id),i.pushToPaginationEventsIds(B.id)}),d.value=H,i.updateEvents(H),o.setConnectedRelayUrl(q?"custom":T),o.setConnectedReedRelayUrls(ge),o.setConnectionToRelayStatus(!1),l=ie.subscribeMany(ge,[{kinds:[1],limit:1}],{onevent(B){if(h.has(B.id))return;const A=kt.parse(B);A.reply||A.root||(y.value.push({id:B.id,pubkey:B.pubkey}),i.pushToNewEventsToShow({id:B.id,pubkey:B.pubkey}))}}),c=setInterval(Z,3e3)}const D=async()=>{const I=a.feedPool,T=o.connectedReedRelayUrls;if(!T.length)return;t.push({path:`${n.path}`});let q=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(x=>!q.includes(x)));const X=q.map(x=>x.id),ie=Rn;i.updatePaginationEventsIds(i.paginationEventsIds.concat(X));const ee=i.paginationEventsIds.slice(-ie),ge=await I.querySync(T,{ids:ee}),oe=ge.map(x=>x.pubkey),ae=await I.querySync(T,{kinds:[0],authors:oe});let z=Rs(ge,ae);await Fn(z,T,I),z.forEach(x=>h.add(x.id)),i.updateEvents(z),i.setShowNewEventsBadge(!1),W([{type:"text",value:`loaded ${q.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedRelaysPrettyStr}])},R=async(I,T)=>{const q=a.feedPool;let X=o.writeRelays;if(T==="json"){const z=o.additionalRelaysUrlsForSignedEvent;let x=[];if(z.length){let H="Can't connect to these relays: ",B=!1;for(const A of z)if(A!=null&&A.length){if(!await po(A)){B=!0,H+=`${A}, `;continue}x.push(A)}if(B){const A=o.connectedRelayUrl;await po(A)||(H+=`${A}, `),H=H.slice(0,-2),H+=". Relays are unavailable or you are offline.",N.value=H,V.value=!1;return}}X=[o.connectedRelayUrl,...x],X=[...new Set(X)]}if(V.value)return;V.value=!0;const ie=o.connectedReedRelayUrls;let ee=null;if(ie.length){const z=[{kinds:[1],ids:[I.id],limit:1}];ee=q.subscribeMany(ie,z,{async onevent(x){const H=setInterval(async()=>{y.value.some(B=>B.id==x.id)&&(clearInterval(H),await D(),ee==null||ee.close())},100)}})}const ge=await _f(X,q,I);ge.forEach(z=>{z.success?W([{type:"text",value:" new event broadcasted to "},{type:"bold",value:z.relay}]):W([{type:"text",value:" failed to publish to "},{type:"bold",value:z.relay}])}),ge.every(z=>z.success===!1)&&T==="json"&&ie.length&&(ee==null||ee.close()),ge.some(z=>z.success===!1)||(T==="text"&&i.updateMessageToBroadcast(""),T==="json"&&i.updateSignedJson("")),V.value=!1},P=()=>{if(!o.isConnectedToRelay)return;clearInterval(c),i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]);const I=o.currentRelay;o.setConnectedRelayUrl(""),o.setConnectedReedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),l.close(),I.close(),W([{type:"text",value:"disconnected from "},{type:"bold",value:I.url}])};return(I,T)=>{const q=_s("router-link"),X=_s("router-view");return C(),U(xe,null,[ye(P2,{onRelayConnect:Q,onRelayDisconnect:P,wsError:$.value},null,8,["wsError"]),_("div",T2,[ye(q,{class:"tab-link",to:"/feed"},{default:Ye(()=>[ke("Feed")]),_:1}),ye(q,{class:"tab-link",to:j.value},{default:Ye(()=>[ke("User")]),_:1},8,["to"]),ye(q,{class:"tab-link",to:"/message"},{default:Ye(()=>[ke("Message")]),_:1}),ye(q,{class:"tab-link",to:"/help"},{default:Ye(()=>[ke("Help")]),_:1}),ye(q,{class:"tab-link",to:"/log"},{default:Ye(()=>[ke("Log")]),_:1}),ye(q,{class:"tab-link",to:"/settings"},{default:Ye(()=>[ke("Settings")]),_:1})]),ye(X,{name:"messageInput",onBroadcastEvent:R,isSendingMessage:V.value,sentEventIds:ue(w),broadcastNotice:k.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),ye(X,{name:"signedEventInput",onBroadcastEvent:R,isSendingMessage:V.value,broadcastError:N.value},null,8,["isSendingMessage","broadcastError"]),ye(X,{onLoadNewRelayEvents:D,handleRelayConnect:Q,eventsLog:E.value},null,8,["eventsLog"])],64)}}});const N2=Ce(B2,[["__scopeId","data-v-8b79df83"]]),L2=fp(N2),O2=gp();L2.use(d2).use(O2).mount("#app");
//# sourceMappingURL=main.js.map
