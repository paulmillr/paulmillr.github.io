var Mf=Object.defineProperty;var Hf=(e,t,n)=>t in e?Mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(Hf(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ff(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const jf=()=>{},Vf=Object.prototype.hasOwnProperty,er=(e,t)=>Vf.call(e,t),ln=Array.isArray,Gs=e=>Pl(e)==="[object Map]",Df=e=>typeof e=="function",qf=e=>typeof e=="string",yr=e=>typeof e=="symbol",vr=e=>e!==null&&typeof e=="object",Kf=Object.prototype.toString,Pl=e=>Kf.call(e),zf=e=>Pl(e).slice(8,-1),ri=e=>qf(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ns=(e,t)=>!Object.is(e,t),Wf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class Tl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Ll(e){return new Tl(e)}function Gf(e,t=rt){t&&t.active&&t.effects.push(e)}function Nl(){return rt}function Jf(e){rt&&rt.cleanups.push(e)}let $n;class oi{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Gf(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Zf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Bn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=cn,n=$n;try{return cn=!0,$n=this,this._runnings++,na(this),this.fn()}finally{sa(this),this._runnings--,$n=n,cn=t}}stop(){var t;this.active&&(na(this),sa(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Zf(e){return e.value}function na(e){e._trackId++,e._depsLength=0}function sa(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Bl(e.deps[t],e);e.deps.length=e._depsLength}}function Bl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let cn=!0,$o=0;const Ul=[];function Nn(){Ul.push(cn),cn=!1}function Bn(){const e=Ul.pop();cn=e===void 0?!0:e}function ii(){$o++}function ai(){for($o--;!$o&&Co.length;)Co.shift()()}function Ol(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Bl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Co=[];function Ml(e,t,n){ii();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Co.push(s.scheduler)))}ai()}const Hl=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},tr=new WeakMap,Cn=Symbol(""),Ao=Symbol("");function tt(e,t,n){if(cn&&$n){let s=tr.get(e);s||tr.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Hl(()=>s.delete(n))),Ol($n,r)}}function Ht(e,t,n,s,r,o){const i=tr.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&ln(e)){const l=Number(s);i.forEach((c,u)=>{(u==="length"||!yr(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":ln(e)?ri(n)&&a.push(i.get("length")):(a.push(i.get(Cn)),Gs(e)&&a.push(i.get(Ao)));break;case"delete":ln(e)||(a.push(i.get(Cn)),Gs(e)&&a.push(i.get(Ao)));break;case"set":Gs(e)&&a.push(i.get(Cn));break}ii();for(const l of a)l&&Ml(l,4);ai()}function Yf(e,t){var n;return(n=tr.get(e))==null?void 0:n.get(t)}const Qf=Ff("__proto__,__v_isRef,__isVue"),Fl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yr)),ra=Xf();function Xf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let o=0,i=this.length;o<i;o++)tt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),ii();const s=be(this)[t].apply(this,n);return ai(),Bn(),s}}),e}function ed(e){const t=be(this);return tt(t,"has",e),t.hasOwnProperty(e)}class jl{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?hd:Kl:o?ql:Dl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=ln(t);if(!r){if(i&&er(ra,n))return Reflect.get(ra,n,s);if(n==="hasOwnProperty")return ed}const a=Reflect.get(t,n,s);return(yr(n)?Fl.has(n):Qf(n))||(r||tt(t,"get",n),o)?a:He(a)?i&&ri(n)?a:a.value:vr(a)?r?Wl(a):ss(a):a}}class Vl extends jl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const l=Wn(o);if(!nr(s)&&!Wn(s)&&(o=be(o),s=be(s)),!ln(t)&&He(o)&&!He(s))return l?!1:(o.value=s,!0)}const i=ln(t)&&ri(n)?Number(n)<t.length:er(t,n),a=Reflect.set(t,n,s,r);return t===be(r)&&(i?ns(s,o)&&Ht(t,"set",n,s):Ht(t,"add",n,s)),a}deleteProperty(t,n){const s=er(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ht(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!yr(n)||!Fl.has(n))&&tt(t,"has",n),s}ownKeys(t){return tt(t,"iterate",ln(t)?"length":Cn),Reflect.ownKeys(t)}}class td extends jl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const nd=new Vl,sd=new td,rd=new Vl(!0),li=e=>e,_r=e=>Reflect.getPrototypeOf(e);function Hs(e,t,n=!1,s=!1){e=e.__v_raw;const r=be(e),o=be(t);n||(ns(t,o)&&tt(r,"get",t),tt(r,"get",o));const{has:i}=_r(r),a=s?li:n?fi:bs;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Fs(e,t=!1){const n=this.__v_raw,s=be(n),r=be(e);return t||(ns(e,r)&&tt(s,"has",e),tt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function js(e,t=!1){return e=e.__v_raw,!t&&tt(be(e),"iterate",Cn),Reflect.get(e,"size",e)}function oa(e){e=be(e);const t=be(this);return _r(t).has.call(t,e)||(t.add(e),Ht(t,"add",e,e)),this}function ia(e,t){t=be(t);const n=be(this),{has:s,get:r}=_r(n);let o=s.call(n,e);o||(e=be(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?ns(t,i)&&Ht(n,"set",e,t):Ht(n,"add",e,t),this}function aa(e){const t=be(this),{has:n,get:s}=_r(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ht(t,"delete",e,void 0),o}function la(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Ht(e,"clear",void 0,void 0),n}function Vs(e,t){return function(s,r){const o=this,i=o.__v_raw,a=be(i),l=t?li:e?fi:bs;return!e&&tt(a,"iterate",Cn),i.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function Ds(e,t,n){return function(...s){const r=this.__v_raw,o=be(r),i=Gs(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),u=n?li:t?fi:bs;return!t&&tt(o,"iterate",l?Ao:Cn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function zt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function od(){const e={get(o){return Hs(this,o)},get size(){return js(this)},has:Fs,add:oa,set:ia,delete:aa,clear:la,forEach:Vs(!1,!1)},t={get(o){return Hs(this,o,!1,!0)},get size(){return js(this)},has:Fs,add:oa,set:ia,delete:aa,clear:la,forEach:Vs(!1,!0)},n={get(o){return Hs(this,o,!0)},get size(){return js(this,!0)},has(o){return Fs.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!1)},s={get(o){return Hs(this,o,!0,!0)},get size(){return js(this,!0)},has(o){return Fs.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ds(o,!1,!1),n[o]=Ds(o,!0,!1),t[o]=Ds(o,!1,!0),s[o]=Ds(o,!0,!0)}),[e,n,t,s]}const[id,ad,ld,cd]=od();function ci(e,t){const n=t?e?cd:ld:e?ad:id;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(er(n,r)&&r in s?n:s,r,o)}const ud={get:ci(!1,!1)},fd={get:ci(!1,!0)},dd={get:ci(!0,!1)},Dl=new WeakMap,ql=new WeakMap,Kl=new WeakMap,hd=new WeakMap;function pd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gd(e){return e.__v_skip||!Object.isExtensible(e)?0:pd(zf(e))}function ss(e){return Wn(e)?e:ui(e,!1,nd,ud,Dl)}function zl(e){return ui(e,!1,rd,fd,ql)}function Wl(e){return ui(e,!0,sd,dd,Kl)}function ui(e,t,n,s,r){if(!vr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=gd(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function un(e){return Wn(e)?un(e.__v_raw):!!(e&&e.__v_isReactive)}function Wn(e){return!!(e&&e.__v_isReadonly)}function nr(e){return!!(e&&e.__v_isShallow)}function Gl(e){return un(e)||Wn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function wr(e){return Object.isExtensible(e)&&Wf(e,"__v_skip",!0),e}const bs=e=>vr(e)?ss(e):e,fi=e=>vr(e)?Wl(e):e;class Jl{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new oi(()=>t(this._value),()=>Js(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&ns(t._value,t._value=t.effect.run())&&Js(t,4),Zl(t),t.effect._dirtyLevel>=2&&Js(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function yd(e,t,n=!1){let s,r;const o=Df(e);return o?(s=e,r=jf):(s=e.get,r=e.set),new Jl(s,r,o||!r,n)}function Zl(e){var t;cn&&$n&&(e=be(e),Ol($n,(t=e.dep)!=null?t:e.dep=Hl(()=>e.dep=void 0,e instanceof Jl?e:void 0)))}function Js(e,t=4,n){e=be(e);const s=e.dep;s&&Ml(s,t)}function He(e){return!!(e&&e.__v_isRef===!0)}function K(e){return Yl(e,!1)}function vd(e){return Yl(e,!0)}function Yl(e,t){return He(e)?e:new _d(e,t)}class _d{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:bs(t)}get value(){return Zl(this),this._value}set value(t){const n=this.__v_isShallow||nr(t)||Wn(t);t=n?t:be(t),ns(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:bs(t),Js(this,4))}}function le(e){return He(e)?e.value:e}const wd={get:(e,t,n)=>le(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Ql(e){return un(e)?e:new Proxy(e,wd)}function md(e){const t=ln(e)?new Array(e.length):{};for(const n in e)t[n]=Ed(e,n);return t}class bd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Yf(be(this._object),this._key)}}function Ed(e,t,n){const s=e[t];return He(s)?s:new bd(e,t,n)}/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xd(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Pe={},Dn=[],lt=()=>{},Rd=()=>!1,di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xl=e=>e.startsWith("onUpdate:"),Je=Object.assign,hi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Sd=Object.prototype.hasOwnProperty,$e=(e,t)=>Sd.call(e,t),me=Array.isArray,ec=e=>pi(e)==="[object Map]",tc=e=>pi(e)==="[object Set]",_e=e=>typeof e=="function",nt=e=>typeof e=="string",nc=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",sc=e=>(Oe(e)||_e(e))&&_e(e.then)&&_e(e.catch),rc=Object.prototype.toString,pi=e=>rc.call(e),oc=e=>pi(e)==="[object Object]",hs=xd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kd=/-(\w)/g,It=mr(e=>e.replace(kd,(t,n)=>n?n.toUpperCase():"")),$d=/\B([A-Z])/g,br=mr(e=>e.replace($d,"-$1").toLowerCase()),gi=mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),to=mr(e=>e?`on${gi(e)}`:""),ca=(e,t)=>!Object.is(e,t),no=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Io=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Cd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ua;const ic=()=>ua||(ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yi(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=nt(s)?Td(s):yi(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(nt(e)||Oe(e))return e}const Ad=/;(?![^(]*\))/g,Id=/:([^]+)/,Pd=/\/\*[^]*?\*\//g;function Td(e){const t={};return e.replace(Pd,"").split(Ad).forEach(n=>{if(n){const s=n.split(Id);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(nt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ce=e=>nt(e)?e:e==null?"":me(e)||Oe(e)&&(e.toString===rc||!_e(e.toString))?JSON.stringify(e,ac,2):String(e),ac=(e,t)=>t&&t.__v_isRef?ac(e,t.value):ec(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[so(s,o)+" =>"]=r,n),{})}:tc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>so(n))}:nc(t)?so(t):Oe(t)&&!me(t)&&!oc(t)?String(t):t,so=(e,t="")=>{var n;return nc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(e,t,n,s){try{return s?e(...s):e()}catch(r){Er(r,t,n)}}function ht(e,t,n,s){if(_e(e)){const o=fn(e,t,n,s);return o&&sc(o)&&o.catch(i=>{Er(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(ht(e[o],t,n,s));return r}function Er(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){fn(l,null,10,[e,i,a]);return}}Ld(e,n,r,s)}function Ld(e,t,n,s=!0){console.error(e)}let Es=!1,Po=!1;const ze=[];let kt=0;const qn=[];let en=null,xn=0;const lc=Promise.resolve();let vi=null;function xr(e){const t=vi||lc;return e?t.then(this?e.bind(this):e):t}function Nd(e){let t=kt+1,n=ze.length;for(;t<n;){const s=t+n>>>1,r=ze[s],o=xs(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function _i(e){(!ze.length||!ze.includes(e,Es&&e.allowRecurse?kt+1:kt))&&(e.id==null?ze.push(e):ze.splice(Nd(e.id),0,e),cc())}function cc(){!Es&&!Po&&(Po=!0,vi=lc.then(fc))}function Bd(e){const t=ze.indexOf(e);t>kt&&ze.splice(t,1)}function Ud(e){me(e)?qn.push(...e):(!en||!en.includes(e,e.allowRecurse?xn+1:xn))&&qn.push(e),cc()}function fa(e,t,n=Es?kt+1:0){for(;n<ze.length;n++){const s=ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s()}}}function uc(e){if(qn.length){const t=[...new Set(qn)].sort((n,s)=>xs(n)-xs(s));if(qn.length=0,en){en.push(...t);return}for(en=t,xn=0;xn<en.length;xn++)en[xn]();en=null,xn=0}}const xs=e=>e.id==null?1/0:e.id,Od=(e,t)=>{const n=xs(e)-xs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function fc(e){Po=!1,Es=!0,ze.sort(Od);const t=lt;try{for(kt=0;kt<ze.length;kt++){const n=ze[kt];n&&n.active!==!1&&fn(n,null,14)}}finally{kt=0,ze.length=0,uc(),Es=!1,vi=null,(ze.length||qn.length)&&fc()}}function Md(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Pe;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Pe;d&&(r=n.map(p=>nt(p)?p.trim():p)),f&&(r=n.map(Cd))}let a,l=s[a=to(t)]||s[a=to(It(t))];!l&&o&&(l=s[a=to(br(t))]),l&&ht(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(c,e,6,r)}}function dc(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!_e(e)){const l=c=>{const u=dc(c,t,!0);u&&(a=!0,Je(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Oe(e)&&s.set(e,null),null):(me(o)?o.forEach(l=>i[l]=null):Je(i,o),Oe(e)&&s.set(e,i),i)}function Rr(e,t){return!e||!di(t)?!1:(t=t.slice(2).replace(/Once$/,""),$e(e,t[0].toLowerCase()+t.slice(1))||$e(e,br(t))||$e(e,t))}let Me=null,Sr=null;function sr(e){const t=Me;return Me=e,Sr=e&&e.type.__scopeId||null,t}function gt(e){Sr=e}function yt(){Sr=null}function Ye(e,t=Me,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ea(-1);const o=sr(t);let i;try{i=e(...r)}finally{sr(o),s._d&&Ea(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ro(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:p,ctx:v,inheritAttrs:g}=e;let m,b;const E=sr(e);try{if(n.shapeFlag&4){const L=r||s,B=L;m=Rt(u.call(B,L,f,o,p,d,v)),b=l}else{const L=t;m=Rt(L.length>1?L(o,{attrs:l,slots:a,emit:c}):L(o,null)),b=t.props?l:Hd(l)}}catch(L){ys.length=0,Er(L,e,1),m=ye(hn)}let $=m;if(b&&g!==!1){const L=Object.keys(b),{shapeFlag:B}=$;L.length&&B&7&&(i&&L.some(Xl)&&(b=Fd(b,i)),$=Gn($,b))}return n.dirs&&($=Gn($),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&($.transition=n.transition),m=$,sr(E),m}const Hd=e=>{let t;for(const n in e)(n==="class"||n==="style"||di(n))&&((t||(t={}))[n]=e[n]);return t},Fd=(e,t)=>{const n={};for(const s in e)(!Xl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function jd(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?da(s,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!Rr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?da(s,i,c):!0:!!i;return!1}function da(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Rr(n,o))return!0}return!1}function Vd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const hc="components";function Rs(e,t){return qd(hc,e,!0,t)||e}const Dd=Symbol.for("v-ndc");function qd(e,t,n=!0,s=!1){const r=Me||qe;if(r){const o=r.type;if(e===hc){const a=Oh(o,!1);if(a&&(a===t||a===It(t)||a===gi(It(t))))return o}const i=ha(r[e]||o[e],t)||ha(r.appContext[e],t);return!i&&s?o:i}}function ha(e,t){return e&&(e[t]||e[It(t)]||e[gi(It(t))])}const Kd=e=>e.__isSuspense;function zd(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Ud(e)}const Wd=Symbol.for("v-scx"),Gd=()=>ct(Wd);function Jd(e,t){return wi(e,null,t)}const qs={};function At(e,t,n){return wi(e,t,n)}function wi(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Pe){if(t&&o){const C=t;t=(...j)=>{C(...j),B()}}const l=qe,c=C=>s===!0?C:Sn(C,s===!1?1:void 0);let u,f=!1,d=!1;if(He(e)?(u=()=>e.value,f=nr(e)):un(e)?(u=()=>c(e),f=!0):me(e)?(d=!0,f=e.some(C=>un(C)||nr(C)),u=()=>e.map(C=>{if(He(C))return C.value;if(un(C))return c(C);if(_e(C))return fn(C,l,2)})):_e(e)?t?u=()=>fn(e,l,2):u=()=>(p&&p(),ht(e,l,3,[v])):u=lt,t&&s){const C=u;u=()=>Sn(C())}let p,v=C=>{p=$.onStop=()=>{fn(C,l,4),p=$.onStop=void 0}},g;if(Ar)if(v=lt,t?n&&ht(t,l,3,[u(),d?[]:void 0,v]):u(),r==="sync"){const C=Gd();g=C.__watcherHandles||(C.__watcherHandles=[])}else return lt;let m=d?new Array(e.length).fill(qs):qs;const b=()=>{if(!(!$.active||!$.dirty))if(t){const C=$.run();(s||f||(d?C.some((j,F)=>ca(j,m[F])):ca(C,m)))&&(p&&p(),ht(t,l,3,[C,m===qs?void 0:d&&m[0]===qs?[]:m,v]),m=C)}else $.run()};b.allowRecurse=!!t;let E;r==="sync"?E=b:r==="post"?E=()=>Qe(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),E=()=>_i(b));const $=new oi(u,lt,E),L=Nl(),B=()=>{$.stop(),L&&hi(L.effects,$)};return t?n?b():m=$.run():r==="post"?Qe($.run.bind($),l&&l.suspense):$.run(),g&&g.push(B),B}function Zd(e,t,n){const s=this.proxy,r=nt(e)?e.includes(".")?pc(s,e):()=>s[e]:e.bind(s,s);let o;_e(t)?o=t:(o=t.handler,n=t);const i=Ps(this),a=wi(r,o.bind(s),n);return i(),a}function pc(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Sn(e,t,n=0,s){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),He(e))Sn(e.value,t,n,s);else if(me(e))for(let r=0;r<e.length;r++)Sn(e[r],t,n,s);else if(tc(e)||ec(e))e.forEach(r=>{Sn(r,t,n,s)});else if(oc(e))for(const r in e)Sn(e[r],t,n,s);return e}function An(e,t){if(Me===null)return e;const n=Ir(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Pe]=t[r];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function wn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Nn(),ht(l,n,8,[e.el,a,e,t]),Bn())}}/*! #__NO_SIDE_EFFECTS__ */function Be(e,t){return _e(e)?(()=>Je({name:e.name},t,{setup:e}))():e}const ps=e=>!!e.type.__asyncLoader,gc=e=>e.type.__isKeepAlive;function Yd(e,t){yc(e,"a",t)}function Qd(e,t){yc(e,"da",t)}function yc(e,t,n=qe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(kr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)gc(r.parent.vnode)&&Xd(s,t,n,r),r=r.parent}}function Xd(e,t,n,s){const r=kr(t,e,s,!0);_c(()=>{hi(s[t],r)},n)}function kr(e,t,n=qe,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Nn();const a=Ps(n),l=ht(t,n,e,i);return a(),Bn(),l});return s?r.unshift(o):r.push(o),o}}const Vt=e=>(t,n=qe)=>(!Ar||e==="sp")&&kr(e,(...s)=>t(...s),n),vc=Vt("bm"),Tt=Vt("m"),mi=Vt("bu"),eh=Vt("u"),th=Vt("bum"),_c=Vt("um"),nh=Vt("sp"),sh=Vt("rtg"),rh=Vt("rtc");function oh(e,t=qe){kr("ec",e,t)}function ot(e,t,n,s){let r;const o=n&&n[s];if(me(e)||nt(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Oe(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o&&o[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];r[a]=t(e[c],c,a,o&&o[a])}}else r=[];return n&&(n[s]=r),r}function ih(e,t,n={},s,r){if(Me.isCE||Me.parent&&ps(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),P();const i=o&&wc(o(n)),a=Le(xe,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function wc(e){return e.some(t=>or(t)?!(t.type===hn||t.type===xe&&!wc(t.children)):!0)?e:null}const To=e=>e?Pc(e)?Ir(e)||e.proxy:To(e.parent):null,gs=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$emit:e=>e.emit,$options:e=>bi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_i(e.update)}),$nextTick:e=>e.n||(e.n=xr.bind(e.proxy)),$watch:e=>Zd.bind(e)}),oo=(e,t)=>e!==Pe&&!e.__isScriptSetup&&$e(e,t),ah={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=i[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(oo(s,t))return i[t]=1,s[t];if(r!==Pe&&$e(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&$e(c,t))return i[t]=3,o[t];if(n!==Pe&&$e(n,t))return i[t]=4,n[t];Lo&&(i[t]=0)}}const u=gs[t];let f,d;if(u)return t==="$attrs"&&tt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Pe&&$e(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,$e(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return oo(r,t)?(r[t]=n,!0):s!==Pe&&$e(s,t)?(s[t]=n,!0):$e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Pe&&$e(e,i)||oo(t,i)||(a=o[0])&&$e(a,i)||$e(s,i)||$e(gs,i)||$e(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function pa(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lo=!0;function lh(e){const t=bi(e),n=e.proxy,s=e.ctx;Lo=!1,t.beforeCreate&&ga(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:v,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:E,destroyed:$,unmounted:L,render:B,renderTracked:C,renderTriggered:j,errorCaptured:F,serverPrefetch:J,expose:ee,inheritAttrs:te,components:fe,directives:oe,filters:O}=t;if(c&&ch(c,s,null),i)for(const S in i){const I=i[S];_e(I)&&(s[S]=I.bind(n))}if(r){const S=r.call(n,n);Oe(S)&&(e.data=ss(S))}if(Lo=!0,o)for(const S in o){const I=o[S],N=_e(I)?I.bind(n,n):_e(I.get)?I.get.bind(n,n):lt,Q=!_e(I)&&_e(I.set)?I.set.bind(n):lt,ne=Se({get:N,set:Q});Object.defineProperty(s,S,{enumerable:!0,configurable:!0,get:()=>ne.value,set:z=>ne.value=z})}if(a)for(const S in a)mc(a[S],s,n,S);if(l){const S=_e(l)?l.call(n):l;Reflect.ownKeys(S).forEach(I=>{Zs(I,S[I])})}u&&ga(u,e,"c");function R(S,I){me(I)?I.forEach(N=>S(N.bind(n))):I&&S(I.bind(n))}if(R(vc,f),R(Tt,d),R(mi,p),R(eh,v),R(Yd,g),R(Qd,m),R(oh,F),R(rh,C),R(sh,j),R(th,E),R(_c,L),R(nh,J),me(ee))if(ee.length){const S=e.exposed||(e.exposed={});ee.forEach(I=>{Object.defineProperty(S,I,{get:()=>n[I],set:N=>n[I]=N})})}else e.exposed||(e.exposed={});B&&e.render===lt&&(e.render=B),te!=null&&(e.inheritAttrs=te),fe&&(e.components=fe),oe&&(e.directives=oe)}function ch(e,t,n=lt){me(e)&&(e=No(e));for(const s in e){const r=e[s];let o;Oe(r)?"default"in r?o=ct(r.from||s,r.default,!0):o=ct(r.from||s):o=ct(r),He(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function ga(e,t,n){ht(me(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function mc(e,t,n,s){const r=s.includes(".")?pc(n,s):()=>n[s];if(nt(e)){const o=t[e];_e(o)&&At(r,o)}else if(_e(e))At(r,e.bind(n));else if(Oe(e))if(me(e))e.forEach(o=>mc(o,t,n,s));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&At(r,o,e)}}function bi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>rr(l,c,i,!0)),rr(l,t,i)),Oe(t)&&o.set(t,l),l}function rr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&rr(e,o,n,!0),r&&r.forEach(i=>rr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=uh[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const uh={data:ya,props:va,emits:va,methods:ds,computed:ds,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:ds,directives:ds,watch:dh,provide:ya,inject:fh};function ya(e,t){return t?e?function(){return Je(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function fh(e,t){return ds(No(e),No(t))}function No(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function ds(e,t){return e?Je(Object.create(null),e,t):t}function va(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Je(Object.create(null),pa(e),pa(t??{})):t}function dh(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const s in t)n[s]=Ze(e[s],t[s]);return n}function bc(){return{app:null,config:{isNativeTag:Rd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hh=0;function ph(e,t){return function(s,r=null){_e(s)||(s=Je({},s)),r!=null&&!Oe(r)&&(r=null);const o=bc(),i=new WeakSet;let a=!1;const l=o.app={_uid:hh++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Hh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(l,...u)):_e(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const d=ye(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Ir(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=Kn;Kn=l;try{return c()}finally{Kn=u}}};return l}}let Kn=null;function Zs(e,t){if(qe){let n=qe.provides;const s=qe.parent&&qe.parent.provides;s===n&&(n=qe.provides=Object.create(s)),n[e]=t}}function ct(e,t,n=!1){const s=qe||Me;if(s||Kn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Kn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function gh(){return!!(qe||Me||Kn)}function yh(e,t,n,s=!1){const r={},o={};Io(o,Cr,1),e.propsDefaults=Object.create(null),Ec(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:zl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function vh(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=be(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Rr(e.emitsOptions,d))continue;const p=t[d];if(l)if($e(o,d))p!==o[d]&&(o[d]=p,c=!0);else{const v=It(d);r[v]=Bo(l,a,v,p,e,!1)}else p!==o[d]&&(o[d]=p,c=!0)}}}else{Ec(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!$e(t,f)&&((u=br(f))===f||!$e(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Bo(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!$e(t,f))&&(delete o[f],c=!0)}c&&Ht(e,"set","$attrs")}function Ec(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(hs(l))continue;const c=t[l];let u;r&&$e(r,u=It(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Rr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=be(n),c=a||Pe;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Bo(r,l,f,c[f],e,!$e(c,f))}}return i}function Bo(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=$e(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Ps(r);s=c[n]=l.call(null,t),u()}}else s=l}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===br(n))&&(s=!0))}return s}function xc(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!_e(e)){const u=f=>{l=!0;const[d,p]=xc(f,t,!0);Je(i,d),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Oe(e)&&s.set(e,Dn),Dn;if(me(o))for(let u=0;u<o.length;u++){const f=It(o[u]);_a(f)&&(i[f]=Pe)}else if(o)for(const u in o){const f=It(u);if(_a(f)){const d=o[u],p=i[f]=me(d)||_e(d)?{type:d}:Je({},d);if(p){const v=ba(Boolean,p.type),g=ba(String,p.type);p[0]=v>-1,p[1]=g<0||v<g,(v>-1||$e(p,"default"))&&a.push(f)}}}const c=[i,a];return Oe(e)&&s.set(e,c),c}function _a(e){return e[0]!=="$"&&!hs(e)}function wa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function ma(e,t){return wa(e)===wa(t)}function ba(e,t){return me(t)?t.findIndex(n=>ma(n,e)):_e(t)&&ma(t,e)?0:-1}const Rc=e=>e[0]==="_"||e==="$stable",Ei=e=>me(e)?e.map(Rt):[Rt(e)],_h=(e,t,n)=>{if(t._n)return t;const s=Ye((...r)=>Ei(t(...r)),n);return s._c=!1,s},Sc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Rc(r))continue;const o=e[r];if(_e(o))t[r]=_h(r,o,s);else if(o!=null){const i=Ei(o);t[r]=()=>i}}},kc=(e,t)=>{const n=Ei(t);e.slots.default=()=>n},wh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),Io(t,"_",n)):Sc(t,e.slots={})}else e.slots={},t&&kc(e,t);Io(e.slots,Cr,1)},mh=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Pe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Je(r,t),!n&&a===1&&delete r._):(o=!t.$stable,Sc(t,r)),i=t}else t&&(kc(e,t),i={default:1});if(o)for(const a in r)!Rc(a)&&i[a]==null&&delete r[a]};function Uo(e,t,n,s,r=!1){if(me(e)){e.forEach((d,p)=>Uo(d,t&&(me(t)?t[p]:t),n,s,r));return}if(ps(s)&&!r)return;const o=s.shapeFlag&4?Ir(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Pe?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(nt(c)?(u[c]=null,$e(f,c)&&(f[c]=null)):He(c)&&(c.value=null)),_e(l))fn(l,a,12,[i,u]);else{const d=nt(l),p=He(l);if(d||p){const v=()=>{if(e.f){const g=d?$e(f,l)?f[l]:u[l]:l.value;r?me(g)&&hi(g,o):me(g)?g.includes(o)||g.push(o):d?(u[l]=[o],$e(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else d?(u[l]=i,$e(f,l)&&(f[l]=i)):p&&(l.value=i,e.k&&(u[e.k]=i))};i?(v.id=-1,Qe(v,n)):v()}}}const Qe=zd;function bh(e){return Eh(e)}function Eh(e,t){const n=ic();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=lt,insertStaticContent:v}=e,g=(h,y,w,k=null,T=null,W=null,X=void 0,q=null,D=!!y.dynamicChildren)=>{if(h===y)return;h&&!ls(h,y)&&(k=x(h),z(h,T,W,!0),h=null),y.patchFlag===-2&&(D=!1,y.dynamicChildren=null);const{type:V,ref:se,shapeFlag:re}=y;switch(V){case $r:m(h,y,w,k);break;case hn:b(h,y,w,k);break;case Ys:h==null&&E(y,w,k,X);break;case xe:fe(h,y,w,k,T,W,X,q,D);break;default:re&1?B(h,y,w,k,T,W,X,q,D):re&6?oe(h,y,w,k,T,W,X,q,D):(re&64||re&128)&&V.process(h,y,w,k,T,W,X,q,D,G)}se!=null&&T&&Uo(se,h&&h.ref,W,y||h,!y)},m=(h,y,w,k)=>{if(h==null)s(y.el=a(y.children),w,k);else{const T=y.el=h.el;y.children!==h.children&&c(T,y.children)}},b=(h,y,w,k)=>{h==null?s(y.el=l(y.children||""),w,k):y.el=h.el},E=(h,y,w,k)=>{[h.el,h.anchor]=v(h.children,y,w,k,h.el,h.anchor)},$=({el:h,anchor:y},w,k)=>{let T;for(;h&&h!==y;)T=d(h),s(h,w,k),h=T;s(y,w,k)},L=({el:h,anchor:y})=>{let w;for(;h&&h!==y;)w=d(h),r(h),h=w;r(y)},B=(h,y,w,k,T,W,X,q,D)=>{y.type==="svg"?X="svg":y.type==="math"&&(X="mathml"),h==null?C(y,w,k,T,W,X,q,D):J(h,y,T,W,X,q,D)},C=(h,y,w,k,T,W,X,q)=>{let D,V;const{props:se,shapeFlag:re,transition:ae,dirs:ge}=h;if(D=h.el=i(h.type,W,se&&se.is,se),re&8?u(D,h.children):re&16&&F(h.children,D,null,k,T,io(h,W),X,q),ge&&wn(h,null,k,"created"),j(D,h,h.scopeId,X,k),se){for(const Ce in se)Ce!=="value"&&!hs(Ce)&&o(D,Ce,null,se[Ce],W,h.children,k,T,Z);"value"in se&&o(D,"value",null,se.value,W),(V=se.onVnodeBeforeMount)&&wt(V,k,h)}ge&&wn(h,null,k,"beforeMount");const we=xh(T,ae);we&&ae.beforeEnter(D),s(D,y,w),((V=se&&se.onVnodeMounted)||we||ge)&&Qe(()=>{V&&wt(V,k,h),we&&ae.enter(D),ge&&wn(h,null,k,"mounted")},T)},j=(h,y,w,k,T)=>{if(w&&p(h,w),k)for(let W=0;W<k.length;W++)p(h,k[W]);if(T){let W=T.subTree;if(y===W){const X=T.vnode;j(h,X,X.scopeId,X.slotScopeIds,T.parent)}}},F=(h,y,w,k,T,W,X,q,D=0)=>{for(let V=D;V<h.length;V++){const se=h[V]=q?tn(h[V]):Rt(h[V]);g(null,se,y,w,k,T,W,X,q)}},J=(h,y,w,k,T,W,X)=>{const q=y.el=h.el;let{patchFlag:D,dynamicChildren:V,dirs:se}=y;D|=h.patchFlag&16;const re=h.props||Pe,ae=y.props||Pe;let ge;if(w&&mn(w,!1),(ge=ae.onVnodeBeforeUpdate)&&wt(ge,w,y,h),se&&wn(y,h,w,"beforeUpdate"),w&&mn(w,!0),V?ee(h.dynamicChildren,V,q,w,k,io(y,T),W):X||I(h,y,q,null,w,k,io(y,T),W,!1),D>0){if(D&16)te(q,y,re,ae,w,k,T);else if(D&2&&re.class!==ae.class&&o(q,"class",null,ae.class,T),D&4&&o(q,"style",re.style,ae.style,T),D&8){const we=y.dynamicProps;for(let Ce=0;Ce<we.length;Ce++){const Te=we[Ce],Fe=re[Te],ut=ae[Te];(ut!==Fe||Te==="value")&&o(q,Te,Fe,ut,T,h.children,w,k,Z)}}D&1&&h.children!==y.children&&u(q,y.children)}else!X&&V==null&&te(q,y,re,ae,w,k,T);((ge=ae.onVnodeUpdated)||se)&&Qe(()=>{ge&&wt(ge,w,y,h),se&&wn(y,h,w,"updated")},k)},ee=(h,y,w,k,T,W,X)=>{for(let q=0;q<y.length;q++){const D=h[q],V=y[q],se=D.el&&(D.type===xe||!ls(D,V)||D.shapeFlag&70)?f(D.el):w;g(D,V,se,null,k,T,W,X,!0)}},te=(h,y,w,k,T,W,X)=>{if(w!==k){if(w!==Pe)for(const q in w)!hs(q)&&!(q in k)&&o(h,q,w[q],null,X,y.children,T,W,Z);for(const q in k){if(hs(q))continue;const D=k[q],V=w[q];D!==V&&q!=="value"&&o(h,q,V,D,X,y.children,T,W,Z)}"value"in k&&o(h,"value",w.value,k.value,X)}},fe=(h,y,w,k,T,W,X,q,D)=>{const V=y.el=h?h.el:a(""),se=y.anchor=h?h.anchor:a("");let{patchFlag:re,dynamicChildren:ae,slotScopeIds:ge}=y;ge&&(q=q?q.concat(ge):ge),h==null?(s(V,w,k),s(se,w,k),F(y.children||[],w,se,T,W,X,q,D)):re>0&&re&64&&ae&&h.dynamicChildren?(ee(h.dynamicChildren,ae,w,T,W,X,q),(y.key!=null||T&&y===T.subTree)&&$c(h,y,!0)):I(h,y,w,se,T,W,X,q,D)},oe=(h,y,w,k,T,W,X,q,D)=>{y.slotScopeIds=q,h==null?y.shapeFlag&512?T.ctx.activate(y,w,k,X,D):O(y,w,k,T,W,X,D):A(h,y,D)},O=(h,y,w,k,T,W,X)=>{const q=h.component=Th(h,k,T);if(gc(h)&&(q.ctx.renderer=G),Lh(q),q.asyncDep){if(T&&T.registerDep(q,R),!h.el){const D=q.subTree=ye(hn);b(null,D,y,w)}}else R(q,h,y,w,T,W,X)},A=(h,y,w)=>{const k=y.component=h.component;if(jd(h,y,w))if(k.asyncDep&&!k.asyncResolved){S(k,y,w);return}else k.next=y,Bd(k.update),k.effect.dirty=!0,k.update();else y.el=h.el,k.vnode=y},R=(h,y,w,k,T,W,X)=>{const q=()=>{if(h.isMounted){let{next:se,bu:re,u:ae,parent:ge,vnode:we}=h;{const Mn=Cc(h);if(Mn){se&&(se.el=we.el,S(h,se,X)),Mn.asyncDep.then(()=>{h.isUnmounted||q()});return}}let Ce=se,Te;mn(h,!1),se?(se.el=we.el,S(h,se,X)):se=we,re&&no(re),(Te=se.props&&se.props.onVnodeBeforeUpdate)&&wt(Te,ge,se,we),mn(h,!0);const Fe=ro(h),ut=h.subTree;h.subTree=Fe,g(ut,Fe,f(ut.el),x(ut),h,T,W),se.el=Fe.el,Ce===null&&Vd(h,Fe.el),ae&&Qe(ae,T),(Te=se.props&&se.props.onVnodeUpdated)&&Qe(()=>wt(Te,ge,se,we),T)}else{let se;const{el:re,props:ae}=y,{bm:ge,m:we,parent:Ce}=h,Te=ps(y);if(mn(h,!1),ge&&no(ge),!Te&&(se=ae&&ae.onVnodeBeforeMount)&&wt(se,Ce,y),mn(h,!0),re&&de){const Fe=()=>{h.subTree=ro(h),de(re,h.subTree,h,T,null)};Te?y.type.__asyncLoader().then(()=>!h.isUnmounted&&Fe()):Fe()}else{const Fe=h.subTree=ro(h);g(null,Fe,w,k,h,T,W),y.el=Fe.el}if(we&&Qe(we,T),!Te&&(se=ae&&ae.onVnodeMounted)){const Fe=y;Qe(()=>wt(se,Ce,Fe),T)}(y.shapeFlag&256||Ce&&ps(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&h.a&&Qe(h.a,T),h.isMounted=!0,y=w=k=null}},D=h.effect=new oi(q,lt,()=>_i(V),h.scope),V=h.update=()=>{D.dirty&&D.run()};V.id=h.uid,mn(h,!0),V()},S=(h,y,w)=>{y.component=h;const k=h.vnode.props;h.vnode=y,h.next=null,vh(h,y.props,k,w),mh(h,y.children,w),Nn(),fa(h),Bn()},I=(h,y,w,k,T,W,X,q,D=!1)=>{const V=h&&h.children,se=h?h.shapeFlag:0,re=y.children,{patchFlag:ae,shapeFlag:ge}=y;if(ae>0){if(ae&128){Q(V,re,w,k,T,W,X,q,D);return}else if(ae&256){N(V,re,w,k,T,W,X,q,D);return}}ge&8?(se&16&&Z(V,T,W),re!==V&&u(w,re)):se&16?ge&16?Q(V,re,w,k,T,W,X,q,D):Z(V,T,W,!0):(se&8&&u(w,""),ge&16&&F(re,w,k,T,W,X,q,D))},N=(h,y,w,k,T,W,X,q,D)=>{h=h||Dn,y=y||Dn;const V=h.length,se=y.length,re=Math.min(V,se);let ae;for(ae=0;ae<re;ae++){const ge=y[ae]=D?tn(y[ae]):Rt(y[ae]);g(h[ae],ge,w,null,T,W,X,q,D)}V>se?Z(h,T,W,!0,!1,re):F(y,w,k,T,W,X,q,D,re)},Q=(h,y,w,k,T,W,X,q,D)=>{let V=0;const se=y.length;let re=h.length-1,ae=se-1;for(;V<=re&&V<=ae;){const ge=h[V],we=y[V]=D?tn(y[V]):Rt(y[V]);if(ls(ge,we))g(ge,we,w,null,T,W,X,q,D);else break;V++}for(;V<=re&&V<=ae;){const ge=h[re],we=y[ae]=D?tn(y[ae]):Rt(y[ae]);if(ls(ge,we))g(ge,we,w,null,T,W,X,q,D);else break;re--,ae--}if(V>re){if(V<=ae){const ge=ae+1,we=ge<se?y[ge].el:k;for(;V<=ae;)g(null,y[V]=D?tn(y[V]):Rt(y[V]),w,we,T,W,X,q,D),V++}}else if(V>ae)for(;V<=re;)z(h[V],T,W,!0),V++;else{const ge=V,we=V,Ce=new Map;for(V=we;V<=ae;V++){const st=y[V]=D?tn(y[V]):Rt(y[V]);st.key!=null&&Ce.set(st.key,V)}let Te,Fe=0;const ut=ae-we+1;let Mn=!1,Xi=0;const as=new Array(ut);for(V=0;V<ut;V++)as[V]=0;for(V=ge;V<=re;V++){const st=h[V];if(Fe>=ut){z(st,T,W,!0);continue}let _t;if(st.key!=null)_t=Ce.get(st.key);else for(Te=we;Te<=ae;Te++)if(as[Te-we]===0&&ls(st,y[Te])){_t=Te;break}_t===void 0?z(st,T,W,!0):(as[_t-we]=V+1,_t>=Xi?Xi=_t:Mn=!0,g(st,y[_t],w,null,T,W,X,q,D),Fe++)}const ea=Mn?Rh(as):Dn;for(Te=ea.length-1,V=ut-1;V>=0;V--){const st=we+V,_t=y[st],ta=st+1<se?y[st+1].el:k;as[V]===0?g(null,_t,w,ta,T,W,X,q,D):Mn&&(Te<0||V!==ea[Te]?ne(_t,w,ta,2):Te--)}}},ne=(h,y,w,k,T=null)=>{const{el:W,type:X,transition:q,children:D,shapeFlag:V}=h;if(V&6){ne(h.component.subTree,y,w,k);return}if(V&128){h.suspense.move(y,w,k);return}if(V&64){X.move(h,y,w,G);return}if(X===xe){s(W,y,w);for(let re=0;re<D.length;re++)ne(D[re],y,w,k);s(h.anchor,y,w);return}if(X===Ys){$(h,y,w);return}if(k!==2&&V&1&&q)if(k===0)q.beforeEnter(W),s(W,y,w),Qe(()=>q.enter(W),T);else{const{leave:re,delayLeave:ae,afterLeave:ge}=q,we=()=>s(W,y,w),Ce=()=>{re(W,()=>{we(),ge&&ge()})};ae?ae(W,we,Ce):Ce()}else s(W,y,w)},z=(h,y,w,k=!1,T=!1)=>{const{type:W,props:X,ref:q,children:D,dynamicChildren:V,shapeFlag:se,patchFlag:re,dirs:ae}=h;if(q!=null&&Uo(q,null,w,h,!0),se&256){y.ctx.deactivate(h);return}const ge=se&1&&ae,we=!ps(h);let Ce;if(we&&(Ce=X&&X.onVnodeBeforeUnmount)&&wt(Ce,y,h),se&6)Y(h.component,w,k);else{if(se&128){h.suspense.unmount(w,k);return}ge&&wn(h,null,y,"beforeUnmount"),se&64?h.type.remove(h,y,w,T,G,k):V&&(W!==xe||re>0&&re&64)?Z(V,y,w,!1,!0):(W===xe&&re&384||!T&&se&16)&&Z(D,y,w),k&&pe(h)}(we&&(Ce=X&&X.onVnodeUnmounted)||ge)&&Qe(()=>{Ce&&wt(Ce,y,h),ge&&wn(h,null,y,"unmounted")},w)},pe=h=>{const{type:y,el:w,anchor:k,transition:T}=h;if(y===xe){he(w,k);return}if(y===Ys){L(h);return}const W=()=>{r(w),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:X,delayLeave:q}=T,D=()=>X(w,W);q?q(h.el,W,D):D()}else W()},he=(h,y)=>{let w;for(;h!==y;)w=d(h),r(h),h=w;r(y)},Y=(h,y,w)=>{const{bum:k,scope:T,update:W,subTree:X,um:q}=h;k&&no(k),T.stop(),W&&(W.active=!1,z(X,h,y,w)),q&&Qe(q,y),Qe(()=>{h.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},Z=(h,y,w,k=!1,T=!1,W=0)=>{for(let X=W;X<h.length;X++)z(h[X],y,w,k,T)},x=h=>h.shapeFlag&6?x(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let H=!1;const M=(h,y,w)=>{h==null?y._vnode&&z(y._vnode,null,null,!0):g(y._vnode||null,h,y,null,null,null,w),H||(H=!0,fa(),uc(),H=!1),y._vnode=h},G={p:g,um:z,m:ne,r:pe,mt:O,mc:F,pc:I,pbc:ee,n:x,o:e};let ue,de;return t&&([ue,de]=t(G)),{render:M,hydrate:ue,createApp:ph(M,ue)}}function io({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function xh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function $c(e,t,n=!1){const s=e.children,r=t.children;if(me(s)&&me(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=tn(r[o]),a.el=i.el),n||$c(i,a)),a.type===$r&&(a.el=i.el)}}function Rh(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Cc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Cc(t)}const Sh=e=>e.__isTeleport,xe=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),Ys=Symbol.for("v-stc"),ys=[];let dt=null;function P(e=!1){ys.push(dt=e?null:[])}function kh(){ys.pop(),dt=ys[ys.length-1]||null}let Ss=1;function Ea(e){Ss+=e}function Ac(e){return e.dynamicChildren=Ss>0?dt||Dn:null,kh(),Ss>0&&dt&&dt.push(e),e}function U(e,t,n,s,r,o){return Ac(_(e,t,n,s,r,o,!0))}function Le(e,t,n,s,r){return Ac(ye(e,t,n,s,r,!0))}function or(e){return e?e.__v_isVNode===!0:!1}function ls(e,t){return e.type===t.type&&e.key===t.key}const Cr="__vInternal",Ic=({key:e})=>e??null,Qs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||He(e)||_e(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function _(e,t=null,n=null,s=0,r=null,o=e===xe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ic(t),ref:t&&Qs(t),scopeId:Sr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Me};return a?(Ri(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=nt(n)?8:16),Ss>0&&!i&&dt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&dt.push(l),l}const ye=$h;function $h(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===Dd)&&(e=hn),or(e)){const a=Gn(e,t,!0);return n&&Ri(a,n),Ss>0&&!o&&dt&&(a.shapeFlag&6?dt[dt.indexOf(e)]=a:dt.push(a)),a.patchFlag|=-2,a}if(Mh(e)&&(e=e.__vccOpts),t){t=Ch(t);let{class:a,style:l}=t;a&&!nt(a)&&(t.class=Ie(a)),Oe(l)&&(Gl(l)&&!me(l)&&(l=Je({},l)),t.style=yi(l))}const i=nt(e)?1:Kd(e)?128:Sh(e)?64:Oe(e)?4:_e(e)?2:0;return _(e,t,n,s,r,i,o,!0)}function Ch(e){return e?Gl(e)||Cr in e?Je({},e):e:null}function Gn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?Ah(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ic(a),ref:t&&t.ref?n&&r?me(r)?r.concat(Qs(t)):[r,Qs(t)]:Qs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Re(e=" ",t=0){return ye($r,null,e,t)}function xi(e,t){const n=ye(Ys,null,e);return n.staticCount=t,n}function ie(e="",t=!1){return t?(P(),Le(hn,null,e)):ye(hn,null,e)}function Rt(e){return e==null||typeof e=="boolean"?ye(hn):me(e)?ye(xe,null,e.slice()):typeof e=="object"?tn(e):ye($r,null,String(e))}function tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function Ri(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ri(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Cr in t)?t._ctx=Me:r===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[Re(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ah(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=yi([t.style,s.style]);else if(di(r)){const o=t[r],i=s[r];i&&o!==i&&!(me(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function wt(e,t,n,s=null){ht(e,t,7,[n,s])}const Ih=bc();let Ph=0;function Th(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Ih,o={uid:Ph++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xc(s,r),emitsOptions:dc(s,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Md.bind(null,o),e.ce&&e.ce(o),o}let qe=null,ir,Oo;{const e=ic(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};ir=t("__VUE_INSTANCE_SETTERS__",n=>qe=n),Oo=t("__VUE_SSR_SETTERS__",n=>Ar=n)}const Ps=e=>{const t=qe;return ir(e),e.scope.on(),()=>{e.scope.off(),ir(t)}},xa=()=>{qe&&qe.scope.off(),ir(null)};function Pc(e){return e.vnode.shapeFlag&4}let Ar=!1;function Lh(e,t=!1){t&&Oo(t);const{props:n,children:s}=e.vnode,r=Pc(e);yh(e,n,r,t),wh(e,s);const o=r?Nh(e,t):void 0;return t&&Oo(!1),o}function Nh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wr(new Proxy(e.ctx,ah));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Uh(e):null,o=Ps(e);Nn();const i=fn(s,e,0,[e.props,r]);if(Bn(),o(),sc(i)){if(i.then(xa,xa),t)return i.then(a=>{Ra(e,a,t)}).catch(a=>{Er(a,e,0)});e.asyncDep=i}else Ra(e,i,t)}else Tc(e,t)}function Ra(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Ql(t)),Tc(e,n)}let Sa;function Tc(e,t,n){const s=e.type;if(!e.render){if(!t&&Sa&&!s.render){const r=s.template||bi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Je(Je({isCustomElement:o,delimiters:a},i),l);s.render=Sa(r,c)}}e.render=s.render||lt}{const r=Ps(e);Nn();try{lh(e)}finally{Bn(),r()}}}function Bh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tt(e,"get","$attrs"),t[n]}}))}function Uh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Bh(e)},slots:e.slots,emit:e.emit,expose:t}}function Ir(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ql(wr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gs)return gs[n](e)},has(t,n){return n in t||n in gs}}))}function Oh(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function Mh(e){return _e(e)&&"__vccOpts"in e}const Se=(e,t)=>yd(e,t,Ar);function Lc(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!me(t)?or(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&or(n)&&(n=[n]),ye(e,t,n))}const Hh="3.4.19";/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fh(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const jh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vh=e=>e.startsWith("onUpdate:"),Dh=Object.assign,pn=Array.isArray,Pr=e=>Bc(e)==="[object Set]",ka=e=>Bc(e)==="[object Date]",Nc=e=>typeof e=="function",ar=e=>typeof e=="string",$a=e=>typeof e=="symbol",Ca=e=>e!==null&&typeof e=="object",qh=Object.prototype.toString,Bc=e=>qh.call(e),Uc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Kh=/\B([A-Z])/g,Oc=Uc(e=>e.replace(Kh,"-$1").toLowerCase()),zh=Uc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},lr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Gh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jh=Fh(Gh);function Mc(e){return!!e||e===""}function Zh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Ts(e[s],t[s]);return n}function Ts(e,t){if(e===t)return!0;let n=ka(e),s=ka(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=$a(e),s=$a(t),n||s)return e===t;if(n=pn(e),s=pn(t),n||s)return n&&s?Zh(e,t):!1;if(n=Ca(e),s=Ca(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Ts(e[i],t[i]))return!1}}return String(e)===String(t)}function Si(e,t){return e.findIndex(n=>Ts(n,t))}/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Yh="http://www.w3.org/2000/svg",Qh="http://www.w3.org/1998/Math/MathML",nn=typeof document<"u"?document:null,Aa=nn&&nn.createElement("template"),Xh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?nn.createElementNS(Yh,e):t==="mathml"?nn.createElementNS(Qh,e):nn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>nn.createTextNode(e),createComment:e=>nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Aa.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=Aa.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ep=Symbol("_vtc");function tp(e,t,n){const s=e[ep];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ia=Symbol("_vod"),np=Symbol(""),sp=/(^|;)\s*display\s*:/;function rp(e,t,n){const s=e.style,r=ar(n),o=s.display;let i=!1;if(n&&!r){if(t&&!ar(t))for(const a in t)n[a]==null&&Mo(s,a,"");for(const a in n)a==="display"&&(i=!0),Mo(s,a,n[a])}else if(r){if(t!==n){const a=s[np];a&&(n+=";"+a),s.cssText=n,i=sp.test(n)}}else t&&e.removeAttribute("style");Ia in e&&(e[Ia]=i?s.display:"",s.display=o)}const Pa=/\s*!important$/;function Mo(e,t,n){if(pn(n))n.forEach(s=>Mo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=op(e,t);Pa.test(n)?e.setProperty(Oc(s),n.replace(Pa,""),"important"):e[s]=n}}const Ta=["Webkit","Moz","ms"],ao={};function op(e,t){const n=ao[t];if(n)return n;let s=It(t);if(s!=="filter"&&s in e)return ao[t]=s;s=zh(s);for(let r=0;r<Ta.length;r++){const o=Ta[r]+s;if(o in e)return ao[t]=o}return t}const La="http://www.w3.org/1999/xlink";function ip(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,n);else{const o=Jh(t);n==null||o&&!Mc(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function ap(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Mc(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function rn(e,t,n,s){e.addEventListener(t,n,s)}function lp(e,t,n,s){e.removeEventListener(t,n,s)}const Na=Symbol("_vei");function cp(e,t,n,s,r=null){const o=e[Na]||(e[Na]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=up(t);if(s){const c=o[t]=hp(s,r);rn(e,a,c,l)}else i&&(lp(e,a,i,l),o[t]=void 0)}}const Ba=/(?:Once|Passive|Capture)$/;function up(e){let t;if(Ba.test(e)){t={};let s;for(;s=e.match(Ba);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Oc(e.slice(2)),t]}let lo=0;const fp=Promise.resolve(),dp=()=>lo||(fp.then(()=>lo=0),lo=Date.now());function hp(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ht(pp(s,n.value),t,5,[s])};return n.value=e,n.attached=dp(),n}function pp(e,t){if(pn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ua=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gp=(e,t,n,s,r,o,i,a,l)=>{const c=r==="svg";t==="class"?tp(e,s,c):t==="style"?rp(e,n,s):jh(t)?Vh(t)||cp(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yp(e,t,s,c))?ap(e,t,s,o,i,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),ip(e,t,s,c))};function yp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ua(t)&&Nc(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ua(t)&&ar(n)?!1:t in e}const Jn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pn(t)?n=>Wh(t,n):t};function vp(e){e.target.composing=!0}function Oa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ft=Symbol("_assign"),ks={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ft]=Jn(r);const o=s||r.props&&r.props.type==="number";rn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=lr(a)),e[Ft](a)}),n&&rn(e,"change",()=>{e.value=e.value.trim()}),t||(rn(e,"compositionstart",vp),rn(e,"compositionend",Oa),rn(e,"change",Oa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Ft]=Jn(o),e.composing)return;const i=r||e.type==="number"?lr(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},_p={deep:!0,created(e,t,n){e[Ft]=Jn(n),rn(e,"change",()=>{const s=e._modelValue,r=$s(e),o=e.checked,i=e[Ft];if(pn(s)){const a=Si(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const c=[...s];c.splice(a,1),i(c)}}else if(Pr(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(Hc(e,o))})},mounted:Ma,beforeUpdate(e,t,n){e[Ft]=Jn(n),Ma(e,t,n)}};function Ma(e,{value:t,oldValue:n},s){e._modelValue=t,pn(t)?e.checked=Si(t,s.props.value)>-1:Pr(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Ts(t,Hc(e,!0)))}const wp={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=Pr(t);rn(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?lr($s(i)):$s(i));e[Ft](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,xr(()=>{e._assigning=!1})}),e[Ft]=Jn(s)},mounted(e,{value:t,oldValue:n,modifiers:{number:s}}){Ha(e,t,n,s)},beforeUpdate(e,t,n){e[Ft]=Jn(n)},updated(e,{value:t,oldValue:n,modifiers:{number:s}}){e._assigning||Ha(e,t,n,s)}};function Ha(e,t,n,s){const r=e.multiple,o=pn(t);if(!(r&&!o&&!Pr(t))){for(let i=0,a=e.options.length;i<a;i++){const l=e.options[i],c=$s(l);if(r)if(o){const u=typeof c;u==="string"||u==="number"?l.selected=t.includes(s?lr(c):c):l.selected=Si(t,c)>-1}else l.selected=t.has(c);else if(Ts($s(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $s(e){return"_value"in e?e._value:e.value}function Hc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const mp=["ctrl","shift","alt","meta"],bp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mp.some(n=>e[`${n}Key`]&&!t.includes(n))},Ho=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=bp[t[i]];if(a&&a(r,t))return}return e(r,...o)})},Ep=Dh({patchProp:gp},Xh);let Fa;function xp(){return Fa||(Fa=bh(Ep))}const Rp=(...e)=>{const t=xp().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=kp(s);if(!r)return;const o=t._component;!Nc(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,Sp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Sp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function kp(e){return ar(e)?document.querySelector(e):e}var $p=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Fc;const Tr=e=>Fc=e,jc=Symbol();function Fo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vs||(vs={}));function Cp(){const e=Ll(!0),t=e.run(()=>K({}));let n=[],s=[];const r=wr({install(o){Tr(r),r._a=o,o.provide(jc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!$p?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const Vc=()=>{};function ja(e,t,n,s=Vc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Nl()&&Jf(r),r}function Hn(e,...t){e.slice().forEach(n=>{n(...t)})}const Ap=e=>e();function jo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Fo(r)&&Fo(s)&&e.hasOwnProperty(n)&&!He(s)&&!un(s)?e[n]=jo(r,s):e[n]=s}return e}const Ip=Symbol();function Pp(e){return!Fo(e)||!e.hasOwnProperty(Ip)}const{assign:Xt}=Object;function Tp(e){return!!(He(e)&&e.effect)}function Lp(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=md(n.state.value[e]);return Xt(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=wr(Se(()=>{Tr(n);const p=n._s.get(e);return i[d].call(p,p)})),f),{}))}return l=Dc(e,c,t,n,s,!0),l}function Dc(e,t,n={},s,r,o){let i;const a=Xt({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],p;const v=s.state.value[e];!o&&!v&&(s.state.value[e]={}),K({});let g;function m(F){let J;c=u=!1,typeof F=="function"?(F(s.state.value[e]),J={type:vs.patchFunction,storeId:e,events:p}):(jo(s.state.value[e],F),J={type:vs.patchObject,payload:F,storeId:e,events:p});const ee=g=Symbol();xr().then(()=>{g===ee&&(c=!0)}),u=!0,Hn(f,J,s.state.value[e])}const b=o?function(){const{state:J}=n,ee=J?J():{};this.$patch(te=>{Xt(te,ee)})}:Vc;function E(){i.stop(),f=[],d=[],s._s.delete(e)}function $(F,J){return function(){Tr(s);const ee=Array.from(arguments),te=[],fe=[];function oe(R){te.push(R)}function O(R){fe.push(R)}Hn(d,{args:ee,name:F,store:B,after:oe,onError:O});let A;try{A=J.apply(this&&this.$id===e?this:B,ee)}catch(R){throw Hn(fe,R),R}return A instanceof Promise?A.then(R=>(Hn(te,R),R)).catch(R=>(Hn(fe,R),Promise.reject(R))):(Hn(te,A),A)}}const L={_p:s,$id:e,$onAction:ja.bind(null,d),$patch:m,$reset:b,$subscribe(F,J={}){const ee=ja(f,F,J.detached,()=>te()),te=i.run(()=>At(()=>s.state.value[e],fe=>{(J.flush==="sync"?u:c)&&F({storeId:e,type:vs.direct,events:p},fe)},Xt({},l,J)));return ee},$dispose:E},B=ss(L);s._s.set(e,B);const j=(s._a&&s._a.runWithContext||Ap)(()=>s._e.run(()=>(i=Ll()).run(t)));for(const F in j){const J=j[F];if(He(J)&&!Tp(J)||un(J))o||(v&&Pp(J)&&(He(J)?J.value=v[F]:jo(J,v[F])),s.state.value[e][F]=J);else if(typeof J=="function"){const ee=$(F,J);j[F]=ee,a.actions[F]=J}}return Xt(B,j),Xt(be(B),j),Object.defineProperty(B,"$state",{get:()=>s.state.value[e],set:F=>{m(J=>{Xt(J,F)})}}),s._p.forEach(F=>{Xt(B,i.run(()=>F({store:B,app:s._a,pinia:s,options:a})))}),v&&o&&n.hydrate&&n.hydrate(B.$state,v),c=!0,u=!0,B}function yn(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=gh();return a=a||(c?ct(jc,null):null),a&&Tr(a),a=Fc,a._s.has(s)||(o?Dc(s,t,r,a):Lp(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof window<"u";function Np(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ke=Object.assign;function co(e,t){const n={};for(const s in t){const r=t[s];n[s]=pt(r)?r.map(e):e(r)}return n}const _s=()=>{},pt=Array.isArray,Bp=/\/$/,Up=e=>e.replace(Bp,"");function uo(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=Fp(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Op(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Va(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Mp(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zn(t.matched[s],n.matched[r])&&qc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Hp(e[n],t[n]))return!1;return!0}function Hp(e,t){return pt(e)?Da(e,t):pt(t)?Da(t,e):e===t}function Da(e,t){return pt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Fp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Cs;(function(e){e.pop="pop",e.push="push"})(Cs||(Cs={}));var ws;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ws||(ws={}));function jp(e){if(!e)if(Fn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Up(e)}const Vp=/^[^#]+#/;function Dp(e,t){return e.replace(Vp,"#")+t}function qp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Lr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Kp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=qp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function qa(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function zp(e,t){Vo.set(e,t)}function Wp(e){const t=Vo.get(e);return Vo.delete(e),t}let Gp=()=>location.protocol+"//"+location.host;function Kc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Va(l,"")}return Va(n,e)+s+r}function Jp(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const p=Kc(e,location),v=n.value,g=t.value;let m=0;if(d){if(n.value=p,t.value=d,i&&i===v){i=null;return}m=g?d.position-g.position:0}else s(p);r.forEach(b=>{b(n.value,v,{delta:m,type:Cs.pop,direction:m?m>0?ws.forward:ws.back:ws.unknown})})};function l(){i=n.value}function c(d){r.push(d);const p=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return o.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(ke({},d.state,{scroll:Lr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Ka(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Lr():null}}function Zp(e){const{history:t,location:n}=window,s={value:Kc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:Gp()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](d)}}function i(l,c){const u=ke({},t.state,Ka(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=ke({},r.value,t.state,{forward:l,scroll:Lr()});o(u.current,u,!0);const f=ke({},Ka(s.value,l,null),{position:u.position+1},c);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Yp(e){e=jp(e);const t=Zp(e),n=Jp(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=ke({location:"",base:e,go:s,createHref:Dp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Qp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Yp(e)}function Xp(e){return typeof e=="string"||e&&typeof e=="object"}function zc(e){return typeof e=="string"||typeof e=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Wc=Symbol("");var za;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(za||(za={}));function Yn(e,t){return ke(new Error,{type:e,[Wc]:!0},t)}function Nt(e,t){return e instanceof Error&&Wc in e&&(t==null||!!(e.type&t))}const Wa="[^/]+?",eg={sensitive:!1,strict:!1,start:!0,end:!0},tg=/[.+*?^${}()[\]/\\]/g;function ng(e,t){const n=ke({},eg,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(tg,"\\$&"),p+=40;else if(d.type===1){const{value:v,repeatable:g,optional:m,regexp:b}=d;o.push({name:v,repeatable:g,optional:m});const E=b||Wa;if(E!==Wa){p+=10;try{new RegExp(`(${E})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${v}" (${E}): `+L.message)}}let $=g?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||($=m&&c.length<2?`(?:/${$})`:"/"+$),m&&($+="?"),r+=$,p+=20,m&&(p+=-8),g&&(p+=-20),E===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",v=o[d-1];f[v.name]=p&&v.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:v,repeatable:g,optional:m}=p,b=v in c?c[v]:"";if(pt(b)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const E=pt(b)?b.join("/"):b;if(!E)if(m)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=E}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function sg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function rg(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=sg(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ga(s))return 1;if(Ga(r))return-1}return r.length-s.length}function Ga(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const og={type:0,value:""},ig=/[a-zA-Z0-9_]/;function ag(e){if(!e)return[[]];if(e==="/")return[[og]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:ig.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function lg(e,t,n){const s=ng(ag(e.path),n),r=ke(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function cg(e,t){const n=[],s=new Map;t=Ya({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const p=!d,v=ug(u);v.aliasOf=d&&d.record;const g=Ya(t,u),m=[v];if("alias"in u){const $=typeof u.alias=="string"?[u.alias]:u.alias;for(const L of $)m.push(ke({},v,{components:d?d.record.components:v.components,path:L,aliasOf:d?d.record:v}))}let b,E;for(const $ of m){const{path:L}=$;if(f&&L[0]!=="/"){const B=f.record.path,C=B[B.length-1]==="/"?"":"/";$.path=f.record.path+(L&&C+L)}if(b=lg($,f,g),d?d.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&u.name&&!Za(b)&&i(u.name)),v.children){const B=v.children;for(let C=0;C<B.length;C++)o(B[C],b,d&&d.children[C])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return E?()=>{i(E)}:_s}function i(u){if(zc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&rg(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Gc(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Za(u)&&s.set(u.record.name,u)}function c(u,f){let d,p={},v,g;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Yn(1,{location:u});g=d.record.name,p=ke(Ja(f.params,d.keys.filter(E=>!E.optional).map(E=>E.name)),u.params&&Ja(u.params,d.keys.map(E=>E.name))),v=d.stringify(p)}else if("path"in u)v=u.path,d=n.find(E=>E.re.test(v)),d&&(p=d.parse(v),g=d.record.name);else{if(d=f.name?s.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw Yn(1,{location:u,currentLocation:f});g=d.record.name,p=ke({},f.params,u.params),v=d.stringify(p)}const m=[];let b=d;for(;b;)m.unshift(b.record),b=b.parent;return{name:g,path:v,params:p,matched:m,meta:dg(m)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ja(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ug(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:fg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function fg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Za(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function dg(e){return e.reduce((t,n)=>ke(t,n.meta),{})}function Ya(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Gc(e,t){return t.children.some(n=>n===e||Gc(e,n))}const Jc=/#/g,hg=/&/g,pg=/\//g,gg=/=/g,yg=/\?/g,Zc=/\+/g,vg=/%5B/g,_g=/%5D/g,Yc=/%5E/g,wg=/%60/g,Qc=/%7B/g,mg=/%7C/g,Xc=/%7D/g,bg=/%20/g;function ki(e){return encodeURI(""+e).replace(mg,"|").replace(vg,"[").replace(_g,"]")}function Eg(e){return ki(e).replace(Qc,"{").replace(Xc,"}").replace(Yc,"^")}function Do(e){return ki(e).replace(Zc,"%2B").replace(bg,"+").replace(Jc,"%23").replace(hg,"%26").replace(wg,"`").replace(Qc,"{").replace(Xc,"}").replace(Yc,"^")}function xg(e){return Do(e).replace(gg,"%3D")}function Rg(e){return ki(e).replace(Jc,"%23").replace(yg,"%3F")}function Sg(e){return e==null?"":Rg(e).replace(pg,"%2F")}function cr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function kg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(Zc," "),i=o.indexOf("="),a=cr(i<0?o:o.slice(0,i)),l=i<0?null:cr(o.slice(i+1));if(a in t){let c=t[a];pt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Qa(e){let t="";for(let n in e){const s=e[n];if(n=xg(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(pt(s)?s.map(o=>o&&Do(o)):[s&&Do(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function $g(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=pt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Cg=Symbol(""),Xa=Symbol(""),Nr=Symbol(""),$i=Symbol(""),qo=Symbol("");function cs(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function sn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const l=f=>{f===!1?a(Yn(4,{from:n,to:t})):f instanceof Error?a(f):Xp(f)?a(Yn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function fo(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let a=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if(Ag(a)){const c=(a.__vccOpts||a)[t];c&&r.push(sn(c,n,s,o,i))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Np(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&sn(d,n,s,o,i)()}))}}return r}function Ag(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function el(e){const t=ct(Nr),n=ct($i),s=Se(()=>t.resolve(le(e.to))),r=Se(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Zn.bind(null,u));if(d>-1)return d;const p=tl(l[c-2]);return c>1&&tl(u)===p&&f[f.length-1].path!==p?f.findIndex(Zn.bind(null,l[c-2])):d}),o=Se(()=>r.value>-1&&Lg(n.params,s.value.params)),i=Se(()=>r.value>-1&&r.value===n.matched.length-1&&qc(n.params,s.value.params));function a(l={}){return Tg(l)?t[le(e.replace)?"replace":"push"](le(e.to)).catch(_s):Promise.resolve()}return{route:s,href:Se(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Ig=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:el,setup(e,{slots:t}){const n=ss(el(e)),{options:s}=ct(Nr),r=Se(()=>({[nl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[nl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Lc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Pg=Ig;function Tg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Lg(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!pt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function tl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const nl=(e,t,n)=>e??t??n,Ng=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ct(qo),r=Se(()=>e.route||s.value),o=ct(Xa,0),i=Se(()=>{let c=le(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Se(()=>r.value.matched[i.value]);Zs(Xa,Se(()=>i.value+1)),Zs(Cg,a),Zs(qo,r);const l=K();return At(()=>[l.value,a.value,e.name],([c,u,f],[d,p,v])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Zn(u,p)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return sl(n.default,{Component:d,route:c});const p=f.props[u],v=p?p===!0?c.params:typeof p=="function"?p(c):p:null,m=Lc(d,ke({},v,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return sl(n.default,{Component:m,route:c})||m}}});function sl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bg=Ng;function Ug(e){const t=cg(e.routes,e),n=e.parseQuery||kg,s=e.stringifyQuery||Qa,r=e.history,o=cs(),i=cs(),a=cs(),l=vd(Wt);let c=Wt;Fn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=co.bind(null,x=>""+x),f=co.bind(null,Sg),d=co.bind(null,cr);function p(x,H){let M,G;return zc(x)?(M=t.getRecordMatcher(x),G=H):G=x,t.addRoute(G,M)}function v(x){const H=t.getRecordMatcher(x);H&&t.removeRoute(H)}function g(){return t.getRoutes().map(x=>x.record)}function m(x){return!!t.getRecordMatcher(x)}function b(x,H){if(H=ke({},H||l.value),typeof x=="string"){const y=uo(n,x,H.path),w=t.resolve({path:y.path},H),k=r.createHref(y.fullPath);return ke(y,w,{params:d(w.params),hash:cr(y.hash),redirectedFrom:void 0,href:k})}let M;if("path"in x)M=ke({},x,{path:uo(n,x.path,H.path).path});else{const y=ke({},x.params);for(const w in y)y[w]==null&&delete y[w];M=ke({},x,{params:f(y)}),H.params=f(H.params)}const G=t.resolve(M,H),ue=x.hash||"";G.params=u(d(G.params));const de=Op(s,ke({},x,{hash:Eg(ue),path:G.path})),h=r.createHref(de);return ke({fullPath:de,hash:ue,query:s===Qa?$g(x.query):x.query||{}},G,{redirectedFrom:void 0,href:h})}function E(x){return typeof x=="string"?uo(n,x,l.value.path):ke({},x)}function $(x,H){if(c!==x)return Yn(8,{from:H,to:x})}function L(x){return j(x)}function B(x){return L(ke(E(x),{replace:!0}))}function C(x){const H=x.matched[x.matched.length-1];if(H&&H.redirect){const{redirect:M}=H;let G=typeof M=="function"?M(x):M;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=E(G):{path:G},G.params={}),ke({query:x.query,hash:x.hash,params:"path"in G?{}:x.params},G)}}function j(x,H){const M=c=b(x),G=l.value,ue=x.state,de=x.force,h=x.replace===!0,y=C(M);if(y)return j(ke(E(y),{state:typeof y=="object"?ke({},ue,y.state):ue,force:de,replace:h}),H||M);const w=M;w.redirectedFrom=H;let k;return!de&&Mp(s,G,M)&&(k=Yn(16,{to:w,from:G}),ne(G,G,!0,!1)),(k?Promise.resolve(k):ee(w,G)).catch(T=>Nt(T)?Nt(T,2)?T:Q(T):I(T,w,G)).then(T=>{if(T){if(Nt(T,2))return j(ke({replace:h},E(T.to),{state:typeof T.to=="object"?ke({},ue,T.to.state):ue,force:de}),H||w)}else T=fe(w,G,!0,h,ue);return te(w,G,T),T})}function F(x,H){const M=$(x,H);return M?Promise.reject(M):Promise.resolve()}function J(x){const H=he.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(x):x()}function ee(x,H){let M;const[G,ue,de]=Og(x,H);M=fo(G.reverse(),"beforeRouteLeave",x,H);for(const y of G)y.leaveGuards.forEach(w=>{M.push(sn(w,x,H))});const h=F.bind(null,x,H);return M.push(h),Z(M).then(()=>{M=[];for(const y of o.list())M.push(sn(y,x,H));return M.push(h),Z(M)}).then(()=>{M=fo(ue,"beforeRouteUpdate",x,H);for(const y of ue)y.updateGuards.forEach(w=>{M.push(sn(w,x,H))});return M.push(h),Z(M)}).then(()=>{M=[];for(const y of de)if(y.beforeEnter)if(pt(y.beforeEnter))for(const w of y.beforeEnter)M.push(sn(w,x,H));else M.push(sn(y.beforeEnter,x,H));return M.push(h),Z(M)}).then(()=>(x.matched.forEach(y=>y.enterCallbacks={}),M=fo(de,"beforeRouteEnter",x,H),M.push(h),Z(M))).then(()=>{M=[];for(const y of i.list())M.push(sn(y,x,H));return M.push(h),Z(M)}).catch(y=>Nt(y,8)?y:Promise.reject(y))}function te(x,H,M){a.list().forEach(G=>J(()=>G(x,H,M)))}function fe(x,H,M,G,ue){const de=$(x,H);if(de)return de;const h=H===Wt,y=Fn?history.state:{};M&&(G||h?r.replace(x.fullPath,ke({scroll:h&&y&&y.scroll},ue)):r.push(x.fullPath,ue)),l.value=x,ne(x,H,M,h),Q()}let oe;function O(){oe||(oe=r.listen((x,H,M)=>{if(!Y.listening)return;const G=b(x),ue=C(G);if(ue){j(ke(ue,{replace:!0}),G).catch(_s);return}c=G;const de=l.value;Fn&&zp(qa(de.fullPath,M.delta),Lr()),ee(G,de).catch(h=>Nt(h,12)?h:Nt(h,2)?(j(h.to,G).then(y=>{Nt(y,20)&&!M.delta&&M.type===Cs.pop&&r.go(-1,!1)}).catch(_s),Promise.reject()):(M.delta&&r.go(-M.delta,!1),I(h,G,de))).then(h=>{h=h||fe(G,de,!1),h&&(M.delta&&!Nt(h,8)?r.go(-M.delta,!1):M.type===Cs.pop&&Nt(h,20)&&r.go(-1,!1)),te(G,de,h)}).catch(_s)}))}let A=cs(),R=cs(),S;function I(x,H,M){Q(x);const G=R.list();return G.length?G.forEach(ue=>ue(x,H,M)):console.error(x),Promise.reject(x)}function N(){return S&&l.value!==Wt?Promise.resolve():new Promise((x,H)=>{A.add([x,H])})}function Q(x){return S||(S=!x,O(),A.list().forEach(([H,M])=>x?M(x):H()),A.reset()),x}function ne(x,H,M,G){const{scrollBehavior:ue}=e;if(!Fn||!ue)return Promise.resolve();const de=!M&&Wp(qa(x.fullPath,0))||(G||!M)&&history.state&&history.state.scroll||null;return xr().then(()=>ue(x,H,de)).then(h=>h&&Kp(h)).catch(h=>I(h,x,H))}const z=x=>r.go(x);let pe;const he=new Set,Y={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,hasRoute:m,getRoutes:g,resolve:b,options:e,push:L,replace:B,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:R.add,isReady:N,install(x){const H=this;x.component("RouterLink",Pg),x.component("RouterView",Bg),x.config.globalProperties.$router=H,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),Fn&&!pe&&l.value===Wt&&(pe=!0,L(r.location).catch(ue=>{}));const M={};for(const ue in Wt)Object.defineProperty(M,ue,{get:()=>l.value[ue],enumerable:!0});x.provide(Nr,H),x.provide($i,zl(M)),x.provide(qo,l);const G=x.unmount;he.add(x),x.unmount=function(){he.delete(x),he.size<1&&(c=Wt,oe&&oe(),oe=null,l.value=Wt,pe=!1,S=!1),G()}}};function Z(x){return x.reduce((H,M)=>H.then(()=>J(M)),Promise.resolve())}return Y}function Og(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>Zn(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>Zn(c,l))||r.push(l))}return[n,s,r]}function Br(){return ct(Nr)}function Ls(){return ct($i)}function rl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function eu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Mg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rl(e.outputLen),rl(e.blockLen)}function ur(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hg(e,t){eu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ho=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tu=e=>e instanceof Uint8Array,po=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mt=(e,t)=>e<<32-t|e>>>t,Fg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fg)throw new Error("Non little-endian hardware is not supported");function jg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ci(e){if(typeof e=="string"&&(e=jg(e)),!tu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Vg(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!tu(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let nu=class{clone(){return this._cloneInto()}};function Dg(e){const t=s=>e().update(Ci(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function su(e=32){if(ho&&typeof ho.getRandomValues=="function")return ho.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function qg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let Kg=class extends nu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=po(this.buffer)}update(t){ur(this);const{view:n,buffer:s,blockLen:r}=this;t=Ci(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=po(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ur(this),Hg(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;qg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=po(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const zg=(e,t,n)=>e&t^~e&n,Wg=(e,t,n)=>e&t^e&n^t&n,Gg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=new Uint32Array(64);let Jg=class extends Kg{constructor(){super(64,32,8,!1),this.A=Gt[0]|0,this.B=Gt[1]|0,this.C=Gt[2]|0,this.D=Gt[3]|0,this.E=Gt[4]|0,this.F=Gt[5]|0,this.G=Gt[6]|0,this.H=Gt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Jt[f-15],p=Jt[f-2],v=mt(d,7)^mt(d,18)^d>>>3,g=mt(p,17)^mt(p,19)^p>>>10;Jt[f]=g+Jt[f-7]+v+Jt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=mt(a,6)^mt(a,11)^mt(a,25),p=u+d+zg(a,l,c)+Gg[f]+Jt[f]|0,g=(mt(s,2)^mt(s,13)^mt(s,22))+Wg(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+g|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ko=Dg(()=>new Jg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ru=BigInt(0),Ur=BigInt(1),Zg=BigInt(2),Or=e=>e instanceof Uint8Array,Yg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qn(e){if(!Or(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Yg[e[n]];return t}function ou(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ai(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Xn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function et(e){return Ai(Qn(e))}function Ii(e){if(!Or(e))throw new Error("Uint8Array expected");return Ai(Qn(Uint8Array.from(e).reverse()))}function gn(e,t){return Xn(e.toString(16).padStart(t*2,"0"))}function Pi(e,t){return gn(e,t).reverse()}function Qg(e){return Xn(ou(e))}function Ke(e,t,n){let s;if(typeof t=="string")try{s=Xn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Or(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function Tn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Or(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function Xg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ey(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ty(e){let t;for(t=0;e>ru;e>>=Ur,t+=1);return t}function ny(e,t){return e>>BigInt(t)&Ur}const sy=(e,t,n)=>e|(n?Ur:ru)<<BigInt(t),Ti=e=>(Zg<<BigInt(e-1))-Ur,go=e=>new Uint8Array(e),ol=e=>Uint8Array.from(e);function iu(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=go(e),r=go(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=go())=>{r=a(ol([0]),f),s=a(),f.length!==0&&(r=a(ol([1]),f),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=a();const p=s.slice();d.push(p),f+=s.length}return Tn(...d)};return(f,d)=>{i(),l(f);let p;for(;!(p=d(c()));)l();return i(),p}}const ry={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ns(e,t,n={}){const s=(r,o,i)=>{const a=ry[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const oy=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ny,bitLen:ty,bitMask:Ti,bitSet:sy,bytesToHex:Qn,bytesToNumberBE:et,bytesToNumberLE:Ii,concatBytes:Tn,createHmacDrbg:iu,ensureBytes:Ke,equalBytes:Xg,hexToBytes:Xn,hexToNumber:Ai,numberToBytesBE:gn,numberToBytesLE:Pi,numberToHexUnpadded:ou,numberToVarBytesBE:Qg,utf8ToBytes:ey,validateObject:Ns},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const je=BigInt(0),Ne=BigInt(1),Rn=BigInt(2),iy=BigInt(3),zo=BigInt(4),il=BigInt(5),al=BigInt(8);BigInt(9);BigInt(16);function De(e,t){const n=e%t;return n>=je?n:t+n}function ay(e,t,n){if(n<=je||t<je)throw new Error("Expected power/modulo > 0");if(n===Ne)return je;let s=Ne;for(;t>je;)t&Ne&&(s=s*e%n),e=e*e%n,t>>=Ne;return s}function it(e,t,n){let s=e;for(;t-- >je;)s*=s,s%=n;return s}function Wo(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=De(e,t),s=t,r=je,o=Ne;for(;n!==je;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Ne)throw new Error("invert: does not exist");return De(r,t)}function ly(e){const t=(e-Ne)/Rn;let n,s,r;for(n=e-Ne,s=0;n%Rn===je;n/=Rn,s++);for(r=Rn;r<e&&ay(r,t,e)!==e-Ne;r++);if(s===1){const i=(e+Ne)/zo;return function(l,c){const u=l.pow(c,i);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Ne)/Rn;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,u=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let g=a.sqr(d);p<c&&!a.eql(g,a.ONE);p++)g=a.sqr(g);const v=a.pow(u,Ne<<BigInt(c-p-1));u=a.sqr(v),f=a.mul(f,v),d=a.mul(d,u),c=p}return f}}function cy(e){if(e%zo===iy){const t=(e+Ne)/zo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%al===il){const t=(e-il)/al;return function(s,r){const o=s.mul(r,Rn),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,Rn),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return ly(e)}const uy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fy(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=uy.reduce((s,r)=>(s[r]="function",s),t);return Ns(e,n)}function dy(e,t,n){if(n<je)throw new Error("Expected power > 0");if(n===je)return e.ONE;if(n===Ne)return t;let s=e.ONE,r=t;for(;n>je;)n&Ne&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Ne;return s}function hy(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function au(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function py(e,t,n=!1,s={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=au(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=cy(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:Ti(r),ZERO:je,ONE:Ne,create:l=>De(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return je<=l&&l<e},is0:l=>l===je,isOdd:l=>(l&Ne)===Ne,neg:l=>De(-l,e),eql:(l,c)=>l===c,sqr:l=>De(l*l,e),add:(l,c)=>De(l+c,e),sub:(l,c)=>De(l-c,e),mul:(l,c)=>De(l*c,e),pow:(l,c)=>dy(a,l,c),div:(l,c)=>De(l*Wo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Wo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>hy(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Pi(l,o):gn(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ii(l):et(l)}});return Object.freeze(a)}function lu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function cu(e){const t=lu(e);return t+Math.ceil(t/2)}function gy(e,t,n=!1){const s=e.length,r=lu(t),o=cu(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?et(e):Ii(e),a=De(i,t-Ne)+Ne;return n?Pi(a,r):gn(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yy=BigInt(0),yo=BigInt(1);function vy(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>yy;)o&yo&&(i=i.add(a)),a=a.double(),o>>=yo;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let v=0;v<a;v++){const g=v*l;let m=Number(i&f);i>>=p,m>l&&(m-=d,i+=yo);const b=g,E=g+Math.abs(m)-1,$=v%2!==0,L=m<0;m===0?u=u.add(n($,o[b])):c=c.add(n(L,o[E]))}return{p:c,f:u}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function uu(e){return fy(e.Fp),Ns(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...au(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _y(e){const t=uu(e);Ns(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:wy,hexToBytes:my}=oy,kn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=kn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:wy(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=kn,n=typeof e=="string"?my(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=kn._parseInt(n.subarray(2)),{d:i,l:a}=kn._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},Ut=BigInt(0),at=BigInt(1);BigInt(2);const ll=BigInt(3);BigInt(4);function by(e){const t=_y(e),{Fp:n}=t,s=t.toBytes||((v,g,m)=>{const b=g.toAffine();return Tn(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),r=t.fromBytes||(v=>{const g=v.subarray(1),m=n.fromBytes(g.subarray(0,n.BYTES)),b=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:m,y:b}});function o(v){const{a:g,b:m}=t,b=n.sqr(v),E=n.mul(b,v);return n.add(n.add(E,n.mul(v,g)),m)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(v){return typeof v=="bigint"&&Ut<v&&v<t.n}function a(v){if(!i(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(v){const{allowedPrivateKeyLengths:g,nByteLength:m,wrapPrivateKey:b,n:E}=t;if(g&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Qn(v)),typeof v!="string"||!g.includes(v.length))throw new Error("Invalid key");v=v.padStart(m*2,"0")}let $;try{$=typeof v=="bigint"?v:et(Ke("private key",v,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof v}`)}return b&&($=De($,E)),a($),$}const c=new Map;function u(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,m,b){if(this.px=g,this.py=m,this.pz=b,g==null||!n.isValid(g))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(g){const{x:m,y:b}=g||{};if(!g||!n.isValid(m)||!n.isValid(b))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const E=$=>n.eql($,n.ZERO);return E(m)&&E(b)?f.ZERO:new f(m,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const m=n.invertBatch(g.map(b=>b.pz));return g.map((b,E)=>b.toAffine(m[E])).map(f.fromAffine)}static fromHex(g){const m=f.fromAffine(r(Ke("pointHex",g)));return m.assertValidity(),m}static fromPrivateKey(g){return f.BASE.multiply(l(g))}_setWindowSize(g){this._WINDOW_SIZE=g,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:m}=this.toAffine();if(!n.isValid(g)||!n.isValid(m))throw new Error("bad point: x or y not FE");const b=n.sqr(m),E=o(g);if(!n.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:m,py:b,pz:E}=this,{px:$,py:L,pz:B}=g,C=n.eql(n.mul(m,B),n.mul($,E)),j=n.eql(n.mul(b,B),n.mul(L,E));return C&&j}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:m}=t,b=n.mul(m,ll),{px:E,py:$,pz:L}=this;let B=n.ZERO,C=n.ZERO,j=n.ZERO,F=n.mul(E,E),J=n.mul($,$),ee=n.mul(L,L),te=n.mul(E,$);return te=n.add(te,te),j=n.mul(E,L),j=n.add(j,j),B=n.mul(g,j),C=n.mul(b,ee),C=n.add(B,C),B=n.sub(J,C),C=n.add(J,C),C=n.mul(B,C),B=n.mul(te,B),j=n.mul(b,j),ee=n.mul(g,ee),te=n.sub(F,ee),te=n.mul(g,te),te=n.add(te,j),j=n.add(F,F),F=n.add(j,F),F=n.add(F,ee),F=n.mul(F,te),C=n.add(C,F),ee=n.mul($,L),ee=n.add(ee,ee),F=n.mul(ee,te),B=n.sub(B,F),j=n.mul(ee,J),j=n.add(j,j),j=n.add(j,j),new f(B,C,j)}add(g){u(g);const{px:m,py:b,pz:E}=this,{px:$,py:L,pz:B}=g;let C=n.ZERO,j=n.ZERO,F=n.ZERO;const J=t.a,ee=n.mul(t.b,ll);let te=n.mul(m,$),fe=n.mul(b,L),oe=n.mul(E,B),O=n.add(m,b),A=n.add($,L);O=n.mul(O,A),A=n.add(te,fe),O=n.sub(O,A),A=n.add(m,E);let R=n.add($,B);return A=n.mul(A,R),R=n.add(te,oe),A=n.sub(A,R),R=n.add(b,E),C=n.add(L,B),R=n.mul(R,C),C=n.add(fe,oe),R=n.sub(R,C),F=n.mul(J,A),C=n.mul(ee,oe),F=n.add(C,F),C=n.sub(fe,F),F=n.add(fe,F),j=n.mul(C,F),fe=n.add(te,te),fe=n.add(fe,te),oe=n.mul(J,oe),A=n.mul(ee,A),fe=n.add(fe,oe),oe=n.sub(te,oe),oe=n.mul(J,oe),A=n.add(A,oe),te=n.mul(fe,A),j=n.add(j,te),te=n.mul(R,A),C=n.mul(O,C),C=n.sub(C,te),te=n.mul(O,fe),F=n.mul(R,F),F=n.add(F,te),new f(C,j,F)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return p.wNAFCached(this,c,g,m=>{const b=n.invertBatch(m.map(E=>E.pz));return m.map((E,$)=>E.toAffine(b[$])).map(f.fromAffine)})}multiplyUnsafe(g){const m=f.ZERO;if(g===Ut)return m;if(a(g),g===at)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,g);let{k1neg:E,k1:$,k2neg:L,k2:B}=b.splitScalar(g),C=m,j=m,F=this;for(;$>Ut||B>Ut;)$&at&&(C=C.add(F)),B&at&&(j=j.add(F)),F=F.double(),$>>=at,B>>=at;return E&&(C=C.negate()),L&&(j=j.negate()),j=new f(n.mul(j.px,b.beta),j.py,j.pz),C.add(j)}multiply(g){a(g);let m=g,b,E;const{endo:$}=t;if($){const{k1neg:L,k1:B,k2neg:C,k2:j}=$.splitScalar(m);let{p:F,f:J}=this.wNAF(B),{p:ee,f:te}=this.wNAF(j);F=p.constTimeNegate(L,F),ee=p.constTimeNegate(C,ee),ee=new f(n.mul(ee.px,$.beta),ee.py,ee.pz),b=F.add(ee),E=J.add(te)}else{const{p:L,f:B}=this.wNAF(m);b=L,E=B}return f.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(g,m,b){const E=f.BASE,$=(B,C)=>C===Ut||C===at||!B.equals(E)?B.multiplyUnsafe(C):B.multiply(C),L=$(this,m).add($(g,b));return L.is0()?void 0:L}toAffine(g){const{px:m,py:b,pz:E}=this,$=this.is0();g==null&&(g=$?n.ONE:n.inv(E));const L=n.mul(m,g),B=n.mul(b,g),C=n.mul(E,g);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:L,y:B}}isTorsionFree(){const{h:g,isTorsionFree:m}=t;if(g===at)return!0;if(m)return m(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:m}=t;return g===at?this:m?m(f,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),s(f,this,g)}toHex(g=!0){return Qn(this.toRawBytes(g))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=vy(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function Ey(e){const t=uu(e);return Ns(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function xy(e){const t=Ey(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(A){return Ut<A&&A<n.ORDER}function a(A){return De(A,s)}function l(A){return Wo(A,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=by({...t,toBytes(A,R,S){const I=R.toAffine(),N=n.toBytes(I.x),Q=Tn;return S?Q(Uint8Array.from([R.hasEvenY()?2:3]),N):Q(Uint8Array.from([4]),N,n.toBytes(I.y))},fromBytes(A){const R=A.length,S=A[0],I=A.subarray(1);if(R===r&&(S===2||S===3)){const N=et(I);if(!i(N))throw new Error("Point is not on curve");const Q=f(N);let ne=n.sqrt(Q);const z=(ne&at)===at;return(S&1)===1!==z&&(ne=n.neg(ne)),{x:N,y:ne}}else if(R===o&&S===4){const N=n.fromBytes(I.subarray(0,n.BYTES)),Q=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:N,y:Q}}else throw new Error(`Point of length ${R} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),p=A=>Qn(gn(A,t.nByteLength));function v(A){const R=s>>at;return A>R}function g(A){return v(A)?a(-A):A}const m=(A,R,S)=>et(A.slice(R,S));class b{constructor(R,S,I){this.r=R,this.s=S,this.recovery=I,this.assertValidity()}static fromCompact(R){const S=t.nByteLength;return R=Ke("compactSignature",R,S*2),new b(m(R,0,S),m(R,S,2*S))}static fromDER(R){const{r:S,s:I}=kn.toSig(Ke("DER",R));return new b(S,I)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new b(this.r,this.s,R)}recoverPublicKey(R){const{r:S,s:I,recovery:N}=this,Q=j(Ke("msgHash",R));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const ne=N===2||N===3?S+t.n:S;if(ne>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=N&1?"03":"02",pe=c.fromHex(z+p(ne)),he=l(ne),Y=a(-Q*he),Z=a(I*he),x=c.BASE.multiplyAndAddUnsafe(pe,Y,Z);if(!x)throw new Error("point at infinify");return x.assertValidity(),x}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Xn(this.toDERHex())}toDERHex(){return kn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xn(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(A){try{return u(A),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const A=cu(t.n);return gy(t.randomBytes(A),t.n)},precompute(A=8,R=c.BASE){return R._setWindowSize(A),R.multiply(BigInt(3)),R}};function $(A,R=!0){return c.fromPrivateKey(A).toRawBytes(R)}function L(A){const R=A instanceof Uint8Array,S=typeof A=="string",I=(R||S)&&A.length;return R?I===r||I===o:S?I===2*r||I===2*o:A instanceof c}function B(A,R,S=!0){if(L(A))throw new Error("first arg must be private key");if(!L(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(A)).toRawBytes(S)}const C=t.bits2int||function(A){const R=et(A),S=A.length*8-t.nBitLength;return S>0?R>>BigInt(S):R},j=t.bits2int_modN||function(A){return a(C(A))},F=Ti(t.nBitLength);function J(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(Ut<=A&&A<F))throw new Error(`bigint expected < 2^${t.nBitLength}`);return gn(A,t.nByteLength)}function ee(A,R,S=te){if(["recovered","canonical"].some(M=>M in S))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:N}=t;let{lowS:Q,prehash:ne,extraEntropy:z}=S;Q==null&&(Q=!0),A=Ke("msgHash",A),ne&&(A=Ke("prehashed msgHash",I(A)));const pe=j(A),he=u(R),Y=[J(he),J(pe)];if(z!=null){const M=z===!0?N(n.BYTES):z;Y.push(Ke("extraEntropy",M))}const Z=Tn(...Y),x=pe;function H(M){const G=C(M);if(!d(G))return;const ue=l(G),de=c.BASE.multiply(G).toAffine(),h=a(de.x);if(h===Ut)return;const y=a(ue*a(x+h*he));if(y===Ut)return;let w=(de.x===h?0:2)|Number(de.y&at),k=y;return Q&&v(y)&&(k=g(y),w^=1),new b(h,k,w)}return{seed:Z,k2sig:H}}const te={lowS:t.lowS,prehash:!1},fe={lowS:t.lowS,prehash:!1};function oe(A,R,S=te){const{seed:I,k2sig:N}=ee(A,R,S),Q=t;return iu(Q.hash.outputLen,Q.nByteLength,Q.hmac)(I,N)}c.BASE._setWindowSize(8);function O(A,R,S,I=fe){var de;const N=A;if(R=Ke("msgHash",R),S=Ke("publicKey",S),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:Q,prehash:ne}=I;let z,pe;try{if(typeof N=="string"||N instanceof Uint8Array)try{z=b.fromDER(N)}catch(h){if(!(h instanceof kn.Err))throw h;z=b.fromCompact(N)}else if(typeof N=="object"&&typeof N.r=="bigint"&&typeof N.s=="bigint"){const{r:h,s:y}=N;z=new b(h,y)}else throw new Error("PARSE");pe=c.fromHex(S)}catch(h){if(h.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&z.hasHighS())return!1;ne&&(R=t.hash(R));const{r:he,s:Y}=z,Z=j(R),x=l(Y),H=a(Z*x),M=a(he*x),G=(de=c.BASE.multiplyAndAddUnsafe(pe,H,M))==null?void 0:de.toAffine();return G?a(G.x)===he:!1}return{CURVE:t,getPublicKey:$,getSharedSecret:B,sign:oe,verify:O,ProjectivePoint:c,Signature:b,utils:E}}let fu=class extends nu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Mg(t);const s=Ci(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return ur(this),this.iHash.update(t),this}digestInto(t){ur(this),eu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const du=(e,t,n)=>new fu(e,t).update(n).digest();du.create=(e,t)=>new fu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ry(e){return{hash:e,hmac:(t,...n)=>du(e,t,Vg(...n)),randomBytes:su}}function Sy(e,t){const n=s=>xy({...e,...Ry(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hu=BigInt(1),dr=BigInt(2),cl=(e,t)=>(e+t/dr)/t;function pu(e){const t=Mr,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=it(u,n,t)*u%t,d=it(f,n,t)*u%t,p=it(d,dr,t)*c%t,v=it(p,r,t)*p%t,g=it(v,o,t)*v%t,m=it(g,a,t)*g%t,b=it(m,l,t)*m%t,E=it(b,a,t)*g%t,$=it(E,n,t)*u%t,L=it($,i,t)*v%t,B=it(L,s,t)*c%t,C=it(B,dr,t);if(!Go.eql(Go.sqr(C),e))throw new Error("Cannot find square root");return C}const Go=py(Mr,void 0,void 0,{sqrt:pu}),rs=Sy({a:BigInt(0),b:BigInt(7),Fp:Go,n:fr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-hu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=cl(o*e,t),l=cl(-s*e,t);let c=De(e-a*n-l*r,t),u=De(-a*s-l*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Ko),Hr=BigInt(0),gu=e=>typeof e=="bigint"&&Hr<e&&e<Mr,ky=e=>typeof e=="bigint"&&Hr<e&&e<fr,ul={};function hr(e,...t){let n=ul[e];if(n===void 0){const s=Ko(Uint8Array.from(e,r=>r.charCodeAt(0)));n=Tn(s,s),ul[e]=n}return Ko(Tn(n,...t))}const Li=e=>e.toRawBytes(!0).slice(1),Jo=e=>gn(e,32),vo=e=>De(e,Mr),As=e=>De(e,fr),Ni=rs.ProjectivePoint,$y=(e,t,n)=>Ni.BASE.multiplyAndAddUnsafe(e,t,n);function Zo(e){let t=rs.utils.normPrivateKeyToScalar(e),n=Ni.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:As(-t),bytes:Li(n)}}function yu(e){if(!gu(e))throw new Error("bad x: need 0 < x < p");const t=vo(e*e),n=vo(t*e+BigInt(7));let s=pu(n);s%dr!==Hr&&(s=vo(-s));const r=new Ni(e,s,hu);return r.assertValidity(),r}function vu(...e){return As(et(hr("BIP0340/challenge",...e)))}function Cy(e){return Zo(e).bytes}function Ay(e,t,n=su(32)){const s=Ke("message",e),{bytes:r,scalar:o}=Zo(t),i=Ke("auxRand",n,32),a=Jo(o^et(hr("BIP0340/aux",i))),l=hr("BIP0340/nonce",a,r,s),c=As(et(l));if(c===Hr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Zo(c),d=vu(u,r,s),p=new Uint8Array(64);if(p.set(u,0),p.set(Jo(As(f+d*o)),32),!_u(p,s,r))throw new Error("sign: Invalid signature produced");return p}function _u(e,t,n){const s=Ke("signature",e,64),r=Ke("message",t),o=Ke("publicKey",n,32);try{const i=yu(et(o)),a=et(s.subarray(0,32));if(!gu(a))return!1;const l=et(s.subarray(32,64));if(!ky(l))return!1;const c=vu(Jo(a),Li(i),r),u=$y(i,l,As(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const us=(()=>({getPublicKey:Cy,sign:Ay,verify:_u,utils:{randomPrivateKey:rs.utils.randomPrivateKey,lift_x:yu,pointToBytes:Li,numberToBytesBE:gn,bytesToNumberBE:et,taggedHash:hr,mod:De}}))(),_o=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bi=e=>e instanceof Uint8Array,wo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),bt=(e,t)=>e<<32-t|e>>>t,Iy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Iy)throw new Error("Non little-endian hardware is not supported");const Py=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xe(e){if(!Bi(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Py[e[n]];return t}function es(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function wu(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Is(e){if(typeof e=="string"&&(e=wu(e)),!Bi(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function pr(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Bi(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class mu{clone(){return this._cloneInto()}}function bu(e){const t=s=>e().update(Is(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Eu(e=32){if(_o&&typeof _o.getRandomValues=="function")return _o.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Yo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ty(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function xu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ly(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yo(e.outputLen),Yo(e.blockLen)}function Ny(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function By(e,t){xu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $t={number:Yo,bool:Ty,bytes:xu,hash:Ly,exists:Ny,output:By};function Uy(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class Oy extends mu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wo(this.buffer)}update(t){$t.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=Is(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=wo(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$t.exists(this),$t.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Uy(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=wo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const My=(e,t,n)=>e&t^~e&n,Hy=(e,t,n)=>e&t^e&n^t&n,Fy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=new Uint32Array(64);class Ru extends Oy{constructor(){super(64,32,8,!1),this.A=Zt[0]|0,this.B=Zt[1]|0,this.C=Zt[2]|0,this.D=Zt[3]|0,this.E=Zt[4]|0,this.F=Zt[5]|0,this.G=Zt[6]|0,this.H=Zt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Yt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Yt[f-15],p=Yt[f-2],v=bt(d,7)^bt(d,18)^d>>>3,g=bt(p,17)^bt(p,19)^p>>>10;Yt[f]=g+Yt[f-7]+v+Yt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=bt(a,6)^bt(a,11)^bt(a,25),p=u+d+My(a,l,c)+Fy[f]+Yt[f]|0,g=(bt(s,2)^bt(s,13)^bt(s,22))+Hy(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+g|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Yt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class jy extends Ru{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ms=bu(()=>new Ru);bu(()=>new jy);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function os(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Dt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function qt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(os(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function Kt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Fr(e,t="="){if(os(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function Su(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function fl(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(os(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[l]=Math.floor(u/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const ku=(e,t)=>t?ku(t,e%t):e,gr=(e,t)=>e+(t-ku(e,t));function Qo(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(gr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${gr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(os(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function Vy(e){return os(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return fl(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(fl(t,e,2**8))}}}function vn(e,t=!1){if(os(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gr(8,e)>32||gr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Qo(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Qo(n,e,8,t))}}}function dl(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const Dy=Dt(vn(4),qt("0123456789ABCDEF"),Kt("")),qy=Dt(vn(5),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fr(5),Kt(""));Dt(vn(5),qt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fr(5),Kt(""));Dt(vn(5),qt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Kt(""),Su(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const jt=Dt(vn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fr(6),Kt("")),Ky=Dt(vn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fr(6),Kt("")),Ui=e=>Dt(Vy(58),qt(e),Kt("")),Xo=Ui("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ui("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ui("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const hl=[0,2,3,5,6,7,9,10,11],zy={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Xo.encode(s).padStart(hl[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=hl.indexOf(s.length),o=Xo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},ei=Dt(qt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Kt("")),pl=[996825010,642813549,513874426,1027748829,705979059];function fs(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<pl.length;s++)(t>>s&1)===1&&(n^=pl[s]);return n}function gl(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=fs(r)^i>>5}r=fs(r);for(let o=0;o<s;o++)r=fs(r)^e.charCodeAt(o)&31;for(let o of t)r=fs(r)^o;for(let o=0;o<6;o++)r=fs(r);return r^=n,ei.encode(Qo([r%2**30],30,5,!1))}function $u(e){const t=e==="bech32"?1:734539939,n=vn(5),s=n.decode,r=n.encode,o=dl(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=u.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${ei.encode(f)}${gl(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const p=u.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=u.slice(0,p),g=u.slice(p+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const m=ei.decode(g).slice(0,-6),b=gl(v,m,t);if(!g.endsWith(b))throw new Error(`Invalid checksum in ${u}: expected "${b}"`);return{prefix:v,words:m}}const l=dl(a);function c(u){const{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const ts=$u("bech32");$u("bech32m");const Wy={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},Gy=Dt(vn(4),qt("0123456789abcdef"),Kt(""),Su(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),Jy={utf8:Wy,hex:Gy,base16:Dy,base32:qy,base64:jt,base64url:Ky,base58:Xo,base58xmr:zy};`${Object.keys(Jy).join(", ")}`;function mo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function yl(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Zy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Mt(e,...t){if(!Zy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const We=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Yy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Yy)throw new Error("Non little-endian hardware is not supported");function Qy(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Xy(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const e0=(e,t)=>(Object.assign(t,e),t),dn=16,t0=283;function Oi(e){return e<<1^t0&-(e>>7)}function jn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Oi(e);return n}const ti=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Oi(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),n0=ti.map((e,t)=>ti.indexOf(t)),s0=e=>e<<24|e>>>8,bo=e=>e<<8|e>>>24;function Cu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(bo),r=s.map(bo),o=r.map(bo),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],a[f]=r[c]^o[u],l[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Mi=Cu(ti,e=>jn(e,3)<<24|e<<16|e<<8|jn(e,2)),Au=Cu(n0,e=>jn(e,11)<<24|jn(e,13)<<16|jn(e,9)<<8|jn(e,14)),r0=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Oi(n))e[t]=n;return e})();function Iu(e){Mt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Mi,s=We(e),r=s.length,o=a=>Ct(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(s0(l))^r0[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function o0(e){const t=Iu(e),n=t.slice(),s=t.length,{sbox2:r}=Mi,{T0:o,T1:i,T2:a,T3:l}=Au;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=Ct(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function on(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function Ct(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function vl(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Mi;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let v=0;v<c;v++){const g=e[l++]^on(i,a,t,n,s,r),m=e[l++]^on(i,a,n,s,r,t),b=e[l++]^on(i,a,s,r,t,n),E=e[l++]^on(i,a,r,t,n,s);t=g,n=m,s=b,r=E}const u=e[l++]^Ct(o,t,n,s,r),f=e[l++]^Ct(o,n,s,r,t),d=e[l++]^Ct(o,s,r,t,n),p=e[l++]^Ct(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:p}}function i0(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Au;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let v=0;v<c;v++){const g=e[l++]^on(i,a,t,r,s,n),m=e[l++]^on(i,a,n,t,r,s),b=e[l++]^on(i,a,s,n,t,r),E=e[l++]^on(i,a,r,s,n,t);t=g,n=m,s=b,r=E}const u=e[l++]^Ct(o,t,r,s,n),f=e[l++]^Ct(o,n,t,r,s),d=e[l++]^Ct(o,s,n,t,r),p=e[l++]^Ct(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:p}}function Pu(e,t){if(!t)return new Uint8Array(e);if(Mt(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function a0(e){if(Mt(e),e.length%dn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${dn}`)}function l0(e,t,n){let s=e.length;const r=s%dn;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=We(e);if(t){let l=dn-r;l||(l=dn),s=s+l}const i=Pu(s,n),a=We(i);return{b:o,o:a,out:i}}function c0(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function u0(e){const t=new Uint8Array(16),n=We(t);t.set(e);const s=dn-e.length;for(let r=dn-s;r<dn;r++)t[r]=s;return n}const Tu=e0({blockSize:16,nonceLength:16},function(t,n,s={}){Mt(t),Mt(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=Iu(t),{b:l,o:c,out:u}=l0(o,r,i),f=We(n);let d=f[0],p=f[1],v=f[2],g=f[3],m=0;for(;m+4<=l.length;)d^=l[m+0],p^=l[m+1],v^=l[m+2],g^=l[m+3],{s0:d,s1:p,s2:v,s3:g}=vl(a,d,p,v,g),c[m++]=d,c[m++]=p,c[m++]=v,c[m++]=g;if(r){const b=u0(o.subarray(m*4));d^=b[0],p^=b[1],v^=b[2],g^=b[3],{s0:d,s1:p,s2:v,s3:g}=vl(a,d,p,v,g),c[m++]=d,c[m++]=p,c[m++]=v,c[m++]=g}return a.fill(0),u},decrypt:(o,i)=>{a0(o);const a=o0(t),l=We(n),c=Pu(o.length,i),u=We(o),f=We(c);let d=l[0],p=l[1],v=l[2],g=l[3];for(let m=0;m+4<=u.length;){const b=d,E=p,$=v,L=g;d=u[m+0],p=u[m+1],v=u[m+2],g=u[m+3];const{s0:B,s1:C,s2:j,s3:F}=i0(a,d,p,v,g);f[m++]=B^b,f[m++]=C^E,f[m++]=j^$,f[m++]=F^L}return a.fill(0),c0(c,r)}}}),Lu=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),f0=Lu("expand 16-byte k"),d0=Lu("expand 32-byte k"),h0=We(f0),Nu=We(d0);Nu.slice();function Ee(e,t){return e<<t|e>>>32-t}function ni(e){return e.byteOffset%4===0}const Ks=64,p0=16,Bu=2**32-1,_l=new Uint32Array;function g0(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(Ks),u=We(c),f=ni(r)&&ni(o),d=f?We(r):_l,p=f?We(o):_l;for(let v=0;v<l;i++){if(e(t,n,s,u,i,a),i>=Bu)throw new Error("arx: counter overflow");const g=Math.min(Ks,l-v);if(f&&g===Ks){const m=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<p0;b++)E=m+b,p[E]=d[E]^u[b];v+=Ks;continue}for(let m=0,b;m<g;m++)b=v+m,o[b]=r[b]^c[m];v+=g}}function y0(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=Qy({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return mo(r),mo(i),yl(o),yl(n),(a,l,c,u,f=0)=>{Mt(a),Mt(l),Mt(c);const d=c.length;if(u||(u=new Uint8Array(d)),Mt(u),mo(f),f<0||f>=Bu)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const p=[];let v=a.length,g,m;if(v===32)g=a.slice(),p.push(g),m=Nu;else if(v===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=h0,p.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);ni(l)||(l=l.slice(),p.push(l));const b=We(g);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(m,b,We(l.subarray(0,16)),b),l=l.subarray(16)}const E=16-r;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const L=new Uint8Array(12);L.set(l,o?0:12-l.length),l=L,p.push(l)}const $=We(l);for(g0(e,m,b,$,c,u,f,i);p.length>0;)p.pop().fill(0);return u}}function v0(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],d=t[2],p=t[3],v=t[4],g=t[5],m=t[6],b=t[7],E=r,$=n[0],L=n[1],B=n[2],C=i,j=a,F=l,J=c,ee=u,te=f,fe=d,oe=p,O=v,A=g,R=m,S=b,I=E,N=$,Q=L,ne=B;for(let pe=0;pe<o;pe+=2)C=C+ee|0,I=Ee(I^C,16),O=O+I|0,ee=Ee(ee^O,12),C=C+ee|0,I=Ee(I^C,8),O=O+I|0,ee=Ee(ee^O,7),j=j+te|0,N=Ee(N^j,16),A=A+N|0,te=Ee(te^A,12),j=j+te|0,N=Ee(N^j,8),A=A+N|0,te=Ee(te^A,7),F=F+fe|0,Q=Ee(Q^F,16),R=R+Q|0,fe=Ee(fe^R,12),F=F+fe|0,Q=Ee(Q^F,8),R=R+Q|0,fe=Ee(fe^R,7),J=J+oe|0,ne=Ee(ne^J,16),S=S+ne|0,oe=Ee(oe^S,12),J=J+oe|0,ne=Ee(ne^J,8),S=S+ne|0,oe=Ee(oe^S,7),C=C+te|0,ne=Ee(ne^C,16),R=R+ne|0,te=Ee(te^R,12),C=C+te|0,ne=Ee(ne^C,8),R=R+ne|0,te=Ee(te^R,7),j=j+fe|0,I=Ee(I^j,16),S=S+I|0,fe=Ee(fe^S,12),j=j+fe|0,I=Ee(I^j,8),S=S+I|0,fe=Ee(fe^S,7),F=F+oe|0,N=Ee(N^F,16),O=O+N|0,oe=Ee(oe^O,12),F=F+oe|0,N=Ee(N^F,8),O=O+N|0,oe=Ee(oe^O,7),J=J+ee|0,Q=Ee(Q^J,16),A=A+Q|0,ee=Ee(ee^A,12),J=J+ee|0,Q=Ee(Q^J,8),A=A+Q|0,ee=Ee(ee^A,7);let z=0;s[z++]=i+C|0,s[z++]=a+j|0,s[z++]=l+F|0,s[z++]=c+J|0,s[z++]=u+ee|0,s[z++]=f+te|0,s[z++]=d+fe|0,s[z++]=p+oe|0,s[z++]=v+O|0,s[z++]=g+A|0,s[z++]=m+R|0,s[z++]=b+S|0,s[z++]=E+I|0,s[z++]=$+N|0,s[z++]=L+Q|0,s[z++]=B+ne|0}const wl=y0(v0,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Uu extends mu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$t.hash(t);const s=Is(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return $t.exists(this),this.iHash.update(t),this}digestInto(t){$t.exists(this),$t.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jr=(e,t,n)=>new Uu(e,t).update(n).digest();jr.create=(e,t)=>new Uu(e,t);function _0(e,t,n){return $t.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),jr(e,Is(n),Is(t))}const Eo=new Uint8Array([0]),ml=new Uint8Array;function w0(e,t,n,s=32){if($t.hash(e),$t.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=ml);const o=new Uint8Array(r*e.outputLen),i=jr.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)Eo[0]=c+1,a.update(c===0?ml:l).update(n).update(Eo).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),Eo.fill(0),o.slice(0,s)}var Ou=Object.defineProperty,m0=(e,t,n)=>t in e?Ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t)Ou(e,n,{get:t[n],enumerable:!0})},Vr=(e,t,n)=>(m0(e,typeof t!="symbol"?t+"":t,n),n),En=Symbol("verified"),b0=e=>e instanceof Object;function Mu(e){if(!b0(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var In={};Ue(In,{Queue:()=>Fu,QueueNode:()=>Hu,binarySearch:()=>Hi,insertEventIntoAscendingList:()=>x0,insertEventIntoDescendingList:()=>E0,normalizeURL:()=>Vn,utf8Decoder:()=>Ot,utf8Encoder:()=>Pt});var Ot=new TextDecoder("utf-8"),Pt=new TextEncoder;function Vn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function E0(e,t){const[n,s]=Hi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function x0(e,t){const[n,s]=Hi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Hi(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var Hu=class{constructor(e){ve(this,"value");ve(this,"next",null);ve(this,"prev",null);this.value=e}},Fu=class{constructor(){ve(this,"first");ve(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Hu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},R0=class{generateSecretKey(){return us.utils.randomPrivateKey()}getPublicKey(e){return Xe(us.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Xe(us.getPublicKey(t)),n.id=Xs(n),n.sig=Xe(us.sign(Xs(n),t)),n[En]=!0,n}verifyEvent(e){if(typeof e[En]=="boolean")return e[En];const t=Xs(e);if(t!==e.id)return e[En]=!1,!1;try{const n=us.verify(e.sig,t,e.pubkey);return e[En]=n,n}catch{return e[En]=!1,!1}}};function S0(e){if(!Mu(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Xs(e){let t=ms(Pt.encode(S0(e)));return Xe(t)}var Dr=new R0,k0=Dr.generateSecretKey,$0=Dr.getPublicKey,vt=Dr.finalizeEvent,Un=Dr.verifyEvent,C0={};Ue(C0,{Application:()=>Cv,BadgeAward:()=>O0,BadgeDefinition:()=>bv,BlockedRelaysList:()=>iv,BookmarkList:()=>sv,Bookmarksets:()=>_v,Calendar:()=>Bv,CalendarEventRSVP:()=>Uv,ChannelCreation:()=>Ku,ChannelHideMessage:()=>Gu,ChannelMessage:()=>Wu,ChannelMetadata:()=>zu,ChannelMuteUser:()=>Ju,ClassifiedListing:()=>Pv,ClientAuth:()=>Zu,CommunitiesList:()=>rv,CommunityDefinition:()=>Hv,CommunityPostApproval:()=>z0,Contacts:()=>L0,CreateOrUpdateProduct:()=>Rv,CreateOrUpdateStall:()=>xv,Curationsets:()=>wv,Date:()=>Lv,DraftClassifiedListing:()=>Tv,DraftLong:()=>kv,Emojisets:()=>$v,EncryptedDirectMessage:()=>N0,EncryptedDirectMessages:()=>B0,EventDeletion:()=>U0,FileMetadata:()=>F0,FileServerPreference:()=>uv,Followsets:()=>gv,GenericRepost:()=>M0,Genericlists:()=>yv,HTTPAuth:()=>Vi,Handlerinformation:()=>Mv,Handlerrecommendation:()=>Ov,Highlights:()=>X0,InterestsList:()=>lv,Interestsets:()=>Ev,JobFeedback:()=>J0,JobRequest:()=>W0,JobResult:()=>G0,Label:()=>K0,LightningPubRPC:()=>dv,LiveChatMessage:()=>j0,LiveEvent:()=>Av,LongFormArticle:()=>Sv,Metadata:()=>I0,Mutelist:()=>ev,NWCWalletInfo:()=>fv,NWCWalletRequest:()=>Yu,NWCWalletResponse:()=>hv,NostrConnect:()=>pv,OpenTimestamps:()=>H0,Pinlist:()=>tv,ProblemTracker:()=>V0,ProfileBadges:()=>mv,PublicChatsList:()=>ov,Reaction:()=>ji,RecommendRelay:()=>T0,RelayList:()=>nv,Relaysets:()=>vv,Report:()=>D0,Reporting:()=>q0,Repost:()=>Fi,SearchRelaysList:()=>av,ShortTextNote:()=>P0,Time:()=>Nv,UserEmojiList:()=>cv,UserStatuses:()=>Iv,Zap:()=>Q0,ZapGoal:()=>Z0,ZapRequest:()=>Y0,classifyKind:()=>A0,isEphemeralKind:()=>Du,isParameterizedReplaceableKind:()=>qu,isRegularKind:()=>ju,isReplaceableKind:()=>Vu});function ju(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Vu(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Du(e){return 2e4<=e&&e<3e4}function qu(e){return 3e4<=e&&e<4e4}function A0(e){return ju(e)?"regular":Vu(e)?"replaceable":Du(e)?"ephemeral":qu(e)?"parameterized":"unknown"}var I0=0,P0=1,T0=2,L0=3,N0=4,B0=4,U0=5,Fi=6,ji=7,O0=8,M0=16,Ku=40,zu=41,Wu=42,Gu=43,Ju=44,H0=1040,F0=1063,j0=1311,V0=1971,D0=1984,q0=1984,K0=1985,z0=4550,W0=5999,G0=6999,J0=7e3,Z0=9041,Y0=9734,Q0=9735,X0=9802,ev=1e4,tv=10001,nv=10002,sv=10003,rv=10004,ov=10005,iv=10006,av=10007,lv=10015,cv=10030,uv=10096,fv=13194,dv=21e3,Zu=22242,Yu=23194,hv=23195,pv=24133,Vi=27235,gv=3e4,yv=30001,vv=30002,_v=30003,wv=30004,mv=30008,bv=30009,Ev=30015,xv=30017,Rv=30018,Sv=30023,kv=30024,$v=30030,Cv=30078,Av=30311,Iv=30315,Pv=30402,Tv=30403,Lv=31922,Nv=31923,Bv=31924,Uv=31925,Ov=31989,Mv=31990,Hv=34550;function Fv(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function jv(e,t){for(let n=0;n<e.length;n++)if(Fv(e[n],t))return!0;return!1}var Vv={};Ue(Vv,{getHex64:()=>qr,getInt:()=>Qu,getSubscriptionId:()=>Xu,matchEventId:()=>Dv,matchEventKind:()=>Kv,matchEventPubkey:()=>qv});function qr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Qu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function Xu(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function Dv(e,t){return t===qr(e,"id")}function qv(e,t){return t===qr(e,"pubkey")}function Kv(e,t){return t===Qu(e,"kind")}var zv={};Ue(zv,{makeAuthEvent:()=>ef});function ef(e,t){return{kind:Zu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function Wv(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var Gv=e=>(e[En]=!0,!0),tf;try{tf=WebSocket}catch{}var Di=class{constructor(e,t){ve(this,"url");ve(this,"_connected",!1);ve(this,"onclose",null);ve(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ve(this,"_onauth",null);ve(this,"baseEoseTimeout",4400);ve(this,"connectionTimeout",4400);ve(this,"openSubs",new Map);ve(this,"connectionTimeoutHandle");ve(this,"connectionPromise");ve(this,"openCountRequests",new Map);ve(this,"openEventPublishes",new Map);ve(this,"ws");ve(this,"incomingMessageQueue",new Fu);ve(this,"queueRunning",!1);ve(this,"challenge");ve(this,"serial",0);ve(this,"verifyEvent");this.url=Vn(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Di(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new tf(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Wv();this.queueRunning=!1}handleNext(){var n,s,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=Xu(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=qr(e,"id"),a=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((s=o.receivedEvent)==null||s.call(o,this,i),a)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),a=o[2];this.verifyEvent(a)&&jv(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=o[1],a=o[2],l=this.openCountRequests.get(i);l&&(l.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],a=o[2],l=o[3],c=this.openEventPublishes.get(i);a?c.resolve(l):c.reject(new Error(l)),this.openEventPublishes.delete(i);return}case"CLOSED":{const i=o[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1],(r=this._onauth)==null||r.call(this,o[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(ef(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new Jv(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Jv=class{constructor(e,t,n,s){ve(this,"relay");ve(this,"id");ve(this,"closed",!1);ve(this,"eosed",!1);ve(this,"filters");ve(this,"alreadyHaveEvent");ve(this,"receivedEvent");ve(this,"onevent");ve(this,"oneose");ve(this,"onclose");ve(this,"eoseTimeout");ve(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},si=class extends Di{constructor(e){super(e,{verifyEvent:Un})}static async connect(e){const t=new si(e);return await t.connect(),t}},Zv=class{constructor(e){ve(this,"relays",new Map);ve(this,"seenOn",new Map);ve(this,"trackRelays",!1);ve(this,"verifyEvent");ve(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Vn(e);let n=this.relays.get(e);return n||(n=new Di(e,{verifyEvent:this.trustedRelayURLs.has(e)?Gv:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Vn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(s=>[s,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(f,d)=>{let p=this.seenOn.get(d);p||(p=new Set,this.seenOn.set(d,p)),p.add(f)});const n=new Set,s=[],r=Object.keys(e).length,o=[];let i=f=>{var d;o[f]=!0,o.filter(p=>p).length===r&&((d=t.oneose)==null||d.call(t),i=()=>{})};const a=[];let l=(f,d)=>{var p;i(f),a[f]=d,a.filter(v=>v).length===r&&((p=t.onclose)==null||p.call(t,a),l=()=>{})};const c=f=>{var p;if((p=t.alreadyHaveEvent)!=null&&p.call(t,f))return!0;const d=n.has(f);return n.add(f),d},u=Promise.all(Object.entries(e).map(async(f,d,p)=>{if(p.indexOf(f)!==d){l(d,"duplicate url");return}let[v,g]=f;v=Vn(v);let m;try{m=await this.ensureRelay(v,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(E){l(d,(E==null?void 0:E.message)||String(E));return}let b=m.subscribe(g,{...t,oneose:()=>i(d),onclose:E=>l(d,E),alreadyHaveEvent:c,eoseTimeout:t.maxWait});s.push(b)}));return{async close(){await u,s.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(Vn).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},Ln=class extends Zv{constructor(){super({verifyEvent:Un})}},Ve={};Ue(Ve,{BECH32_REGEX:()=>nf,Bech32MaxSize:()=>qi,decode:()=>Bs,encodeBytes:()=>Kr,naddrEncode:()=>s_,neventEncode:()=>n_,noteEncode:()=>e_,nprofileEncode:()=>t_,npubEncode:()=>Xv,nrelayEncode:()=>r_,nsecEncode:()=>Qv});var qi=5e3,nf=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Yv(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Bs(e){var r,o,i,a,l,c,u,f;let{prefix:t,words:n}=ts.decode(e,qi),s=new Uint8Array(ts.fromWords(n));switch(t){case"nprofile":{let d=zs(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Xe(d[0][0]),relays:d[1]?d[1].map(p=>Ot.decode(p)):[]}}}case"nevent":{let d=zs(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Xe(d[0][0]),relays:d[1]?d[1].map(p=>Ot.decode(p)):[],author:(i=d[2])!=null&&i[0]?Xe(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Xe(d[3][0]),16):void 0}}}case"naddr":{let d=zs(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ot.decode(d[0][0]),pubkey:Xe(d[2][0]),kind:parseInt(Xe(d[3][0]),16),relays:d[1]?d[1].map(p=>Ot.decode(p)):[]}}}case"nrelay":{let d=zs(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Ot.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:Xe(s)};default:throw new Error(`unknown prefix ${t}`)}}function zs(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function Qv(e){return Kr("nsec",e)}function Xv(e){return Kr("npub",es(e))}function e_(e){return Kr("note",es(e))}function Us(e,t){let n=ts.toWords(t);return ts.encode(e,n,qi)}function Kr(e,t){return Us(e,t)}function t_(e){let t=zr({0:[es(e.pubkey)],1:(e.relays||[]).map(n=>Pt.encode(n))});return Us("nprofile",t)}function n_(e){let t;e.kind!==void 0&&(t=Yv(e.kind));let n=zr({0:[es(e.id)],1:(e.relays||[]).map(s=>Pt.encode(s)),2:e.author?[es(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Us("nevent",n)}function s_(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=zr({0:[Pt.encode(e.identifier)],1:(e.relays||[]).map(s=>Pt.encode(s)),2:[es(e.pubkey)],3:[new Uint8Array(t)]});return Us("naddr",n)}function r_(e){let t=zr({0:[Pt.encode(e)]});return Us("nrelay",t)}function zr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),pr(...t)}var o_=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Wr(e){let t=[];for(let n of e.content.matchAll(o_))if(n[2])try{let{type:s,data:r}=Bs(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var i_={};Ue(i_,{decrypt:()=>a_,encrypt:()=>sf});async function sf(e,t,n){const s=e instanceof Uint8Array?Xe(e):e,r=rs.getSharedSecret(s,"02"+t),o=rf(r);let i=Uint8Array.from(Eu(16)),a=Pt.encode(n),l=Tu(o,i).encrypt(a),c=jt.encode(new Uint8Array(l)),u=jt.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function a_(e,t,n){const s=e instanceof Uint8Array?Xe(e):e;let[r,o]=n.split("?iv="),i=rs.getSharedSecret(s,"02"+t),a=rf(i),l=jt.decode(o),c=jt.decode(r),u=Tu(a,l).decrypt(c);return Ot.decode(u)}function rf(e){return e.slice(1,33)}var of={};Ue(of,{NIP05_REGEX:()=>af,isValid:()=>u_,queryProfile:()=>lf,searchDomain:()=>c_,useFetchImplementation:()=>l_});var af=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Gr;try{Gr=fetch}catch{}function l_(e){Gr=e}async function c_(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Gr(n,{redirect:"error"})).json()).names}catch{return{}}}async function lf(e){var o;const t=e.match(af);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await Gr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function u_(e,t){let n=await lf(t);return n?n.pubkey===e:!1}var Ge={};Ue(Ge,{parse:()=>f_});function f_(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},u=s===0,f=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var d_={};Ue(d_,{fetchRelayInformation:()=>p_,useFetchImplementation:()=>h_});var cf;try{cf=fetch}catch{}function h_(e){cf=e}async function p_(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var g_={};Ue(g_,{getPow:()=>uf,minePow:()=>y_});function uf(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function y_(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=Xs(s),uf(s.id)>=t)break}return s}var v_={};Ue(v_,{finishRepostEvent:()=>__,getRepostedEvent:()=>w_,getRepostedEventPointer:()=>ff});function __(e,t,n,s){return vt({kind:Fi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function ff(e){if(e.kind!==Fi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function w_(e,{skipVerification:t}={}){const n=ff(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Un(s)))return s}var m_={};Ue(m_,{NOSTR_URI_REGEX:()=>Jr,parse:()=>E_,test:()=>b_});var Jr=new RegExp(`nostr:(${nf.source})`);function b_(e){return typeof e=="string"&&new RegExp(`^${Jr.source}$`).test(e)}function E_(e){const t=e.match(new RegExp(`^${Jr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Bs(t[1])}}var x_={};Ue(x_,{finishReactionEvent:()=>R_,getReactedEventPointer:()=>S_});function R_(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return vt({...e,kind:ji,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function S_(e){if(e.kind!==ji)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var k_={};Ue(k_,{matchAll:()=>$_,regex:()=>Ki,replaceAll:()=>C_});var Ki=()=>new RegExp(`\\b${Jr.source}\\b`,"g");function*$_(e){const t=e.matchAll(Ki());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Bs(r),start:n.index,end:n.index+s.length}}catch{}}function C_(e,t){return e.replaceAll(Ki(),(n,s)=>t({uri:n,value:s,decoded:Bs(s)}))}var A_={};Ue(A_,{channelCreateEvent:()=>I_,channelHideMessageEvent:()=>L_,channelMessageEvent:()=>T_,channelMetadataEvent:()=>P_,channelMuteUserEvent:()=>N_});var I_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Ku,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},P_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:zu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},T_=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),vt({kind:Wu,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},L_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Gu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},N_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Ju,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},B_={};Ue(B_,{EMOJI_SHORTCODE_REGEX:()=>df,matchAll:()=>U_,regex:()=>zi,replaceAll:()=>O_});var df=/:(\w+):/,zi=()=>new RegExp(`\\B${df.source}\\B`,"g");function*U_(e){const t=e.matchAll(zi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function O_(e,t){return e.replaceAll(zi(),(n,s)=>t({shortcode:n,name:s}))}var M_={};Ue(M_,{useFetchImplementation:()=>H_,validateGithub:()=>F_});var Wi;try{Wi=fetch}catch{}function H_(e){Wi=e}async function F_(e,t,n){try{return await(await Wi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var j_={};Ue(j_,{default:()=>D_,v2:()=>Gi});var V_=new TextDecoder,xt=class{static utf8Decode(e){return V_.decode(e)}static getConversationKey(e,t){const n=rs.getSharedSecret(e,"02"+t).subarray(1,33);return _0(ms,n,"nip44-v2")}static getMessageKeys(e,t){const n=w0(ms,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}static calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}static writeU16BE(e){if(!Number.isSafeInteger(e)||e<xt.minPlaintextSize||e>xt.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}static pad(e){const t=xt.utf8Encode(e),n=t.length,s=xt.writeU16BE(n),r=new Uint8Array(xt.calcPaddedLen(n)-n);return pr(s,t,r)}static unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<xt.minPlaintextSize||t>xt.maxPlaintextSize||n.length!==t||e.length!==2+xt.calcPaddedLen(t))throw new Error("invalid padding");return xt.utf8Decode(n)}static hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=pr(n,t);return jr(ms,e,s)}static decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=jt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}},ft=xt;Vr(ft,"minPlaintextSize",1);Vr(ft,"maxPlaintextSize",65535);Vr(ft,"utf8Encode",wu);var Gi=class{static encrypt(e,t,n=Eu(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=ft.getMessageKeys(t,n),i=ft.pad(e),a=wl(s,r,i),l=ft.hmacAad(o,a,n);return jt.encode(pr(new Uint8Array([2]),n,a,l))}static decrypt(e,t){const{nonce:n,ciphertext:s,mac:r}=ft.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=ft.getMessageKeys(t,n),l=ft.hmacAad(a,s,n);if(!Xy(l,r))throw new Error("invalid MAC");const c=wl(o,i,s);return ft.unpad(c)}};Vr(Gi,"utils",ft);var D_={v2:Gi},q_={};Ue(q_,{makeNwcRequestEvent:()=>z_,parseConnectionString:()=>K_});function K_(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function z_(e,t,n){const r=await sf(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Yu,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return vt(o,t)}var W_={};Ue(W_,{getZapEndpoint:()=>J_,makeZapReceipt:()=>Q_,makeZapRequest:()=>Z_,useFetchImplementation:()=>G_,validateZapRequest:()=>Y_});var Ji;try{Ji=fetch}catch{}function G_(e){Ji=e}async function J_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=ts.decode(n,1e3),a=ts.fromWords(i);t=Ot.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await Ji(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function Z_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function Y_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Mu(t))return"Zap request is not a valid Nostr event.";if(!Un(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function Q_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var X_={};Ue(X_,{getToken:()=>e1,hashPayload:()=>Zi,unpackEventFromToken:()=>pf,validateEvent:()=>mf,validateEventKind:()=>yf,validateEventMethodTag:()=>_f,validateEventPayloadTag:()=>wf,validateEventTimestamp:()=>gf,validateEventUrlTag:()=>vf,validateToken:()=>t1});var hf="Nostr ";async function e1(e,t,n,s=!1,r){const o={kind:Vi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Zi(r)]);const i=await n(o);return(s?hf:"")+jt.encode(Pt.encode(JSON.stringify(i)))}async function t1(e,t,n){const s=await pf(e).catch(o=>{throw o});return await mf(s,t,n).catch(o=>{throw o})}async function pf(e){if(!e)throw new Error("Missing token");e=e.replace(hf,"");const t=Ot.decode(jt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function gf(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function yf(e){return e.kind===Vi}function vf(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function _f(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Zi(e){const t=ms(Pt.encode(JSON.stringify(e)));return Xe(t)}function wf(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Zi(t);return n.length>0&&n[1]===s}async function mf(e,t,n,s){if(!Un(e))throw new Error("Invalid nostr event, signature invalid");if(!yf(e))throw new Error("Invalid nostr event, kind invalid");if(!gf(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!vf(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!_f(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!wf(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const bf=e=>(gt("data-v-393546d0"),e=e(),yt(),e),n1={class:"event-details"},s1={key:0},r1={class:"highlight"},o1={key:1},i1={key:0,class:"highlight"},a1={key:1,class:"event-details__no-user"},l1=bf(()=>_("div",null,"No info about author on this relay.",-1)),c1={class:"highlight"},u1={key:2},f1={key:0,class:"highlight"},d1={key:1,class:"event-details__no-user"},h1=bf(()=>_("div",null,"No info about author on this relay.",-1)),p1={class:"highlight"},g1=Be({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=K(1),s=K(!0),r=K(),o=K({});Tt(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:v,sig:g}=l;return{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:v,sig:g}},a=l=>{n.value=l};return(l,c)=>(P(),U("div",n1,[_("div",{class:Ie(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[_("span",{onClick:c[0]||(c[0]=()=>a(1)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(P(),U("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):ie("",!0),_("span",{onClick:c[2]||(c[2]=()=>a(3)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(P(),U("div",s1,[_("pre",r1,ce(JSON.stringify(r.value,null,2)),1)])):ie("",!0),s.value&&n.value===2?(P(),U("div",o1,[l.authorEvent?(P(),U("pre",i1,ce(JSON.stringify(o.value,null,2)),1)):(P(),U("div",a1,[l1,_("pre",c1,"pubkey: "+ce(l.event.pubkey)+` 
npub: `+ce(le(Ve).npubEncode(l.event.pubkey)),1)]))])):ie("",!0),n.value===3?(P(),U("div",u1,[l.event.author?(P(),U("pre",f1,ce(JSON.stringify(l.event.author,null,2)),1)):(P(),U("div",d1,[h1,_("pre",p1,"pubkey: "+ce(l.event.pubkey)+`
npub: `+ce(le(Ve).npubEncode(l.event.pubkey)),1)]))])):ie("",!0)]))}});const Ae=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Ef=Ae(g1,[["__scopeId","data-v-393546d0"]]),y1={},v1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},_1=_("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),w1=[_1];function m1(e,t){return P(),U("svg",v1,w1)}const b1=Ae(y1,[["render",m1]]),E1={},x1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},R1=_("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),S1=[R1];function k1(e,t){return P(),U("svg",x1,S1)}const $1=Ae(E1,[["render",k1]]),C1={},A1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},I1=_("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),P1=[I1];function T1(e,t){return P(),U("svg",A1,P1)}const L1=Ae(C1,[["render",T1]]),N1={},B1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},U1=_("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),O1=[U1];function M1(e,t){return P(),U("svg",B1,O1)}const H1=Ae(N1,[["render",M1]]),F1={class:"actions-bar"},j1={class:"actions-bar__action actions-bar__num"},V1={class:"actions_bar-number"},D1={class:"actions-bar__action actions-bar__num"},q1={class:"actions_bar-number"},K1={class:"actions_bar-number"},z1=Be({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(P(),U("div",F1,[_("span",j1,[ye(b1,{class:"actions-bar__icon"}),_("span",V1,ce(o.likes),1)]),_("span",D1,[ye($1,{class:"actions-bar__icon"}),_("span",q1,ce(o.reposts),1)]),o.hasReplyBtn?(P(),U("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ye(H1,{class:"actions-bar__icon"}),_("span",K1,ce(o.replies),1)])):ie("",!0),o.hasReplyBtn?(P(),U("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ye(L1,{class:"actions-bar__icon"})])):ie("",!0)]))}});const Zr=yn("npub",()=>{const e=K(""),t=K("");function n(r){e.value=r}function s(r){t.value=r}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:n,updateCachedUrl:s}}),Yi=yn("user",()=>{const e=K(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),W1={class:"event-content"},G1={key:0},J1={key:1},Z1=["onClick"],Y1=Be({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=Br(),s=Zr(),r=Yi(),o=K([]);Tt(()=>{o.value=a(t.event,t.slice)}),mi(()=>{o.value=a(t.event,t.slice)});const i=(f,d)=>{let p=[],v="";for(const g of f){const m=v.length;if(v+=g.value,v.length<=d)p.push(g);else{if(g.type==="text"){const b=d-m;g.value=g.value.slice(0,b)}p.push(g),p.push({type:"text",value:"..."});break}}return p},a=(f,d)=>{const p=f.content,v=f.references;let g=[];if(!(v!=null&&v.length))return g.push({type:"text",value:p}),g;const m=[];v.forEach(E=>{let $=p.indexOf(E.text);if(m.includes($))for(const L of m){if(!m.includes($))break;$=p.indexOf(E.text,$+E.text.length)}E.textIndex=$,m.push($)}),v.sort((E,$)=>E.textIndex-$.textIndex);let b=p;return v.forEach(E=>{const $=b.indexOf(E.text),L=b.slice(0,$),B=b.slice($+E.text.length),C=l(E);g.push({type:"text",value:L}),g.push({type:"profile",value:C,npub:c(E.profile.pubkey)}),b=B}),g.push({type:"text",value:b}),d&&(g=i(g,d)),g},l=f=>{const d=f.profile_details,p=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${p.slice(0,15)}...`}`},c=f=>Ve.npubEncode(f),u=f=>{f&&(s.updateNpubInput(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>(P(),U("div",W1,[(P(!0),U(xe,null,ot(o.value,p=>(P(),U("span",null,[p.type==="text"?(P(),U("span",G1,ce(p.value),1)):ie("",!0),p.type==="profile"?(P(),U("span",J1,[_("a",{onClick:Ho(()=>u(p.npub),["prevent"]),href:"#"},ce(p.value),9,Z1)])):ie("",!0)]))),256))]))}});const Q1=Ae(Y1,[["__scopeId","data-v-2c0eedfd"]]);function X1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ew(e,...t){if(!X1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const tw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nw(e){ew(e);let t="";for(let n=0;n<e.length;n++)t+=tw[e[n]];return t}const Bt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function bl(e){if(e>=Bt._0&&e<=Bt._9)return e-Bt._0;if(e>=Bt._A&&e<=Bt._F)return e-(Bt._A-10);if(e>=Bt._a&&e<=Bt._f)return e-(Bt._a-10)}function El(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=bl(e.charCodeAt(o)),a=bl(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}const _n=yn("nsec",()=>{const e=K(""),t=K(!1),n=K("");function s(v){e.value=v}function r(v){n.value=v}function o(v){t.value=v}function i(){try{const v=a();if(!v)throw new Error("Invalid private key");return $0(v)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?El(e.value):Ve.decode(e.value).data}catch{return null}}function l(){const v=a();if(!v)return"";try{return nw(v)}catch{return""}}function c(){try{return e.value.indexOf("nsec")===-1?Ve.nsecEncode(El(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&d()}function f(){return e.value.length>0&&!d()}function d(){return e.value.length===0?!1:i().length>0}const p=Se(()=>d());return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:d,isValidNsecPresented:u,isNotValidNsecPresented:f,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:a,getPrivkeyHex:l,getPrivkey:c,isNsecValidTemp:p}}),Yr=yn("images",()=>{const e=K(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:Qt}=In,On=yn("relay",()=>{const e=K({}),t=K(!1),n=K(""),s=K(""),r=K(0),o=K([]),i=K([]),a=K([]),l=K([]),c=K([]),u=Se(()=>{const O=new Set([...a.value,...l.value]),A=[],R=[];return O.forEach(S=>{a.value.includes(S)&&!l.value.includes(S)?A.push({url:S,type:"read"}):R.push({url:S,type:"write"})}),[...A,...R].sort((S,I)=>S.url.localeCompare(I.url))}),f=Se(()=>u.value.map(O=>O.url)),d=Se(()=>{const O=e.value.url,A=f.value;return A.includes(O)?A:[O,...A]}),p=Se(()=>{const O=i.value,A=e.value;return A.connected&&!O.includes(A.url)&&O.push(A.url),O}),v=Se(()=>{const O=a.value,A=l.value,R=new Set([...O,...A]),S=[];return R.forEach(I=>{O.includes(I)&&A.includes(I)?S.push(["r",I]):O.includes(I)?S.push(["r",I,"read"]):A.includes(I)&&S.push(["r",I,"write"])}),S}),g=Se(()=>c.value.map(O=>O.replace("wss://","").replace("/","")).join(", ")),m=Se(()=>e.value.connected);function b(O){e.value=O}function E(O){t.value=O}function $(O){i.value=O.map(A=>Qt(A))}function L(O){c.value=O.map(A=>Qt(A))}function B(O){a.value=O.map(A=>Qt(A))}function C(O){l.value=O.map(A=>Qt(A))}function j(O){l.value.includes(O)||l.value.push(Qt(O))}function F(O){const A=Qt(O);if(!A||f.value.includes(A))return!1;a.value.push(A)}function J(O){l.value=l.value.filter(A=>A!==O)}function ee(O){a.value=a.value.filter(A=>A!==O),l.value=l.value.filter(A=>A!==O),i.value=i.value.filter(A=>A!==O)}function te(O){n.value=O==="custom"?"custom":Qt(O)}function fe(O){r.value=O}function oe(O,A){o.value[O]=A.length?Qt(A):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:E,connectedUserReadRelayUrls:i,setConnectedUserReadRelayUrls:$,selectInputRelayUrl:n,setSelectedRelay:te,selectInputCustomRelayUrl:s,currentRelay:e,updateCurrentRelay:b,additionalRelaysCountForSignedEvent:r,updateAdditionalRelaysCountForSignedEvent:fe,additionalRelaysUrlsForSignedEvent:o,updateRelayAdditionalRelaysUrlsForSignedEvent:oe,connectedFeedRelaysPrettyStr:g,reedRelays:a,writeRelays:l,setReedRelays:B,setWriteRelays:C,isConnectedToRelay:m,userReadWriteRelays:u,removeWriteRelay:J,addWriteRelay:j,removeUserRelay:ee,addUserRelay:F,nip65Tags:v,userReadWriteRelaysUrls:f,allRelaysUrlsWithSelectedRelay:d,connectedFeedRelaysUrls:c,setConnectedFeedRelayUrls:L,connectedUserReadRelayUrlsWithSelectedRelay:p}}),xo={META:0,REPLY:1,LIKE:7,REPOST:6},xl="wss://purplepag.es/",an=async(e,t=[],n,s)=>{const r=Rf(e,t,n),o=Sf(e,t,n),i=xf(e,t,n,s),a=ow(e,t,n);return e.forEach(l=>l.isRoot=!0),Promise.all([r,o,i,a])},sw=(e,t=[])=>{(!t||!t.length)&&(t=[]);const n=[],s=[],r=[];for(const o of t)switch(o.kind){case xo.LIKE:n.push(o);break;case xo.REPOST:s.push(o);break;case xo.REPLY:r.push(o);break}fw(e,n),dw(e,s),iw(e,r)},zn=async(e,t,n=[],s)=>{const r=Rf(t,n,s),o=Sf(t,n,s),i=xf(t,n,s),a=aw(t,n,s);return t.forEach(l=>l.isRoot=!1),e&&rw(e,t),Promise.all([r,o,i,a])},rw=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey,event:e}},ow=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ln,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=Ge.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===a.id&&l++}a.replies=l}},iw=async(e,t)=>{var s;let n=0;for(const r of t){const o=Ge.parse(r);!o.reply&&((s=o==null?void 0:o.root)==null?void 0:s.id)===e.id&&n++}e.replies=n},aw=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ln,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=Ge.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===a.id&&l++}a.replies=l}},St=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===(i==null?void 0:i.pubkey)){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(a),o=!0}}),o||s.push(r)}),s},xf=async(e,t=[],n,s)=>{var f;if(!t.length)return e;let r=n||new Ln;const o={},i=new Set;for(const d of e){if(!Cf(d.content))continue;const p=Wr(d);for(let v=0;v<p.length;v++){let{profile:g}=p[v];g!=null&&g.pubkey&&i.add(g.pubkey)}o[d.id]=p}if(!i.size){e.forEach(d=>d.references=[]);return}const a=[];let l=[];if(s)for(const d of i){const p=(f=s[d])==null?void 0:f.event;p?a.push(p):l.push(d)}else l=[...i];const c=await Promise.all(l.map(async d=>r.get(t,{kinds:[0],authors:[d]}))),u=[...a,...c].sort((d,p)=>p.created_at-d.created_at);for(const d of e){const p=o[d.id];if(!p){d.references=[];continue}const v=[];for(let g=0;g<p.length;g++){let{profile:m}=p[g];m!=null&&m.pubkey&&u.forEach(b=>{if((b==null?void 0:b.pubkey)===m.pubkey){const E=p[g];E.profile_details=JSON.parse((b==null?void 0:b.content)||"{}"),v.push(E)}})}d.references=v}},lw=e=>{if(!Cf(e.content))return[];const t=new Set,n=Wr(e);for(let s=0;s<n.length;s++){let{profile:r}=n[s];r!=null&&r.pubkey&&t.add(r.pubkey)}return t.size?[...t]:[]},cw=async(e,t)=>{if(!t.length){e.references=[];return}const n=Wr(e),s=[];for(let r=0;r<n.length;r++){let{profile:o}=n[r];o!=null&&o.pubkey&&t.forEach(i=>{if((i==null?void 0:i.pubkey)===(o==null?void 0:o.pubkey)){const a=n[r];a.profile_details=JSON.parse((i==null?void 0:i.content)||"{}"),s.push(a)}})}e.references=s},uw=e=>{const t=new Set,n=[];return e.sort((r,o)=>o.created_at-r.created_at).forEach(r=>{const{pubkey:o}=r;t.has(o)||(t.add(o),n.push(r))}),n},Rf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ln).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l.content&&Af(l.content)&&a++}),i.likes=a})},fw=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.reverse().find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&s.content&&Af(s.content)&&n++}),e.likes=n},Sf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ln).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a++}),i.reposts=a})},dw=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&n++}),e.reposts=n},kf=(e,t)=>t.filter(n=>{var r;const s=Ge.parse(n);return!s.reply&&((r=s==null?void 0:s.root)==null?void 0:r.id)===e.id}),$f=(e,t)=>t.filter(n=>{var r,o;const s=Ge.parse(n);return((r=s==null?void 0:s.reply)==null?void 0:r.id)===e.id||((o=s==null?void 0:s.root)==null?void 0:o.id)===e.id}),Cf=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,Af=e=>!["-",""].includes(e),Ws=(e,t=3e3)=>{try{return new Promise(n=>{const s=new WebSocket(e),r=setTimeout(()=>{s.close(),n(!1)},t);s.onopen=()=>{clearTimeout(r),s.close(),n(!0)},s.onerror=()=>{clearTimeout(r),s.close(),n(!1)}})}catch{return Promise.resolve(!1)}},Rl=e=>/^[a-f0-9]{64}$/.test(e),hw=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(a){o(a)},oneose(){i.close()}})});return Promise.race([r,s])},If=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=In.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},Pf=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},Tf=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),pw={},gw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},yw=_("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),vw=_("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),_w=[yw,vw];function ww(e,t){return P(),U("svg",gw,_w)}const Sl=Ae(pw,[["render",ww]]),mw={},bw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},Ew=_("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),xw=[Ew];function Rw(e,t){return P(),U("svg",bw,xw)}const kl=Ae(mw,[["render",Rw]]),Sw={},kw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},$w=_("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),Cw=_("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),Aw=[$w,Cw];function Iw(e,t){return P(),U("svg",kw,Aw)}const Lf=Ae(Sw,[["render",Iw]]),Pw={},Tw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-diagram-2-fill",viewBox:"0 0 16 16"},Lw=_("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5zm-3 8A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5z"},null,-1),Nw=[Lw];function Bw(e,t){return P(),U("svg",Tw,Nw)}const Uw=Ae(Pw,[["render",Bw]]),Ow={},Mw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},Hw=_("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),Fw=_("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),jw=[Hw,Fw];function Vw(e,t){return P(),U("svg",Mw,jw)}const Nf=Ae(Ow,[["render",Vw]]),Dw={class:"thread"},qw={key:0,class:"loading-thread"},Kw={class:"event-card"},zw={key:0,class:"event-img"},Ww=["src","title"],Gw={class:"event-content"},Jw={class:"event-header"},Zw=["href"],Yw={class:"event-username-text"},Qw={key:0,class:"event-replying-to"},Xw={key:1,class:"replying-to-separator"},em=["href"],tm={class:"event-body"},nm={class:"event-footer"},sm={class:"event-footer__right-actions"},rm={class:"event-footer__link-wrapper"},om={class:"event__raw-data"},im={class:"event-footer-code-wrapper"},am={class:"event-footer__signature-text"},lm={class:"event-footer__right-actions"},cm={class:"event-footer__link-wrapper"},um={key:0,class:"reply-field"},fm={class:"reply-field__actions"},dm={class:"reply-field__error"},hm=["disabled"],pm={key:1,class:"loading-replies"},gm={key:2,class:"replies"},ym=Be({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},isMainEvent:{type:Boolean},currentReadRelays:{},threadDescender:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=K(""),r=K(""),o=e,i=Br(),a=Zr(),l=_n(),c=Yi(),u=Yr(),f=On(),d=K(!1),p=K(!1),v=K([]),g=K(!1),m=K(!1),b=K(!1),E=K(!1),$=K([]),L=K(!1),B=R=>{if(o.isMainEvent)return n("toggleRawData",R);o.event.showRawData=!o.event.showRawData},C=R=>`/user/${Ve.npubEncode(R)}`;Tt(()=>{Object.keys(o.event).length!==0&&(b.value=Un(o.event))});const j=(R,S)=>{if(R){let I="";if(R.name?I=R.name:R.username?I=R.username:I=R.display_name,I.length)return I}return Ve.npubEncode(S).slice(0,10)+"..."},F=()=>{d.value=!d.value,n("showReplyField")},J=async()=>{if(p.value)return;if(!(l.nsec?l.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const S=s.value.trim();if(!S.length){r.value="Please provide message to broadcast.";return}let I,N;try{if(I=l.getPrivkeyBytes(),!I)throw new Error;if(N=l.getPubkey(),!N.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const Q=f.writeRelays;if(!Q.length){r.value="Please provide your write relays to broadcast event";return}const ne={kind:1,pubkey:N,created_at:Math.floor(Date.now()/1e3),content:S,tags:[],id:"",sig:""},z=[],pe=[];o.event.tags.forEach(w=>{const k=[w[0],w[1]];w[2]&&k.push(w[2]),w[3]&&k.push(w[3]),k[0]==="e"?z.push(k):k[0]==="p"&&pe.push(k)});const he=[];if(z.length){const w=z.find(k=>k[3]==="root");w?he.push(w):he.push(z[0]),he.push(["e",o.event.id,"","reply"])}else he.push(["e",o.event.id,"","root"]);const Y=Wr(ne),Z=pe.map(w=>w[1]),x=[];Y.forEach(w=>{var T;const k=(T=w==null?void 0:w.profile)==null?void 0:T.pubkey;k&&!Z.includes(k)&&(x.push(["p",k]),Z.push(k))});const H=[...x,...pe];Z.includes(o.event.pubkey)||H.push(["p",o.event.pubkey]),ne.tags=[...H,...he];const M=vt(ne,I);r.value="",p.value=!0;const G=H.filter(w=>w[1]!==N).map(w=>w[1]);let ue=[];const{pool:de}=o;if(G.length){const w=[...f.reedRelays,...f.writeRelays,f.currentRelay.url],k=[...new Set(w)],T=await de.querySync(k,{kinds:[10002],authors:G}),W=new Set;T.forEach(X=>{if(X.tags.length){const{read:q}=If(X);q.forEach(D=>{f.writeRelays.includes(D)||W.add(D)})}}),ue=[...W]}if(!(await Pf(Q,de,M)).some(w=>w.success)){r.value="Failed to broadcast reply";return}if(ue.length)try{await de.publish(ue,M)}catch{console.error("Failed to broadcast reply to some additional relays")}if(p.value=!1,d.value=!1,s.value="",o.isMainEvent)return n("loadRootReplies");ee()},ee=async()=>{const{event:R,currentReadRelays:S,pool:I}=o;if(!(S!=null&&S.length)||!I)return;if(o.isMainEvent)return n("loadMoreReplies");E.value=!0;let N=await I.querySync(S,{kinds:[1],"#e":[R.id]});R.isRoot?N=kf(R,N):N=$f(R,N);const Q=o.threadDescender;if(N.length==1&&(Q==null?void 0:Q.id)===N[0].id){E.value=!1;return}const ne=N.map(he=>he.pubkey),z=[...new Set(ne)],pe=await I.querySync(S,{kinds:[0],authors:z});N=St(N,pe),await zn(R,N,S,I),v.value=N,g.value=!0,E.value=!1},te=()=>{g.value=!1},fe=()=>{const{origin:R,pathname:S}=window.location;let I=Ve.noteEncode(o.event.id);const N=`${R}${S}#/event/${I}`;navigator.clipboard.writeText(N),m.value=!0,setTimeout(()=>{m.value=!1},2e3)},oe=R=>{const S=Ve.npubEncode(R);a.updateNpubInput(S),c.updateRoutingStatus(!0),i.push({path:C(R)})},O=async R=>{var Q,ne;const{currentReadRelays:S,pool:I}=o;if(!(S!=null&&S.length)||!I)return[];const N=Ge.parse(R);if(!N.root&&!N.reply)return[];if(N.root&&!N.reply){let z=await I.get(S,{kinds:[1],ids:[N.root.id]});if(!z)return[];const pe=await I.get(S,{kinds:[0],authors:[z.pubkey]});return pe&&await St([z],[pe]),await an([z],S,I),[z]}if(N.reply){let z=await I.get(S,{kinds:[1],ids:[N.reply.id]});if(!z)return[];const pe=await I.get(S,{kinds:[0],authors:[z.pubkey]});pe&&await St([z],[pe]);const he=Ge.parse(z),Y=((Q=he==null?void 0:he.reply)==null?void 0:Q.id)||((ne=he==null?void 0:he.root)==null?void 0:ne.id),Z=await I.get(S,{kinds:[1],ids:[Y||""]});if(Z){const H=await I.get(S,{kinds:[0],authors:[Z.pubkey]});H&&await St([Z],[H])}await zn(Z,[z],S,I);const x=await O(z);return[z,...x]}return[]},A=async()=>{var he,Y;const{event:R,pool:S,currentReadRelays:I}=o;if(!(I!=null&&I.length)||!S||L.value)return;L.value=!0;const N=R.replyingTo.event,Q=await S.get(I,{kinds:[0],authors:[N.pubkey]});Q&&await St([N],[Q]);const ne=Ge.parse(N);if(!ne.root&&!ne.reply)await an([N],I,S);else{const Z=((he=ne==null?void 0:ne.reply)==null?void 0:he.id)||((Y=ne==null?void 0:ne.root)==null?void 0:Y.id),x=await S.get(I,{kinds:[1],ids:[Z||""]});if(x){const H=await S.get(I,{kinds:[0],authors:[x.pubkey]});H&&await St([x],[H])}await zn(x,[N],I,S)}const z=await O(N),pe=[N,...z].reverse();L.value=!1,$.value=pe};return(R,S)=>{const I=Rs("EventContent",!0);return P(),U(xe,null,[_("div",Dw,[(P(!0),U(xe,null,ot($.value,(N,Q)=>(P(),U("div",{class:"ancestor",key:R.event.id},[ye(I,{onToggleRawData:()=>B(N.id),event:N,currentReadRelays:R.currentReadRelays,pool:R.pool,hasReplyBtn:R.hasReplyBtn,threadDescender:$.value[Q+1]?$.value[Q+1]:R.event},null,8,["onToggleRawData","event","currentReadRelays","pool","hasReplyBtn","threadDescender"])]))),128)),L.value?(P(),U("div",qw,"Loading thread...")):ie("",!0)]),_("div",Kw,[_("div",{class:Ie(["event-card__content",{flipped:R.event.showRawData}])},[_("div",{class:Ie(["event-card__front","event__presentable-date",{"event-card__front_custom":R.pubKey===R.event.pubkey}])},[le(u).showImages&&R.event.author?(P(),U("div",zw,[_("img",{class:"author-pic",src:R.event.author.picture,alt:"user's avatar",title:`Avatar for ${R.event.author.name}`},null,8,Ww)])):ie("",!0),_("div",Gw,[_("div",Jw,[_("div",null,[_("a",{class:"event-username-link",onClick:S[0]||(S[0]=Ho(()=>oe(R.event.pubkey),["prevent"])),href:C(R.event.pubkey)},[_("b",Yw,ce(j(R.event.author,R.event.pubkey)),1)],8,Zw)]),_("div",null,ce(le(Tf)(R.event.created_at)),1)]),R.event.replyingTo?(P(),U("div",Qw,[R.isMainEvent?(P(),U("span",{key:0,onClick:A,class:"view-thread event-username-link event-username-text"},[ye(Uw),Re(" View thread ")])):ie("",!0),R.isMainEvent?(P(),U("span",Xw," | ")):ie("",!0),_("span",null,[Re(" Replying to "),_("a",{onClick:S[1]||(S[1]=Ho(()=>oe(R.event.replyingTo.pubkey),["prevent"])),href:C(R.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+ce(j(R.event.replyingTo.user,R.event.replyingTo.pubkey)),9,em)])])):ie("",!0),_("div",tm,[ye(Q1,{event:R.event},null,8,["event"])]),_("div",nm,[ye(z1,{onShowReplyField:F,onHandleShowReplies:ee,onHandleHideReplies:te,hasReplyBtn:R.hasReplyBtn,likes:R.event.likes,reposts:R.event.reposts,replies:R.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),_("div",sm,[_("div",rm,[m.value?(P(),Le(kl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ie("",!0),m.value?ie("",!0):(P(),Le(Sl,{key:1,onClick:fe,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:S[2]||(S[2]=()=>B(R.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),_("div",{class:Ie(["event-card__back",{"event-card__back_custom":R.pubKey===R.event.pubkey,"event-details-first":R.index===0}])},[_("div",om,[ye(Ef,{event:R.event,authorEvent:R.event.authorEvent},null,8,["event","authorEvent"])]),_("div",im,[_("div",{class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!b.value}])},[b.value?(P(),Le(Lf,{key:0})):ie("",!0),b.value?ie("",!0):(P(),Le(Nf,{key:1})),_("span",am,ce(b.value?"Signature is valid":"Invalid signature"),1)],2),_("div",lm,[_("div",cm,[m.value?(P(),Le(kl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):ie("",!0),m.value?ie("",!0):(P(),Le(Sl,{key:1,onClick:fe,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:S[3]||(S[3]=()=>B(R.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),d.value?(P(),U("div",um,[An(_("textarea",{"onUpdate:modelValue":S[4]||(S[4]=N=>s.value=N),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[ks,s.value]]),_("div",fm,[_("div",dm,ce(r.value),1),_("button",{disabled:p.value,onClick:J,class:"reply-field__btn"},ce(p.value?"Sending reply...":"Reply"),9,hm)])])):ie("",!0),E.value?(P(),U("div",pm," Loading replies... ")):ie("",!0),g.value&&v.value.length?(P(),U("div",gm,[(P(!0),U(xe,null,ot(v.value,(N,Q)=>(P(),U("div",{class:"reply",key:N.id},[ye(I,{onToggleRawData:S[5]||(S[5]=()=>B(R.event.id)),event:N,currentReadRelays:R.currentReadRelays,pool:R.pool,hasReplyBtn:R.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):ie("",!0)],64)}}});const Ro=Ae(ym,[["__scopeId","data-v-9a01161f"]]),vm={},_m={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},wm=_("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),mm=[wm];function bm(e,t){return P(),U("svg",_m,mm)}const Em=Ae(vm,[["render",bm]]),Os=yn("pool",()=>{const e=K(new Ln);function t(){e.value=new Ln}return{pool:e,resetPool:t}}),Bf=e=>(gt("data-v-4a71c53d"),e=e(),yt(),e),xm={class:"event"},Rm={key:0},Sm={key:1,class:"replies"},km={class:"replies__other-link"},$m=Bf(()=>_("span",{class:"replies__other-text"}," Show more replies ",-1)),Cm={key:1,class:"replies__other"},Am={key:2,class:"replies__other"},Im={class:"replies__other-text"},Pm={key:4},Tm={key:5,class:"replies__list"},Lm={class:"replies__list-item"},Nm=Bf(()=>_("div",{class:"replies__list-item-line-horizontal"},null,-1)),Bm=Be({__name:"ParentEventView",props:{event:{},pubKey:{},index:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},showRootReplies:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const s=Os().pool,r=t,o=e,i=K(!1),a=K(!1),l=K(!1),c=K(!1),u=K(!1),f=K(null),d=K([]);Tt(async()=>{o.showReplies&&await p()});const p=async()=>{const{event:E,currentReadRelays:$}=o;if(!$.length)return;let L=await s.querySync($,{kinds:[1],"#e":[E.id]});if(o.showRootReplies?L=L.filter(F=>{var ee;const J=Ge.parse(F);return!J.reply&&((ee=J==null?void 0:J.root)==null?void 0:ee.id)===E.id}):L=L.filter(F=>{var ee,te;const J=Ge.parse(F);return((ee=J==null?void 0:J.reply)==null?void 0:ee.id)===E.id||((te=J==null?void 0:J.root)==null?void 0:te.id)===E.id}),!L.length)return;u.value=!0,a.value=L.length>1;let B=L[0],C=[B];await zn(E,C,$,s),B=C[0];const j=await s.get($,{kinds:[0],limit:1,authors:[B.pubkey]});j&&(B.author=JSON.parse(j.content)),f.value=B,u.value=!1},v=(E,$=!1)=>{if($)return r("toggleRawData",E)},g=()=>{i.value=!i.value},m=async()=>{const{event:E,currentReadRelays:$}=o;if(!$.length)return;c.value=!0;let L=await s.querySync($,{kinds:[1],"#e":[E.id]});if(E.isRoot?L=kf(E,L):L=$f(E,L),!L.length){c.value=!1;return}const B=L.map(F=>F.pubkey),C=[...new Set(B)],j=await s.querySync($,{kinds:[0],authors:C});L=St(L,j),await zn(E,L,$,s),d.value=L,l.value=!0,c.value=!1},b=async()=>{i.value=!1,l.value?await m():await p()};return(E,$)=>(P(),U("div",xm,[(P(),Le(Ro,{key:E.event.id,onLoadRootReplies:b,onShowReplyField:g,onToggleRawData:$[0]||($[0]=L=>v(L,!0)),onLoadMoreReplies:m,event:E.event,pubKey:E.pubKey,isMainEvent:!0,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","pubKey","currentReadRelays","pool","hasReplyBtn"])),u.value?(P(),U("div",Rm,"Loading replies...")):ie("",!0),E.showReplies&&f.value?(P(),U("div",Sm,[!l.value&&a.value&&!c.value?(P(),U("div",{key:0,onClick:m,class:"replies__other"},[_("span",km,[$m,ye(Em)])])):ie("",!0),c.value?(P(),U("div",Cm," Loading replies... ")):ie("",!0),l.value&&a.value?(P(),U("div",Am,[_("span",Im," Loaded "+ce(d.value.length)+" replies ",1)])):ie("",!0),_("div",{class:Ie(["line-vertical",{"line-vertical_long":a.value,"line-vertical_reply-field":i.value&&!a.value,"line-vertical_reply-field_long":i.value&&a.value}])},null,2),l.value?ie("",!0):(P(),U("div",{key:3,class:Ie(["line-horizontal",{"line-horizontal_height":a.value}])},null,2)),l.value?ie("",!0):(P(),U("div",Pm,[(P(),Le(Ro,{key:f.value.id,event:f.value,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?(P(),U("div",Tm,[(P(!0),U(xe,null,ot(d.value,(L,B)=>(P(),U("div",Lm,[Nm,_("div",{class:Ie(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":B===d.value.length-1}])},null,2),(P(),Le(Ro,{key:L.id,event:L,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):ie("",!0)])):ie("",!0)]))}});const Uf=Ae(Bm,[["__scopeId","data-v-4a71c53d"]]),Um=Be({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(P(),U("div",null,[(P(!0),U(xe,null,ot(r.events,(i,a)=>(P(),Le(Uf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:a,showRootReplies:!0,showReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const Om=Ae(Um,[["__scopeId","data-v-68b94602"]]),Mm={key:0,class:"pagination"},Hm={key:0},Fm={key:1},jm={key:1},Vm={key:4},Dm=Be({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=Ls(),r=o=>({path:s.path,query:{...s.query,page:o}});return At(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=Rs("router-link");return o.pagesCount>1?(P(),U("div",Mm,[Re(" Pages: "),o.pagesCount<5?(P(),U("span",Hm,[(P(!0),U(xe,null,ot(o.pagesCount,l=>(P(),Le(a,{key:l,class:Ie(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:Ye(()=>[Re(ce(l),1)]),_:2},1032,["class","to"]))),128))])):ie("",!0),o.pagesCount>=5?(P(),U("span",Fm,[o.currentPage>=3?(P(),Le(a,{key:1,class:Ie(["pagination__link"]),to:r(1)},{default:Ye(()=>[Re(ce(1))]),_:1},8,["to"])):ie("",!0),o.currentPage>3?(P(),U("span",jm,"...")):ie("",!0),o.currentPage!=1?(P(),Le(a,{key:o.currentPage-1,class:Ie(["pagination__link"]),to:r(o.currentPage-1)},{default:Ye(()=>[Re(ce(o.currentPage-1),1)]),_:1},8,["to"])):ie("",!0),(P(),Le(a,{key:o.currentPage,class:Ie(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Ye(()=>[Re(ce(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(P(),Le(a,{key:o.currentPage+1,class:Ie(["pagination__link"]),to:r(o.currentPage+1)},{default:Ye(()=>[Re(ce(o.currentPage+1),1)]),_:1},8,["to"])):ie("",!0),o.currentPage<o.pagesCount-2?(P(),U("span",Vm,"...")):ie("",!0),o.currentPage<=o.pagesCount-2?(P(),Le(a,{key:o.pagesCount,class:Ie(["pagination__link"]),to:r(o.pagesCount)},{default:Ye(()=>[Re(ce(o.pagesCount),1)]),_:1},8,["to"])):ie("",!0)])):ie("",!0)])):ie("",!0)}}});const Of=Ae(Dm,[["__scopeId","data-v-fa836b0e"]]),qm=e=>(gt("data-v-1382f7cb"),e=e(),yt(),e),Km={class:"log"},zm=qm(()=>_("strong",null,"Relay events log",-1)),Wm={class:"log__list"},Gm={class:"log__list-item"},Jm={key:0},Zm={key:1},Ym=Be({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>(P(),U("div",Km,[zm,_("ul",Wm,[(P(!0),U(xe,null,ot(t.eventsLog,r=>(P(),U("li",Gm,[(P(!0),U(xe,null,ot(r,({type:o,value:i})=>(P(),U(xe,null,[o==="text"?(P(),U("span",Jm,ce(i),1)):(P(),U("b",Zm,ce(i),1))],64))),256))]))),256))])]))}});const Qm=Ae(Ym,[["__scopeId","data-v-1382f7cb"]]),is=yn("feed",()=>{const e=K([]),t=K(!1),n=K([]),s=K(0),r=K([]),o=K([]),i=K(""),a=K(""),l=K("network"),c=Se(()=>l.value==="follows"),u=Se(()=>l.value==="network"),f=K(!1),d=K(!1),p=K(!1);function v(O){e.value=O}function g(O){e.value.push(O)}function m(O){const A=e.value.find(R=>R.id===O);A&&(A.showRawData=!A.showRawData)}function b(O){t.value=O}function E(O){n.value=O}function $(O){s.value=O}function L(O){r.value=O}function B(O){r.value.push(O)}function C(O){o.value=O}function j(O){o.value.push(O)}function F(O){i.value=O}function J(O){a.value=O}function ee(O){f.value=O}function te(O){p.value=O}function fe(O){d.value=O}function oe(O){l.value=O==="follows"?O:"network"}return{events:e,updateEvents:v,toggleEventRawData:m,showNewEventsBadge:t,setShowNewEventsBadge:b,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:E,newEventsBadgeCount:s,setNewEventsBadgeCount:$,newEventsToShow:r,updateNewEventsToShow:L,pushToNewEventsToShow:B,paginationEventsIds:o,updatePaginationEventsIds:C,pushToPaginationEventsIds:j,messageToBroadcast:i,updateMessageToBroadcast:F,signedJson:a,updateSignedJson:J,selectedFeedSource:l,setSelectedFeedSource:oe,isFollowsSource:c,isNetworkSource:u,isLoadingFeedSource:f,setLoadingFeedSourceStatus:ee,setLoadingNewEventsStatus:fe,isLoadingNewEvents:d,pushToEvents:g,setLoadingMoreStatus:te,isLoadingMore:p}}),Qi=e=>(gt("data-v-e563eef7"),e=e(),yt(),e),Xm={class:"laod-from"},eb=Qi(()=>_("div",{class:"laod-from__title"}," Load posts from ",-1)),tb={class:"load-from__select-wrapper"},nb=Qi(()=>_("option",{value:"network"},"network",-1)),sb=Qi(()=>_("option",{value:"follows"},"follows",-1)),rb=[nb,sb],ob={key:0,class:"notice"},ib=Be({__name:"LoadFromFeedSelect",setup(e){const t=_n(),n=is(),s=Se(()=>n.selectedFeedSource==="follows"&&!t.isNsecValidTemp);return(r,o)=>(P(),U(xe,null,[_("div",Xm,[eb,_("div",tb,[An(_("select",{"onUpdate:modelValue":o[0]||(o[0]=i=>le(n).selectedFeedSource=i),class:"load-from__select",name:"feed-source",id:"feed-source-select"},rb,512),[[wp,le(n).selectedFeedSource]])])]),s.value?(P(),U("div",ob," Please log in to load posts from people you follow. ")):ie("",!0)],64))}});const ab=Ae(ib,[["__scopeId","data-v-e563eef7"]]),$l=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],bn=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],Pn=20,lb=e=>(gt("data-v-1dfc7855"),e=e(),yt(),e),cb={id:"feed"},ub={class:"columns"},fb={key:0,class:"connecting-notice"},db={key:1,class:"connecting-notice"},hb={key:0,class:"new-events__imgs"},pb=["src"],gb=["src"],yb={class:"new-events__text"},vb=lb(()=>_("b",{class:"new-events__arrow"},"",-1)),_b={key:3,class:"loading-more"},wb=Be({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents","handleRelayConnect"],setup(e,{emit:t}){const n=On(),s=Yr(),r=is(),o=_n(),a=Os().pool,l=t,c=Se(()=>r.newEventsBadgeImageUrls[0]),u=Se(()=>r.newEventsBadgeImageUrls[1]),f=K(1),d=Se(()=>Math.ceil(r.paginationEventsIds.length/Pn)),p=Ls(),v=Se(()=>p.path);At(()=>p.path,async()=>{f.value>1&&g(1)}),At(()=>r.selectedFeedSource,async b=>{n.currentRelay.connected&&o.isValidNsecPresented()&&await l("handleRelayConnect",!0,!0)}),Tt(()=>{d.value>1&&g(1)});const g=async b=>{if(r.isLoadingNewEvents)return;r.setLoadingNewEventsStatus(!0);const E=n.connectedFeedRelaysUrls;if(!E.length)return;const $=Pn,L=(b-1)*$,B=L+$,j=r.paginationEventsIds.slice().reverse().slice(L,B),F=await a.querySync(E,{ids:j}),J=Array.from(new Set([...F.map(oe=>oe.pubkey)])),te=(await Promise.all([Promise.all(J.map(async oe=>a.get(E,{kinds:[0],authors:[oe]}))),an(F,E,a)]))[0];let fe=St(F,te);fe=fe.sort((oe,O)=>O.created_at-oe.created_at),r.updateEvents(fe),r.setLoadingNewEventsStatus(!1),f.value=b},m=async()=>{await l("loadNewRelayEvents"),f.value=1};return(b,E)=>(P(),U("div",cb,[ye(ab),_("div",ub,[_("div",{class:Ie(["events",{events_hidden:v.value==="/log"}])},[le(r).isLoadingFeedSource?(P(),U("div",fb," Loading feed from "+ce(le(r).selectedFeedSource)+"... ",1)):ie("",!0),le(r).isLoadingNewEvents?(P(),U("div",db," Loading new notes... ")):ie("",!0),le(r).showNewEventsBadge?(P(),U("div",{key:2,onClick:m,class:Ie(["new-events",{"new-events_top-shifted":le(r).isLoadingNewEvents}])},[le(s).showImages?(P(),U("div",hb,[_("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,pb),_("img",{class:"new-events__img",src:u.value,alt:"user's avatar"},null,8,gb)])):ie("",!0),_("span",yb,ce(le(r).newEventsBadgeCount)+" new notes",1),vb],2)):ie("",!0),ye(Om,{events:le(r).events,pubKey:le(o).getPubkey(),showImages:le(s).showImages,currentReadRelays:le(n).connectedFeedRelaysUrls,onToggleRawData:le(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),le(r).isLoadingMore?(P(),U("div",_b," Loading more posts... ")):ie("",!0),ye(Of,{pagesCount:d.value,currentPage:f.value,onShowPage:g},null,8,["pagesCount","currentPage"])],2),_("div",{class:Ie(["log-wrapper",{"log-wrapper_hidden":v.value!=="/log"}])},[ye(Qm,{eventsLog:b.eventsLog},null,8,["eventsLog"])],2)])]))}});const So=Ae(wb,[["__scopeId","data-v-1dfc7855"]]),mb=e=>(gt("data-v-7bdb886c"),e=e(),yt(),e),bb={class:"message-fields-wrapper"},Eb={class:"message-fields"},xb={class:"message-fields__field"},Rb=mb(()=>_("label",{for:"message"},[_("strong",null,"Message to broadcast")],-1)),Sb={class:"field-elements"},kb=["value"],$b={class:"send-btn-wrapper"},Cb=["disabled"],Ab={class:"error"},Ib={class:"notice"},Pb=Be({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=_n(),o=is(),i=K(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key or generate random key.";return}const u=o.messageToBroadcast.trim();if(!u.length){i.value="Please provide message to broadcast.";return}let f,d;try{if(f=r.getPrivkeyBytes(),!f)throw new Error;if(d=r.getPubkey(),!d.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const p={kind:1,pubkey:d,created_at:Math.floor(Date.now()/1e3),content:u,tags:[],id:"",sig:""},v=vt(p,f);if(n.sentEventIds.has(v.id)){i.value="The same event can't be sent twice (same id, signature).";return}i.value="",s("broadcastEvent",v,"text")},l=c=>{var u;o.updateMessageToBroadcast((u=c==null?void 0:c.target)==null?void 0:u.value)};return(c,u)=>(P(),U("div",bb,[_("div",Eb,[_("div",xb,[Rb,_("div",Sb,[_("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:le(o).messageToBroadcast,onInput:l,placeholder:"Test message "},null,40,kb)]),_("div",$b,[_("button",{disabled:c.isSendingMessage,class:"send-btn",onClick:a},ce(c.isSendingMessage?"Broadcasting...":"Broadcast"),9,Cb)])])]),_("div",Ab,ce(i.value),1),_("div",Ib,ce(c.broadcastNotice),1)]))}});const Cl=Ae(Pb,[["__scopeId","data-v-7bdb886c"]]),Qr=e=>(gt("data-v-efc02ad6"),e=e(),yt(),e),Tb={class:"message-fields-wrapper"},Lb={class:"signed-message-desc"},Nb=Qr(()=>_("p",{class:"signed-message-desc_p"},[Re(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),Re(". ")],-1)),Bb={class:"signed-message-desc_p"},Ub=Qr(()=>_("br",null,null,-1)),Ob={key:0,class:"additional-relays"},Mb={class:"additional-relay-field"},Hb=Qr(()=>_("span",null,"1.",-1)),Fb=["value"],jb={class:"additional-relay-field"},Vb=["onInput"],Db={class:"message-fields__field_sig"},qb=Qr(()=>_("label",{class:"message-fields__label",for:"signed_json"},[_("strong",null,"JSON of a signed event")],-1)),Kb={class:"field-elements"},zb={class:"signed-json-btn-wrapper"},Wb={class:"error"},Gb=["disabled"],Jb=Be({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=On(),r=is(),o=K(""),i=()=>{if(!r.signedJson.length){o.value="Provide signed event.";return}let u;try{u=JSON.parse(r.signedJson)}catch{o.value="Invalid JSON. Please check it and try again.";return}const f=s.currentRelay;if(!(f!=null&&f.connected)){o.value="Please connect to relay first.";return}o.value="",n("broadcastEvent",u,"json")},a=()=>{const u=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(u)},l=u=>{var f;r.updateSignedJson((f=u==null?void 0:u.target)==null?void 0:f.value)},c=(u,f)=>{var p;const d=(p=u==null?void 0:u.target)==null?void 0:p.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(f,d)};return(u,f)=>{var d,p;return P(),U("div",Tb,[_("div",Lb,[Nb,_("p",Bb,[Re(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),Ub,_("button",{class:"additional-relay-btn",onClick:a}," Add relay "),le(s).additionalRelaysCountForSignedEvent>0?(P(),U("div",Ob,[_("div",Mb,[Hb,_("input",{readonly:"",value:(d=le(s).currentRelay)!=null&&d.url?`${(p=le(s).currentRelay)==null?void 0:p.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,Fb)]),(P(!0),U(xe,null,ot(le(s).additionalRelaysCountForSignedEvent,v=>(P(),U("div",null,[_("div",jb,[_("span",null,ce(v+1)+".",1),_("input",{onInput:g=>c(g,v),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Vb)])]))),256))])):ie("",!0)])]),_("div",Db,[qb,_("div",Kb,[_("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:l,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},ce(le(r).signedJson),33)])]),_("div",zb,[_("div",Wb,ce(o.value)+" "+ce(u.broadcastError),1),_("button",{disabled:u.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:i},ce(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,Gb)])])}}});const Zb=Ae(Jb,[["__scopeId","data-v-efc02ad6"]]),Yb=xi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),Qb=xi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),Xb=xi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),Al=Be({__name:"Help",props:{showPrivacy:{}},setup(e){const t=Ls(),n=K(null);return Tt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),mi(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(P(),U(xe,null,[Yb,_("p",null,[_("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),Qb]),Xb],64))}}),Et=ss({value:1,update(e){this.value=e}}),eE=yn("user-notes",()=>{const e=K([]),t=K([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Xr=e=>(gt("data-v-59817eec"),e=e(),yt(),e),tE={class:"event"},nE={key:0,class:"event__content"},sE=Xr(()=>_("hr",null,null,-1)),rE={class:"event__code-block"},oE={class:"event__code-title"},iE=Xr(()=>_("b",null,"Author: ",-1)),aE={class:"content-col_code"},lE={class:"event__code"},cE={class:"event__code-block"},uE={class:"event__code-title"},fE=Xr(()=>_("b",null,"Event id: ",-1)),dE={class:"content-col_code"},hE={class:"event__code"},pE=Xr(()=>_("div",{class:"header-col"},[_("b",null,"Created: ")],-1)),gE={class:"content-col_code"},yE={class:"event__code"},vE={class:"event-footer__signature-text"},_E=Be({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=K(!1),s=K(!1),r=K(!1),o=K(""),i=K(""),a=K(""),l=K(0),c=K(!1);Jd(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,a.value=f.pubkey,l.value=f.created_at}),Tt(()=>{Object.keys(t.event).length!==0&&(c.value=Un(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>(P(),U("div",tE,[n.value?ie("",!0):(P(),U("div",nE,[ih(f.$slots,"default",{},()=>[Re("No content for event")],!0),sE,_("div",rE,[_("div",oE,[iE,_("button",{class:"event__code-btn",onClick:d[0]||(d[0]=p=>r.value=!r.value)},ce(r.value?"npub":"hex"),1)]),_("div",aE,[_("code",lE,ce(r.value?a.value:le(Ve).npubEncode(a.value)),1)])]),_("div",cE,[_("div",uE,[fE,_("button",{class:"event__code-btn",onClick:d[1]||(d[1]=p=>s.value=!s.value)},ce(s.value?"nevent":"hex"),1)]),_("div",dE,[_("code",hE,ce(s.value?o.value:le(Ve).neventEncode({id:o.value})),1)])]),_("div",null,[pE,_("div",gE,[_("code",yE,ce(le(Tf)(l.value)),1)])])])),n.value?(P(),Le(Ef,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):ie("",!0),_("div",{class:Ie(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(P(),U("div",{key:0,class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(P(),Le(Lf,{key:0})):ie("",!0),c.value?ie("",!0):(P(),Le(Nf,{key:1})),_("span",vE,ce(c.value?"Signature is valid":"Invalid signature"),1)],2)):ie("",!0),_("div",null,[_("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const wE=Ae(_E,[["__scopeId","data-v-59817eec"]]),mE={},bE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},EE=_("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),xE=_("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),RE=[EE,xE];function SE(e,t){return P(),U("svg",bE,RE)}const kE=Ae(mE,[["render",SE]]),eo=e=>(gt("data-v-2dff21be"),e=e(),yt(),e),$E={class:"field"},CE={class:"field-label",for:"user_public_key"},AE=eo(()=>_("strong",null,"Profile's public key or event id",-1)),IE={class:"field-elements"},PE={class:"error"},TE={key:0,class:"loading-notice"},LE={class:"user"},NE={key:0,class:"user__avatar-wrapper"},BE=["src"],UE={class:"user__info"},OE={class:"user__nickname"},ME={class:"user__name"},HE={class:"user__desc"},FE={key:0,class:"user__nip05"},jE=["href"],VE=eo(()=>_("strong",null,"nip05",-1)),DE={key:1,class:"user__contacts"},qE={class:"user__contacts-col user__following-cnt"},KE={class:"user__contacts-col user__followers-cnt"},zE={key:0},WE={key:1,class:"user__contacts-download-icon"},GE=eo(()=>_("span",{class:"user__contacts-followers-word"}," Followers ",-1)),JE={key:2},ZE={key:3,id:"user-posts"},YE={key:0},QE={key:1},XE={key:5,class:"not-found"},e2=eo(()=>_("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),t2=Be({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Os().pool,s=Zr(),r=eE(),o=Yi(),i=Yr(),a=_n(),l=On(),c=e,u=K({}),f=K({}),d=K(!1),p=K(!1),v=K(""),g=K(!1),m=K(""),b=K(!1),E=K(""),$=K(!1),L=K(!1),B=K(!1),C=K(!1),j=K(!0),F=K(1),J=Se(()=>Math.ceil(r.allNotesIds.length/Pn)),ee=Br(),te=Ls(),fe=Y=>{const[Z,x]=Y.split("@");return`https://${x}/.well-known/nostr.json?name=${Z}`},oe=K([]);Tt(()=>{var Y,Z;if((Z=(Y=te.params)==null?void 0:Y.id)!=null&&Z.length&&!l.currentRelay.connected){s.updateNpubInput(te.params.id),s.updateCachedUrl(te.params.id),l.currentRelay.connected||(B.value=!0);return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),S();return}}),At(()=>te.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),S())}),At(()=>te.redirectedFrom,()=>{s.updateNpubInput(te.params.id),s.updateCachedUrl(te.params.id),R()}),vc(()=>{r.notes.length&&S()});const O=()=>{E.value="",g.value=!1},A=async Y=>{const Z=l.connectedUserReadRelayUrlsWithSelectedRelay;if(!Z.length)return;const x=Pn,H=(Y-1)*x,M=H+x,G=r.allNotesIds.slice(H,M),ue=await n.querySync(Z,{ids:G});let de=I(ue,f.value);await an(de,Z,n),r.updateNotes(de),F.value=Y},R=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},S=async()=>{Et.update(Et.value+1);const Y=Et.value,Z=s.npubInput.trim();let x=!1;if(!Z.length){v.value="Public key or event id is required.";return}if(Rl(Z))m.value=Z,x=!0;else try{let{data:de,type:h}=Ve.decode(Z);if(h!=="npub"&&h!=="note"){v.value="Public key or event id should be in npub or note format, or hex.";return}C.value=h==="note",m.value=de.toString()}catch{v.value="Public key or event id is invalid. Please check it and try again.";return}B.value&&await c.handleRelayConnect();const H=l.connectedUserReadRelayUrlsWithSelectedRelay;if(Y!==Et.value)return;if(!H.length){v.value=B.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}B.value=!1,R(),p.value=!1,v.value="",b.value=!0;let M=[];if(C.value||x){const de=m.value;if(M=await n.querySync(H,{ids:[de]}),Y!==Et.value)return;M.length&&(r.updateIds(M.map(h=>h.id)),m.value=M[0].pubkey,C.value=!0)}const G=await n.get(H,{kinds:[0],limit:1,authors:[m.value]});if(Y!==Et.value)return;if(!G){b.value=!1,g.value=!0;return}oe.value=H;const ue=await n.get(H,{kinds:[3],limit:1,authors:[m.value]});if(Y===Et.value){if(u.value=G,f.value=JSON.parse(G.content),f.value.followingCount=(ue==null?void 0:ue.tags.length)||0,d.value=!1,b.value=!1,g.value=!1,C.value?ee.push({path:`/event/${Z}`}):ee.push({path:`/user/${Z}`}),s.updateCachedUrl(Z),L.value=!0,N(Y),!C.value){if(M=await n.querySync(H,{kinds:[1],authors:[m.value]}),Y!==Et.value)return;const de=new Set;M.forEach(y=>{const w=Ge.parse(y);(w.reply||w.root)&&de.add(y.id)}),M=M.filter(y=>!de.has(y.id)),r.updateIds(M.map(y=>y.id));const h=Pn;F.value=1,M=M.slice(0,h)}if(M=I(M,f.value),C.value){const de=M[0],h=Ge.parse(de),y=h.reply||h.root;if(y){j.value=!1;let w=await n.get(oe.value,{kinds:[1],ids:[y.id]});if(w){const k=await n.get(oe.value,{kinds:[0],authors:[w.pubkey]});k&&(w.author=JSON.parse(k.content))}await zn(w,M,oe.value,n)}else await an(M,H,n)}else await an(M,H,n);Y===Et.value&&(r.updateNotes(M),L.value=!1)}},I=(Y,Z)=>Y.map(x=>(x.author=Z,x)),N=async(Y=0)=>{const Z=f.value.nip05,x=u.value.pubkey;if(!(!Z||!x))try{const H=await Q(Z,x);if(Y&&Y!==Et.value)return;d.value=H}catch{console.log("Failed to check nip05")}},Q=async(Y,Z)=>{const x=await of.queryProfile(Y);return Z===(x==null?void 0:x.pubkey)},ne=()=>{if(!a.nsec.trim().length){v.value="Please provide private key first.";return}try{const Z=a.getPubkey();if(!Z.length)throw new Error;s.updateNpubInput(Ve.npubEncode(Z)),v.value=""}catch{v.value="Private key is invalid. Please check it and try again.";return}},z=async()=>{const Y=s.npubInput.trim();let Z=!1;if(!Y.length){E.value="Public key or event id is required.";return}if(Rl(Y))m.value=Y,Z=!0;else try{let{data:G,type:ue}=Ve.decode(Y);if(ue!=="npub"&&ue!=="note"){E.value="Public key or event id should be in npub or note format, or hex.";return}C.value=ue==="note",m.value=G.toString()}catch{E.value="Public key or event id is invalid. Please check it and try again.";return}$.value=!0,r.updateIds([]);let x=[];if(C.value||Z){const G=m.value;x=await n.querySync(bn,{ids:[G]}),x.length&&(m.value=x[0].pubkey,C.value=!0)}const H=await n.get(bn,{kinds:[0],limit:1,authors:[m.value]});if(!H){$.value=!1,E.value="User was not found on listed relays.";return}oe.value=bn;const M=await n.get(bn,{kinds:[3],limit:1,authors:[m.value]});if(u.value=H,f.value=JSON.parse(H.content),f.value.followingCount=(M==null?void 0:M.tags.length)||0,E.value="",$.value=!1,g.value=!1,p.value=!0,d.value=!1,C.value?ee.push({path:`/event/${Y}`}):ee.push({path:`/user/${Y}`}),s.updateCachedUrl(Y),L.value=!0,N(),!C.value){x=await n.querySync(bn,{kinds:[1],authors:[m.value]});const G=new Set;x.forEach(ue=>{const de=Ge.parse(ue);(de.reply||de.root)&&G.add(ue.id)}),x=x.filter(ue=>!G.has(ue.id))}x=I(x,f.value),await an(x,bn,n),r.updateNotes(x),L.value=!1},pe=async()=>{f.value.followersCount=0;const Y=n.subscribeMany(oe.value,[{"#p":[m.value],kinds:[3]}],{onevent(Z){f.value.followersCount=f.value.followersCount+1},oneose(){Y.close()}})},he=Y=>{r.toggleRawData(Y)};return(Y,Z)=>(P(),U(xe,null,[_("div",$E,[_("label",CE,[AE,le(a).nsec.length?(P(),U("button",{key:0,onClick:ne,class:"random-key-btn"},"Use mine")):ie("",!0)]),_("div",IE,[An(_("input",{onInput:O,"onUpdate:modelValue":Z[0]||(Z[0]=x=>le(s).npubInput=x),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[ks,le(s).npubInput]]),_("button",{onClick:S,class:"get-user-btn"},ce(B.value?"Connect & Search":"Search"),1)]),_("div",PE,ce(v.value),1)]),b.value?(P(),U("div",TE," Loading event info... ")):ie("",!0),u.value.id?(P(),Le(wE,{author:f.value,event:u.value,key:u.value.id},{default:Ye(()=>[_("div",LE,[le(i).showImages?(P(),U("div",NE,[_("img",{class:"user__avatar",src:f.value.picture},null,8,BE)])):ie("",!0),_("div",UE,[_("div",null,[_("div",OE,ce(f.value.username||f.value.name),1),_("div",ME,ce(f.value.display_name||""),1),_("div",HE,ce(f.value.about||""),1),d.value?(P(),U("div",FE,[_("a",{target:"_blank",href:fe(f.value.nip05)},[VE,Re(": "+ce(f.value.nip05),1)],8,jE)])):ie("",!0),f.value.followingCount>=0?(P(),U("div",DE,[_("span",qE,[_("b",null,ce(f.value.followingCount),1),Re(" Following ")]),_("span",KE,[f.value.followersCount?(P(),U("b",zE,ce(f.value.followersCount),1)):(P(),U("span",WE,[ye(kE,{onClick:pe})])),GE])])):ie("",!0)])])])]),_:1},8,["author","event"])):ie("",!0),L.value?(P(),U("div",JE,"Loading notes...")):ie("",!0),le(r).notes.length>0&&!L.value?(P(),U("h3",ZE,[C.value?(P(),U("span",YE,"Event info")):(P(),U("span",QE,"User notes"))])):ie("",!0),(P(!0),U(xe,null,ot(le(r).notes,(x,H)=>(P(),Le(Uf,{key:x.id,hasReplyBtn:!0,showReplies:!0,showRootReplies:j.value,currentReadRelays:oe.value,index:H,onToggleRawData:he,event:x},null,8,["showRootReplies","currentReadRelays","index","event"]))),128)),!L.value&&!b.value?(P(),Le(Of,{key:4,pagesCount:J.value,currentPage:F.value,onShowPage:A},null,8,["pagesCount","currentPage"])):ie("",!0),g.value?(P(),U("div",XE,[e2,_("div",null,[_("button",{onClick:z,class:"fallback-search-btn"}," Search in all listed relays "),_("div",{class:Ie(["not-found__status",{error:E.value.length}])},ce(E.value)+" "+ce($.value?"Searching...":""),3),_("ul",null,[(P(!0),U(xe,null,ot(le(bn),x=>(P(),U("li",null,ce(x),1))),256))])])])):ie("",!0)],64))}});const Il=Ae(t2,[["__scopeId","data-v-2dff21be"]]),n2={},s2={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},r2=_("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),o2=_("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),i2=[r2,o2];function a2(e,t){return P(),U("svg",s2,i2)}const l2=Ae(n2,[["render",a2]]),c2={class:"show-images"},u2={class:"show-images__field"},f2=["checked"],d2=_("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),h2=Be({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=Rs("router-link");return P(),U("div",c2,[_("span",u2,[_("input",{onChange:o[0]||(o[0]=a=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,f2),d2]),_("small",null,[Re(" ("),ye(i,{to:{path:"/help",hash:"#privacy"}},{default:Ye(()=>[Re("Exposes your IP")]),_:1}),Re(")")])])}}});const Lt=e=>(gt("data-v-d5b9796a"),e=e(),yt(),e),p2=Lt(()=>_("h4",null,"Images:",-1)),g2={class:"show-images"},y2=Lt(()=>_("h4",null,"Your relays:",-1)),v2={class:"error"},_2={class:"relays"},w2={class:"relay"},m2={class:"actions"},b2=["onChange","id","name","checked"],E2=["for"],x2=Lt(()=>_("span",{class:"actions__delimiter"}," | ",-1)),R2=["onClick"],S2=Lt(()=>_("span",{class:"actions__remove-label"},"remove",-1)),k2={key:0},$2={key:0},C2={key:1},A2=Lt(()=>_("h4",null,"Add relay:",-1)),I2={class:"add-relay"},P2={class:"error"},T2=Lt(()=>_("h4",null,"Your Keys:",-1)),L2={class:"keys"},N2={class:"key-block"},B2=Lt(()=>_("div",null," Public key: ",-1)),U2=Lt(()=>_("div",{class:"key-block__desc"},[_("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),O2={key:0,class:"key-block__code"},M2={key:1},H2={class:"key-block"},F2=Lt(()=>_("div",null," Private key: ",-1)),j2=Lt(()=>_("div",{class:"key-block__desc"},[_("small",null,[Re(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),_("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),V2={key:0,class:"key-block__code"},D2={key:1},ko="Updating relays error. Please reload the page and try again or write us about the issue.",q2=Be({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Os(),s=_n(),r=Yr(),o=n.pool,i=On(),a=K(""),l=K(""),c=K(""),u=$=>{if(c.value="",!(s.nsec?s.nsec.trim():"").length){c.value="Please provide your private key.";return}let B,C;try{if(B=s.getPrivkeyBytes(),!B)throw new Error;if(C=s.getPubkey(),!C.length)throw new Error}catch{c.value="Invalid private key. Please check it and try again.";return}const j={kind:10002,pubkey:C,created_at:Math.floor(Date.now()/1e3),content:"",tags:$};return vt(j,B)},f=async($,L)=>{c.value="",$.target.checked?i.addWriteRelay(L):i.removeWriteRelay(L);const C=i.nip65Tags,j=u(C);if(j)return await o.publish(i.allRelaysUrlsWithSelectedRelay,j);c.value.length||(c.value=ko)},d=async $=>{c.value="",i.removeUserRelay($),t.handleRelayConnect(!0);const L=i.nip65Tags,B=u(L);if(B)return await o.publish(i.allRelaysUrlsWithSelectedRelay,B);c.value.length||(c.value=ko)},p=async()=>{let $="";c.value="",l.value="";try{$=In.normalizeURL(a.value)}catch{l.value="Invalid relay url.";return}i.addUserRelay($),t.handleRelayConnect(!0),a.value="";const L=i.nip65Tags,B=u(L);if(B)return await o.publish(i.allRelaysUrlsWithSelectedRelay,B);c.value.length||(c.value=ko)},v=()=>{r.updateShowImages(!r.showImages)},g=()=>{if(!s.isValidNsecPresented())return;const $=s.getPubkey();navigator.clipboard.writeText(Ve.npubEncode($))},m=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPubkey())},b=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkey())},E=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkeyHex())};return($,L)=>(P(),U(xe,null,[p2,_("div",g2,[ye(h2,{showImages:le(r).showImages,onToggleImages:v},null,8,["showImages"])]),y2,_("div",v2,ce(c.value),1),_("ul",_2,[(P(!0),U(xe,null,ot(le(i).userReadWriteRelays,(B,C)=>(P(),U("li",w2,[Re(ce(B.url)+" ",1),_("div",m2,[_("input",{onChange:j=>f(j,B.url),class:"actions__checkbox",type:"checkbox",id:`write-${C}`,name:`write-${C}`,checked:B.type==="write"},null,40,b2),_("label",{class:"actions__label",for:`write-${C}`}," publish to relay",8,E2),x2,_("span",{onClick:()=>d(B.url),class:"actions__remove"},[ye(l2,{class:"trash-icon"}),S2],8,R2)])]))),256))]),le(i).userReadWriteRelays.length?ie("",!0):(P(),U("div",k2,[le(i).isConnectedToRelay?(P(),U("span",$2,[Re(" The private key was not provided or the list with your relays was not found on "),_("b",null,ce(le(i).currentRelay.url),1)])):(P(),U("span",C2," Please connect to a relay to see the list of your relays. "))])),A2,_("div",I2,[An(_("input",{"onUpdate:modelValue":L[0]||(L[0]=B=>a.value=B),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[ks,a.value]]),_("button",{onClick:p,class:"add-relay__btn"},"Add")]),_("div",P2,ce(l.value),1),T2,_("div",L2,[_("div",N2,[B2,U2,_("div",null,[Re("  "),le(s).isValidNsecPresented()?(P(),U("code",O2,ce(le(Ve).npubEncode(le(s).getPubkey())),1)):(P(),U("span",M2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:g}," Copy pubkey "),_("button",{onClick:m}," Copy hex ")])]),_("div",H2,[F2,j2,_("div",null,[Re("  "),le(s).isValidNsecPresented()?(P(),U("code",V2," *************************************************************** ")):(P(),U("span",D2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:b}," Copy privkey "),_("button",{onClick:E}," Copy hex ")])])])],64))}});const K2=Ae(q2,[["__scopeId","data-v-d5b9796a"]]),z2=[{path:"/feed",name:"Feed",components:{default:So,messageInput:Cl}},{path:"/message",name:"Message",components:{default:So,signedEventInput:Zb}},{path:"/log",name:"Log",components:{default:So,messageInput:Cl}},{path:"/user",name:"User",component:Il,alias:["/event"]},{path:"/user/:id",component:Il,alias:["/event/:id"]},{path:"/help",name:"Help",component:Al},{path:"/",component:Al,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:K2}],W2=Ug({history:Qp(),routes:z2}),Ms=e=>(gt("data-v-d1398494"),e=e(),yt(),e),G2={class:"relay-fields"},J2={class:"relay-fields__wrapper"},Z2={class:"relay-fields__relay"},Y2={class:"relay-fields__select-field"},Q2=Ms(()=>_("label",{class:"field-label_priv-key",for:"relays"},[_("strong",null,"Select relay")],-1)),X2={class:"field-elements"},ex=["value"],tx=Ms(()=>_("option",{value:"custom"},"custom url",-1)),nx={class:"message-fields__field"},sx=Ms(()=>_("label",{for:"priv_key"},[_("strong",null,"Private key (optional)")],-1)),rx={class:"field-elements"},ox={class:"remember-me"},ix=Ms(()=>_("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),ax={class:"error"},lx={key:0,class:"field"},cx=Ms(()=>_("label",{for:"relay_url"},[_("strong",null,"Relay URL")],-1)),ux={class:"field-elements"},fx=Be({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=On(),o=is(),i=_n(),a=K(!1),l=K(!1),c=Se(()=>r.currentRelay.connected?r.selectInputRelayUrl!==r.currentRelay.url:!0);r.setSelectedRelay($l[0]);const u=b=>{const E=b.target.value;l.value=E==="custom",r.setSelectedRelay(E)};Tt(()=>{i.isValidNsecPresented()&&(a.value=!0)});const f=b=>{if(!i.isNsecValid()){a.value=!1;return}a.value=!0,i.rememberMe&&localStorage.setItem("privkey",i.nsec),r.isConnectedToRelay&&(i.cachedNsec!==i.nsec||o.selectedFeedSource==="follows")&&s("relayConnect")},d=()=>{const b=k0();i.updateNsec(Ve.nsecEncode(b)),a.value=!0},p=()=>{i.updateNsec(""),localStorage.removeItem("privkey"),a.value=!1,r.isConnectedToRelay&&r.userReadWriteRelays.length&&(o.setSelectedFeedSource("network"),s("relayDisconnect"),s("relayConnect"))},v=()=>{i.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",i.nsec)):localStorage.clear()},g=()=>{s("relayConnect")},m=()=>{s("relayDisconnect")};return(b,E)=>(P(),U(xe,null,[_("p",G2,[_("div",J2,[_("div",Z2,[_("div",Y2,[Q2,_("div",X2,[_("select",{class:"select-relay__select",onChange:u,name:"relays",id:"relays"},[(P(!0),U(xe,null,ot(le($l),$=>(P(),U("option",{value:$},ce($),9,ex))),256)),tx],32),c.value?(P(),U("button",{key:0,onClick:g,class:"select-relay__btn"},ce(le(r).isConnectingToRelay?"Connecting...":"Connect"),1)):(P(),U("button",{key:1,onClick:m,class:"select-relay__btn"}," Disconnect "))])])]),_("div",nx,[sx,_("div",rx,[An(_("input",{onInput:f,"onUpdate:modelValue":E[0]||(E[0]=$=>le(i).nsec=$),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[ks,le(i).nsec]]),a.value?ie("",!0):(P(),U("button",{key:0,onClick:d,class:"random-key-btn"},"Random")),a.value?(P(),U("button",{key:1,onClick:p,class:"random-key-btn"},"Logout")):ie("",!0)]),_("div",ox,[An(_("input",{onChange:v,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":E[1]||(E[1]=$=>le(i).rememberMe=$)},null,544),[[_p,le(i).rememberMe]]),ix])])]),_("div",ax,ce(n.wsError),1)]),l.value?(P(),U("div",lx,[cx,_("div",ux,[An(_("input",{"onUpdate:modelValue":E[2]||(E[2]=$=>le(r).selectInputCustomRelayUrl=$),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[ks,le(r).selectInputCustomRelayUrl]])])])):ie("",!0)],64))}});const dx=Ae(fx,[["__scopeId","data-v-d1398494"]]),hx={class:"tabs"},px=Be({__name:"App",setup(e){const t=Br(),n=Ls(),s=Zr(),r=_n(),o=On(),i=is(),l=Os().pool;let c,u;const f=localStorage.getItem("rememberMe")==="true";r.setRememberMe(f);const d=f?localStorage.getItem("privkey"):"";r.updateNsec(d||"");const p=new Set,v=new Set;let g=K([]),m=K(0),b=K(""),E=K("");const $=K([]),L=K(""),B=K(""),C=K(""),j=K(!1),F=Se(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),J=S=>{$.value.unshift(S)},ee=async()=>{var Y,Z;const S=o.connectedFeedRelaysUrls;if(!S.length)return;const I=i.newEventsToShow;if(I.length<2)return;const N=I[I.length-1].pubkey,Q=I[I.length-2].pubkey,ne={kinds:[0],authors:[N],limit:1},z={kinds:[0],authors:[Q],limit:1},pe=await l.querySync(S,ne),he=await l.querySync(S,z);u&&(!((Y=pe[0])!=null&&Y.content)||!((Z=he[0])!=null&&Z.content)||(b.value=JSON.parse(pe[0].content).picture,E.value=JSON.parse(he[0].content).picture,i.setNewEventsBadgeImageUrls([b.value,E.value]),m.value=I.length,i.setNewEventsBadgeCount(I.length),i.setShowNewEventsBadge(!0)))},te=S=>new Promise(I=>setTimeout(I,S)),fe=(S,I,N)=>new Promise(Q=>{const ne=[];let z,pe=N;if(N&&N.length&&N[0].limit){let{limit:Z,...x}=N[0];pe=[x],z=Z}let he=!1;const Y=S.subscribeMany(I,pe,{onevent(Z){if(he)return;const x=Ge.parse(Z);x.reply||x.root||(ne.push(Z),z&&ne.length>=z&&(Y.close(),he=!0,Q(ne.slice(0,z))))},oneose(){Y.close();const Z=z?ne.slice(0,z):ne;Q(Z)}})});async function oe(S=!1,I=!1){var h,y;if(o.isConnectingToRelay)return;let N=o.selectInputRelayUrl;if(N==="custom"){const w=o.selectInputCustomRelayUrl;N=w.length?In.normalizeURL(w):""}if(!N.length)return;if(r.isNotValidNsecPresented()){L.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!S&&o.currentRelay.connected&&(o.currentRelay.close(),J([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),c&&c.close(),u&&(clearInterval(u),u=0),S||(o.setReedRelays([]),o.setWriteRelays([]));let Q;if(!S){try{o.setConnectionToRelayStatus(!0),i.setLoadingFeedSourceStatus(!0);try{Q=await si.connect(N)}catch{await te(500),Q=await si.connect(N)}L.value=""}catch{let k=`WebSocket connection to "${N}" failed. You can try again. `;navigator.onLine?k+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":k+="Or check your internet connection.",L.value=k,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(Q),J([{type:"text",value:"connected to "},{type:"bold",value:Q.url}]),r.isNotValidNsecPresented()&&(L.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const w=r.getPubkey(),T=await hw(Q,[{kinds:[10002],limit:1,authors:[w]}],3e3);if(T&&T.tags.length){const{read:W,write:X}=If(T);o.setReedRelays(W),o.setWriteRelays(X)}}}i.setShowNewEventsBadge(!1),g.value=[],i.updateNewEventsToShow([]),(I||S)&&i.setLoadingFeedSourceStatus(!0);const ne=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async k=>{const T=await Ws(k);return{url:k,connected:T}}))).forEach(k=>{if(S&&!o.reedRelays.includes(k.url)||(k.connected&&ne.push(k.url),(Q==null?void 0:Q.url)===k.url))return;const T=k.connected?"connected to ":"failed to connect to ";J([{type:"text",value:T},{type:"bold",value:k.url}])});let z=ne.length?ne:[N];const pe=r.getPubkey(),he={};let Y=[];if(i.isFollowsSource&&r.isValidNsecPresented()){const w=await l.get(z,{kinds:[3],limit:1,authors:[pe]});if(w&&w.tags.length){Y=w.tags.map(D=>D[1]);const k=await l.querySync(z,{kinds:[10002],authors:Y}),T=new Set;k.forEach(D=>{D.tags.forEach(V=>{if(V[0]!=="r")return;const se=In.normalizeURL(V[1]);z.includes(se)||T.add(se)})});const W=await Promise.all(Array.from(T).map(async D=>{const V=await Ws(D,1e3);return{url:D,connected:V}})),X=W.some(D=>D.connected);J(X?[{type:"text",value:"Connected to follows relays"}]:[{type:"text",value:"Failed to connect to follows relays"}]);const q=W.filter(D=>D.connected).map(D=>D.url);k.forEach(D=>{const V=[];D.tags.forEach(se=>{if(se[0]!=="r")return;const re=In.normalizeURL(se[1]);(q.includes(re)||z.includes(re))&&V.push(re)}),he[D.pubkey]=V}),z=[...new Set([...z,...q])]}}let Z={kinds:[1],limit:Pn};Y=Y.filter(w=>w!==pe),Y.length&&(Z.authors=Y),o.setConnectedUserReadRelayUrls(ne),o.setConnectedFeedRelayUrls(z);const H=(await fe(l,z,[Z])).sort((w,k)=>k.created_at-w.created_at),M=[],G=[],ue={};for(const w of H){const k=w.pubkey,T=i.isFollowsSource&&((h=he[k])!=null&&h.length)?he[k]:z;let W=i.isFollowsSource&&((y=he[k])==null?void 0:y.length)&&T.includes(xl),X=null,q=null;const D=lw(w);!W&&!D.includes(k)&&D.push(k),W&&!G.includes(k)&&(G.push(k),q=l.get([xl],{kinds:[0],authors:[k]}));const V=[];D.forEach(ae=>{G.includes(ae)||(G.push(ae),V.push(ae))}),V.length&&(X=l.querySync(T,{kinds:[0],authors:V}));const se=l.querySync(T,{kinds:[1,6,7],"#e":[w.id]}),re=Promise.all([w,X,se,q]);M.push(re)}p.clear(),i.updatePaginationEventsIds([]),i.updateEvents([]);for(const w of M){const k=await w,T=k[0],W=k[1]||[],X=k[2]||[];let q=k[3];const D=[],V=[];q&&(ue[q.pubkey]=q,D.push(q),V.push(q.pubkey)),uw(W).forEach(re=>{const ae=re;ue[re.pubkey]=re,D.push(ae),V.push(ae.pubkey),re.pubkey===T.pubkey&&(q=re)}),G.forEach(re=>{if(V.includes(re))return;ue.hasOwnProperty(re)||(ue[re]=null);const ae=ue[re];D.push(ae),re===T.pubkey&&(q=ae)}),cw(T,D),St([T],[q]),sw(T,X),i.pushToEvents(T),i.isLoadingFeedSource&&(i.setLoadingFeedSourceStatus(!1),i.setLoadingMoreStatus(!0))}i.setLoadingMoreStatus(!1),H.forEach(w=>{p.add(w.id),i.pushToPaginationEventsIds(w.id)}),o.setConnectionToRelayStatus(!1);let de={kinds:[1],limit:1};Y.length&&(de.authors=Y),c=l.subscribeMany(z,[de],{onevent(w){if(p.has(w.id))return;const k=Ge.parse(w);k.reply||k.root||(g.value.push({id:w.id,pubkey:w.pubkey}),i.pushToNewEventsToShow({id:w.id,pubkey:w.pubkey}))}}),u=setInterval(ee,3e3)}const O=async()=>{if(i.isLoadingNewEvents)return;i.setLoadingNewEventsStatus(!0);const S=o.connectedFeedRelaysUrls;if(!S.length)return;t.push({path:`${n.path}`});let I=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(x=>!I.includes(x)));const N=I.map(x=>x.id),Q=Pn;i.updatePaginationEventsIds(i.paginationEventsIds.concat(N));const ne=i.paginationEventsIds.slice(-Q),z=await l.querySync(S,{ids:ne}),pe=Array.from(new Set([...z.map(x=>x.pubkey)])),Y=(await Promise.all([Promise.all(pe.map(async x=>l.get(S,{kinds:[0],authors:[x]}))),an(z,S,l)]))[0];let Z=St(z,Y);Z.forEach(x=>p.add(x.id)),Z=Z.sort((x,H)=>H.created_at-x.created_at),i.updateEvents(Z),i.setShowNewEventsBadge(!1),i.setLoadingNewEventsStatus(!1),J([{type:"text",value:`loaded ${I.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedFeedRelaysPrettyStr}])},A=async(S,I)=>{let N=o.writeRelays;if(I==="json"){const Y=o.additionalRelaysUrlsForSignedEvent;let Z=[];if(Y.length){let x="Can't connect to these relays: ",H=!1;for(const G of Y)if(G!=null&&G.length){if(!await Ws(G)){H=!0,x+=`${G}, `;continue}Z.push(G)}const M=o.currentRelay.url;if(await Ws(M)||(H=!0,x+=`${M}`),H){x+=". Relays are unavailable or you are offline.",B.value=x,j.value=!1;return}}N=[o.currentRelay.url,...Z],N=[...new Set(N)]}if(j.value)return;j.value=!0;const Q=o.connectedUserReadRelayUrls;let ne=null;if(Q.length){const Y=[{kinds:[1],ids:[S.id],limit:1}];ne=l.subscribeMany(Q,Y,{async onevent(Z){const x=setInterval(async()=>{g.value.some(H=>H.id==Z.id)&&(clearInterval(x),await O(),ne==null||ne.close())},100)}})}const z=await Pf(N,l,S);z.forEach(Y=>{Y.success?J([{type:"text",value:" new event broadcasted to "},{type:"bold",value:Y.relay}]):J([{type:"text",value:" failed to publish to "},{type:"bold",value:Y.relay}])}),z.every(Y=>Y.success===!1)&&I==="json"&&Q.length&&(ne==null||ne.close()),z.some(Y=>Y.success===!1)||(I==="text"&&i.updateMessageToBroadcast(""),I==="json"&&i.updateSignedJson("")),j.value=!1},R=()=>{if(!o.isConnectedToRelay)return;clearInterval(u),i.setShowNewEventsBadge(!1),g.value=[],i.updateNewEventsToShow([]);const S=o.currentRelay;S.close(),c==null||c.close(),o.setConnectedUserReadRelayUrls([]),o.setConnectedFeedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),J([{type:"text",value:"disconnected from "},{type:"bold",value:S.url}])};return(S,I)=>{const N=Rs("router-link"),Q=Rs("router-view");return P(),U(xe,null,[ye(dx,{onRelayConnect:oe,onRelayDisconnect:R,wsError:L.value},null,8,["wsError"]),_("div",hx,[ye(N,{class:"tab-link",to:"/feed"},{default:Ye(()=>[Re("Feed")]),_:1}),ye(N,{class:"tab-link",to:F.value},{default:Ye(()=>[Re("User")]),_:1},8,["to"]),ye(N,{class:"tab-link",to:"/message"},{default:Ye(()=>[Re("Message")]),_:1}),ye(N,{class:"tab-link",to:"/help"},{default:Ye(()=>[Re("Help")]),_:1}),ye(N,{class:"tab-link",to:"/log"},{default:Ye(()=>[Re("Log")]),_:1}),ye(N,{class:"tab-link",to:"/settings"},{default:Ye(()=>[Re("Settings")]),_:1})]),ye(Q,{name:"messageInput",onBroadcastEvent:A,isSendingMessage:j.value,sentEventIds:le(v),broadcastNotice:C.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),ye(Q,{name:"signedEventInput",onBroadcastEvent:A,isSendingMessage:j.value,broadcastError:B.value},null,8,["isSendingMessage","broadcastError"]),ye(Q,{onLoadNewRelayEvents:O,onHandleRelayConnect:oe,handleRelayConnect:oe,eventsLog:$.value},null,8,["eventsLog"])],64)}}});const gx=Ae(px,[["__scopeId","data-v-03a20ad6"]]),yx=Rp(gx),vx=Cp();yx.use(W2).use(vx).mount("#app");
//# sourceMappingURL=main.js.map
