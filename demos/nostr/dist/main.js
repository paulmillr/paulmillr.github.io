var hf=Object.defineProperty;var pf=(e,t,n)=>t in e?hf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>(pf(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qo(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Ae={},Vn=[],ot=()=>{},gf=()=>!1,dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Xo=e=>e.startsWith("onUpdate:"),We=Object.assign,ei=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},yf=Object.prototype.hasOwnProperty,be=(e,t)=>yf.call(e,t),pe=Array.isArray,Fn=e=>Cs(e)==="[object Map]",hr=e=>Cs(e)==="[object Set]",Gi=e=>Cs(e)==="[object Date]",_e=e=>typeof e=="function",He=e=>typeof e=="string",cn=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",_l=e=>(Ie(e)||_e(e))&&_e(e.then)&&_e(e.catch),wl=Object.prototype.toString,Cs=e=>wl.call(e),vf=e=>Cs(e).slice(8,-1),ml=e=>Cs(e)==="[object Object]",ti=e=>He(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fs=Qo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_f=/-(\w)/g,$t=pr(e=>e.replace(_f,(t,n)=>n?n.toUpperCase():"")),wf=/\B([A-Z])/g,ts=pr(e=>e.replace(wf,"-$1").toLowerCase()),gr=pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zr=pr(e=>e?`on${gr(e)}`:""),un=(e,t)=>!Object.is(e,t),Ks=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ys=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},bo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ji;const bl=()=>Ji||(Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ni(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=He(s)?xf(s):ni(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(He(e)||Ie(e))return e}const mf=/;(?![^(]*\))/g,bf=/:([^]+)/,Ef=/\/\*[^]*?\*\//g;function xf(e){const t={};return e.replace(Ef,"").split(mf).forEach(n=>{if(n){const s=n.split(bf);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Pe(e){let t="";if(He(e))t=e;else if(pe(e))for(let n=0;n<e.length;n++){const s=Pe(e[n]);s&&(t+=s+" ")}else if(Ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kf=Qo(Rf);function El(e){return!!e||e===""}function Sf(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=yr(e[s],t[s]);return n}function yr(e,t){if(e===t)return!0;let n=Gi(e),s=Gi(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=cn(e),s=cn(t),n||s)return e===t;if(n=pe(e),s=pe(t),n||s)return n&&s?Sf(e,t):!1;if(n=Ie(e),s=Ie(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!yr(e[i],t[i]))return!1}}return String(e)===String(t)}function xl(e,t){return e.findIndex(n=>yr(n,t))}const oe=e=>He(e)?e:e==null?"":pe(e)||Ie(e)&&(e.toString===wl||!_e(e.toString))?JSON.stringify(e,Rl,2):String(e),Rl=(e,t)=>t&&t.__v_isRef?Rl(e,t.value):Fn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Yr(s,o)+" =>"]=r,n),{})}:hr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Yr(n))}:cn(t)?Yr(t):Ie(t)&&!pe(t)&&!ml(t)?String(t):t,Yr=(e,t="")=>{var n;return cn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class kl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Sl(e){return new kl(e)}function $f(e,t=rt){t&&t.active&&t.effects.push(e)}function $l(){return rt}function Cf(e){rt&&rt.cleanups.push(e)}let kn;class si{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,$f(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,An();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(If(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Pn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=rn,n=kn;try{return rn=!0,kn=this,this._runnings++,Zi(this),this.fn()}finally{Yi(this),this._runnings--,kn=n,rn=t}}stop(){var t;this.active&&(Zi(this),Yi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function If(e){return e.value}function Zi(e){e._trackId++,e._depsLength=0}function Yi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Cl(e.deps[t],e);e.deps.length=e._depsLength}}function Cl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let rn=!0,Eo=0;const Il=[];function An(){Il.push(rn),rn=!1}function Pn(){const e=Il.pop();rn=e===void 0?!0:e}function ri(){Eo++}function oi(){for(Eo--;!Eo&&xo.length;)xo.shift()()}function Al(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Cl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const xo=[];function Pl(e,t,n){ri();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&xo.push(s.scheduler)))}oi()}const Tl=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Qs=new WeakMap,Sn=Symbol(""),Ro=Symbol("");function nt(e,t,n){if(rn&&kn){let s=Qs.get(e);s||Qs.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Tl(()=>s.delete(n))),Al(kn,r)}}function Ht(e,t,n,s,r,o){const i=Qs.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&pe(e)){const l=Number(s);i.forEach((c,u)=>{(u==="length"||!cn(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":pe(e)?ti(n)&&a.push(i.get("length")):(a.push(i.get(Sn)),Fn(e)&&a.push(i.get(Ro)));break;case"delete":pe(e)||(a.push(i.get(Sn)),Fn(e)&&a.push(i.get(Ro)));break;case"set":Fn(e)&&a.push(i.get(Sn));break}ri();for(const l of a)l&&Pl(l,4);oi()}function Af(e,t){var n;return(n=Qs.get(e))==null?void 0:n.get(t)}const Pf=Qo("__proto__,__v_isRef,__isVue"),Bl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(cn)),Qi=Tf();function Tf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=Ee(this);for(let o=0,i=this.length;o<i;o++)nt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(Ee)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){An(),ri();const s=Ee(this)[t].apply(this,n);return oi(),Pn(),s}}),e}function Bf(e){const t=Ee(this);return nt(t,"has",e),t.hasOwnProperty(e)}class Nl{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?zf:Ml:o?Ol:Ul).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=pe(t);if(!r){if(i&&be(Qi,n))return Reflect.get(Qi,n,s);if(n==="hasOwnProperty")return Bf}const a=Reflect.get(t,n,s);return(cn(n)?Bl.has(n):Pf(n))||(r||nt(t,"get",n),o)?a:Ve(a)?i&&ti(n)?a:a.value:Ie(a)?r?Vl(a):ns(a):a}}class Ll extends Nl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const l=Wn(o);if(!Xs(s)&&!Wn(s)&&(o=Ee(o),s=Ee(s)),!pe(t)&&Ve(o)&&!Ve(s))return l?!1:(o.value=s,!0)}const i=pe(t)&&ti(n)?Number(n)<t.length:be(t,n),a=Reflect.set(t,n,s,r);return t===Ee(r)&&(i?un(s,o)&&Ht(t,"set",n,s):Ht(t,"add",n,s)),a}deleteProperty(t,n){const s=be(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ht(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!cn(n)||!Bl.has(n))&&nt(t,"has",n),s}ownKeys(t){return nt(t,"iterate",pe(t)?"length":Sn),Reflect.ownKeys(t)}}class Nf extends Nl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Lf=new Ll,Uf=new Nf,Of=new Ll(!0),ii=e=>e,vr=e=>Reflect.getPrototypeOf(e);function Os(e,t,n=!1,s=!1){e=e.__v_raw;const r=Ee(e),o=Ee(t);n||(un(t,o)&&nt(r,"get",t),nt(r,"get",o));const{has:i}=vr(r),a=s?ii:n?ci:ws;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Ms(e,t=!1){const n=this.__v_raw,s=Ee(n),r=Ee(e);return t||(un(e,r)&&nt(s,"has",e),nt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Hs(e,t=!1){return e=e.__v_raw,!t&&nt(Ee(e),"iterate",Sn),Reflect.get(e,"size",e)}function Xi(e){e=Ee(e);const t=Ee(this);return vr(t).has.call(t,e)||(t.add(e),Ht(t,"add",e,e)),this}function ea(e,t){t=Ee(t);const n=Ee(this),{has:s,get:r}=vr(n);let o=s.call(n,e);o||(e=Ee(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?un(t,i)&&Ht(n,"set",e,t):Ht(n,"add",e,t),this}function ta(e){const t=Ee(this),{has:n,get:s}=vr(t);let r=n.call(t,e);r||(e=Ee(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ht(t,"delete",e,void 0),o}function na(){const e=Ee(this),t=e.size!==0,n=e.clear();return t&&Ht(e,"clear",void 0,void 0),n}function Vs(e,t){return function(s,r){const o=this,i=o.__v_raw,a=Ee(i),l=t?ii:e?ci:ws;return!e&&nt(a,"iterate",Sn),i.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function Fs(e,t,n){return function(...s){const r=this.__v_raw,o=Ee(r),i=Fn(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),u=n?ii:t?ci:ws;return!t&&nt(o,"iterate",l?Ro:Sn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function zt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Mf(){const e={get(o){return Os(this,o)},get size(){return Hs(this)},has:Ms,add:Xi,set:ea,delete:ta,clear:na,forEach:Vs(!1,!1)},t={get(o){return Os(this,o,!1,!0)},get size(){return Hs(this)},has:Ms,add:Xi,set:ea,delete:ta,clear:na,forEach:Vs(!1,!0)},n={get(o){return Os(this,o,!0)},get size(){return Hs(this,!0)},has(o){return Ms.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!1)},s={get(o){return Os(this,o,!0,!0)},get size(){return Hs(this,!0)},has(o){return Ms.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Fs(o,!1,!1),n[o]=Fs(o,!0,!1),t[o]=Fs(o,!1,!0),s[o]=Fs(o,!0,!0)}),[e,n,t,s]}const[Hf,Vf,Ff,jf]=Mf();function ai(e,t){const n=t?e?jf:Ff:e?Vf:Hf;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(be(n,r)&&r in s?n:s,r,o)}const Df={get:ai(!1,!1)},qf={get:ai(!1,!0)},Kf={get:ai(!0,!1)},Ul=new WeakMap,Ol=new WeakMap,Ml=new WeakMap,zf=new WeakMap;function Wf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gf(e){return e.__v_skip||!Object.isExtensible(e)?0:Wf(vf(e))}function ns(e){return Wn(e)?e:li(e,!1,Lf,Df,Ul)}function Hl(e){return li(e,!1,Of,qf,Ol)}function Vl(e){return li(e,!0,Uf,Kf,Ml)}function li(e,t,n,s,r){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=Gf(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function on(e){return Wn(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Wn(e){return!!(e&&e.__v_isReadonly)}function Xs(e){return!!(e&&e.__v_isShallow)}function Fl(e){return on(e)||Wn(e)}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function _r(e){return Object.isExtensible(e)&&Ys(e,"__v_skip",!0),e}const ws=e=>Ie(e)?ns(e):e,ci=e=>Ie(e)?Vl(e):e;class jl{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new si(()=>t(this._value),()=>zs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=Ee(this);return(!t._cacheable||t.effect.dirty)&&un(t._value,t._value=t.effect.run())&&zs(t,4),Dl(t),t.effect._dirtyLevel>=2&&zs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Jf(e,t,n=!1){let s,r;const o=_e(e);return o?(s=e,r=ot):(s=e.get,r=e.set),new jl(s,r,o||!r,n)}function Dl(e){var t;rn&&kn&&(e=Ee(e),Al(kn,(t=e.dep)!=null?t:e.dep=Tl(()=>e.dep=void 0,e instanceof jl?e:void 0)))}function zs(e,t=4,n){e=Ee(e);const s=e.dep;s&&Pl(s,t)}function Ve(e){return!!(e&&e.__v_isRef===!0)}function D(e){return ql(e,!1)}function Zf(e){return ql(e,!0)}function ql(e,t){return Ve(e)?e:new Yf(e,t)}class Yf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ee(t),this._value=n?t:ws(t)}get value(){return Dl(this),this._value}set value(t){const n=this.__v_isShallow||Xs(t)||Wn(t);t=n?t:Ee(t),un(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ws(t),zs(this,4))}}function le(e){return Ve(e)?e.value:e}const Qf={get:(e,t,n)=>le(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ve(r)&&!Ve(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Kl(e){return on(e)?e:new Proxy(e,Qf)}function Xf(e){const t=pe(e)?new Array(e.length):{};for(const n in e)t[n]=td(e,n);return t}class ed{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Af(Ee(this._object),this._key)}}function td(e,t,n){const s=e[t];return Ve(s)?s:new ed(e,t,n)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function an(e,t,n,s){try{return s?e(...s):e()}catch(r){wr(r,t,n)}}function ht(e,t,n,s){if(_e(e)){const o=an(e,t,n,s);return o&&_l(o)&&o.catch(i=>{wr(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(ht(e[o],t,n,s));return r}function wr(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){an(l,null,10,[e,i,a]);return}}nd(e,n,r,s)}function nd(e,t,n,s=!0){console.error(e)}let ms=!1,ko=!1;const Je=[];let Rt=0;const jn=[];let Xt=null,mn=0;const zl=Promise.resolve();let ui=null;function fi(e){const t=ui||zl;return e?t.then(this?e.bind(this):e):t}function sd(e){let t=Rt+1,n=Je.length;for(;t<n;){const s=t+n>>>1,r=Je[s],o=bs(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function di(e){(!Je.length||!Je.includes(e,ms&&e.allowRecurse?Rt+1:Rt))&&(e.id==null?Je.push(e):Je.splice(sd(e.id),0,e),Wl())}function Wl(){!ms&&!ko&&(ko=!0,ui=zl.then(Jl))}function rd(e){const t=Je.indexOf(e);t>Rt&&Je.splice(t,1)}function od(e){pe(e)?jn.push(...e):(!Xt||!Xt.includes(e,e.allowRecurse?mn+1:mn))&&jn.push(e),Wl()}function sa(e,t,n=ms?Rt+1:0){for(;n<Je.length;n++){const s=Je[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Je.splice(n,1),n--,s()}}}function Gl(e){if(jn.length){const t=[...new Set(jn)].sort((n,s)=>bs(n)-bs(s));if(jn.length=0,Xt){Xt.push(...t);return}for(Xt=t,mn=0;mn<Xt.length;mn++)Xt[mn]();Xt=null,mn=0}}const bs=e=>e.id==null?1/0:e.id,id=(e,t)=>{const n=bs(e)-bs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Jl(e){ko=!1,ms=!0,Je.sort(id);const t=ot;try{for(Rt=0;Rt<Je.length;Rt++){const n=Je[Rt];n&&n.active!==!1&&an(n,null,14)}}finally{Rt=0,Je.length=0,Gl(),ms=!1,ui=null,(Je.length||jn.length)&&Jl()}}function ad(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ae;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Ae;d&&(r=n.map(p=>He(p)?p.trim():p)),f&&(r=n.map(bo))}let a,l=s[a=Zr(t)]||s[a=Zr($t(t))];!l&&o&&(l=s[a=Zr(ts(t))]),l&&ht(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(c,e,6,r)}}function Zl(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!_e(e)){const l=c=>{const u=Zl(c,t,!0);u&&(a=!0,We(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Ie(e)&&s.set(e,null),null):(pe(o)?o.forEach(l=>i[l]=null):We(i,o),Ie(e)&&s.set(e,i),i)}function mr(e,t){return!e||!dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),be(e,t[0].toLowerCase()+t.slice(1))||be(e,ts(t))||be(e,t))}let Me=null,br=null;function er(e){const t=Me;return Me=e,br=e&&e.type.__scopeId||null,t}function It(e){br=e}function At(){br=null}function Qe(e,t=Me,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&pa(-1);const o=er(t);let i;try{i=e(...r)}finally{er(o),s._d&&pa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function Qr(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:p,ctx:w,inheritAttrs:y}=e;let _,b;const E=er(e);try{if(n.shapeFlag&4){const A=r||s,N=A;_=Et(u.call(N,A,f,o,p,d,w)),b=l}else{const A=t;_=Et(A.length>1?A(o,{attrs:l,slots:a,emit:c}):A(o,null)),b=t.props?l:ld(l)}}catch(A){ps.length=0,wr(A,e,1),_=ve(fn)}let R=_;if(b&&y!==!1){const A=Object.keys(b),{shapeFlag:N}=R;A.length&&N&7&&(i&&A.some(Xo)&&(b=cd(b,i)),R=Gn(R,b))}return n.dirs&&(R=Gn(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),_=R,er(E),_}const ld=e=>{let t;for(const n in e)(n==="class"||n==="style"||dr(n))&&((t||(t={}))[n]=e[n]);return t},cd=(e,t)=>{const n={};for(const s in e)(!Xo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function ud(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?ra(s,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!mr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?ra(s,i,c):!0:!!i;return!1}function ra(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!mr(n,o))return!0}return!1}function fd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Yl="components";function Es(e,t){return hd(Yl,e,!0,t)||e}const dd=Symbol.for("v-ndc");function hd(e,t,n=!0,s=!1){const r=Me||Ke;if(r){const o=r.type;if(e===Yl){const a=ih(o,!1);if(a&&(a===t||a===$t(t)||a===gr($t(t))))return o}const i=oa(r[e]||o[e],t)||oa(r.appContext[e],t);return!i&&s?o:i}}function oa(e,t){return e&&(e[t]||e[$t(t)]||e[gr($t(t))])}const pd=e=>e.__isSuspense;function gd(e,t){t&&t.pendingBranch?pe(e)?t.effects.push(...e):t.effects.push(e):od(e)}const yd=Symbol.for("v-scx"),vd=()=>ct(yd);function _d(e,t){return hi(e,null,t)}const js={};function Vt(e,t,n){return hi(e,t,n)}function hi(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Ae){if(t&&o){const S=t;t=(...F)=>{S(...F),N()}}const l=Ke,c=S=>s===!0?S:xn(S,s===!1?1:void 0);let u,f=!1,d=!1;if(Ve(e)?(u=()=>e.value,f=Xs(e)):on(e)?(u=()=>c(e),f=!0):pe(e)?(d=!0,f=e.some(S=>on(S)||Xs(S)),u=()=>e.map(S=>{if(Ve(S))return S.value;if(on(S))return c(S);if(_e(S))return an(S,l,2)})):_e(e)?t?u=()=>an(e,l,2):u=()=>(p&&p(),ht(e,l,3,[w])):u=ot,t&&s){const S=u;u=()=>xn(S())}let p,w=S=>{p=R.onStop=()=>{an(S,l,4),p=R.onStop=void 0}},y;if(kr)if(w=ot,t?n&&ht(t,l,3,[u(),d?[]:void 0,w]):u(),r==="sync"){const S=vd();y=S.__watcherHandles||(S.__watcherHandles=[])}else return ot;let _=d?new Array(e.length).fill(js):js;const b=()=>{if(!(!R.active||!R.dirty))if(t){const S=R.run();(s||f||(d?S.some((F,M)=>un(F,_[M])):un(S,_)))&&(p&&p(),ht(t,l,3,[S,_===js?void 0:d&&_[0]===js?[]:_,w]),_=S)}else R.run()};b.allowRecurse=!!t;let E;r==="sync"?E=b:r==="post"?E=()=>Xe(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),E=()=>di(b));const R=new si(u,ot,E),A=$l(),N=()=>{R.stop(),A&&ei(A.effects,R)};return t?n?b():_=R.run():r==="post"?Xe(R.run.bind(R),l&&l.suspense):R.run(),y&&y.push(N),N}function wd(e,t,n){const s=this.proxy,r=He(e)?e.includes(".")?Ql(s,e):()=>s[e]:e.bind(s,s);let o;_e(t)?o=t:(o=t.handler,n=t);const i=Is(this),a=hi(r,o.bind(s),n);return i(),a}function Ql(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function xn(e,t,n=0,s){if(!Ie(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Ve(e))xn(e.value,t,n,s);else if(pe(e))for(let r=0;r<e.length;r++)xn(e[r],t,n,s);else if(hr(e)||Fn(e))e.forEach(r=>{xn(r,t,n,s)});else if(ml(e))for(const r in e)xn(e[r],t,n,s);return e}function Dn(e,t){if(Me===null)return e;const n=Sr(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Ae]=t[r];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&xn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function gn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(An(),ht(l,n,8,[e.el,a,e,t]),Pn())}}/*! #__NO_SIDE_EFFECTS__ */function Oe(e,t){return _e(e)?(()=>We({name:e.name},t,{setup:e}))():e}const ds=e=>!!e.type.__asyncLoader,Xl=e=>e.type.__isKeepAlive;function md(e,t){ec(e,"a",t)}function bd(e,t){ec(e,"da",t)}function ec(e,t,n=Ke){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Er(t,s,n),n){let r=n.parent;for(;r&&r.parent;)Xl(r.parent.vnode)&&Ed(s,t,n,r),r=r.parent}}function Ed(e,t,n,s){const r=Er(t,e,s,!0);nc(()=>{ei(s[t],r)},n)}function Er(e,t,n=Ke,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;An();const a=Is(n),l=ht(t,n,e,i);return a(),Pn(),l});return s?r.unshift(o):r.push(o),o}}const jt=e=>(t,n=Ke)=>(!kr||e==="sp")&&Er(e,(...s)=>t(...s),n),tc=jt("bm"),Pt=jt("m"),pi=jt("bu"),xd=jt("u"),Rd=jt("bum"),nc=jt("um"),kd=jt("sp"),Sd=jt("rtg"),$d=jt("rtc");function Cd(e,t=Ke){Er("ec",e,t)}function it(e,t,n,s){let r;const o=n&&n[s];if(pe(e)||He(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Ie(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o&&o[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];r[a]=t(e[c],c,a,o&&o[a])}}else r=[];return n&&(n[s]=r),r}function Id(e,t,n={},s,r){if(Me.isCE||Me.parent&&ds(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),ve("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),$();const i=o&&sc(o(n)),a=Ne(Re,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function sc(e){return e.some(t=>nr(t)?!(t.type===fn||t.type===Re&&!sc(t.children)):!0)?e:null}const So=e=>e?gc(e)?Sr(e)||e.proxy:So(e.parent):null,hs=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>So(e.parent),$root:e=>So(e.root),$emit:e=>e.emit,$options:e=>gi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,di(e.update)}),$nextTick:e=>e.n||(e.n=fi.bind(e.proxy)),$watch:e=>wd.bind(e)}),Xr=(e,t)=>e!==Ae&&!e.__isScriptSetup&&be(e,t),Ad={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=i[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(Xr(s,t))return i[t]=1,s[t];if(r!==Ae&&be(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&be(c,t))return i[t]=3,o[t];if(n!==Ae&&be(n,t))return i[t]=4,n[t];$o&&(i[t]=0)}}const u=hs[t];let f,d;if(u)return t==="$attrs"&&nt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Ae&&be(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,be(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return Xr(r,t)?(r[t]=n,!0):s!==Ae&&be(s,t)?(s[t]=n,!0):be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Ae&&be(e,i)||Xr(t,i)||(a=o[0])&&be(a,i)||be(s,i)||be(hs,i)||be(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:be(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ia(e){return pe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let $o=!0;function Pd(e){const t=gi(e),n=e.proxy,s=e.ctx;$o=!1,t.beforeCreate&&aa(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:w,activated:y,deactivated:_,beforeDestroy:b,beforeUnmount:E,destroyed:R,unmounted:A,render:N,renderTracked:S,renderTriggered:F,errorCaptured:M,serverPrefetch:q,expose:W,inheritAttrs:L,components:Q,directives:ae,filters:de}=t;if(c&&Td(c,s,null),i)for(const I in i){const C=i[I];_e(C)&&(s[I]=C.bind(n))}if(r){const I=r.call(n,n);Ie(I)&&(e.data=ns(I))}if($o=!0,o)for(const I in o){const C=o[I],B=_e(C)?C.bind(n,n):_e(C.get)?C.get.bind(n,n):ot,J=!_e(C)&&_e(C.set)?C.set.bind(n):ot,X=Te({get:B,set:J});Object.defineProperty(s,I,{enumerable:!0,configurable:!0,get:()=>X.value,set:G=>X.value=G})}if(a)for(const I in a)rc(a[I],s,n,I);if(l){const I=_e(l)?l.call(n):l;Reflect.ownKeys(I).forEach(C=>{Ws(C,I[C])})}u&&aa(u,e,"c");function x(I,C){pe(C)?C.forEach(B=>I(B.bind(n))):C&&I(C.bind(n))}if(x(tc,f),x(Pt,d),x(pi,p),x(xd,w),x(md,y),x(bd,_),x(Cd,M),x($d,S),x(Sd,F),x(Rd,E),x(nc,A),x(kd,q),pe(W))if(W.length){const I=e.exposed||(e.exposed={});W.forEach(C=>{Object.defineProperty(I,C,{get:()=>n[C],set:B=>n[C]=B})})}else e.exposed||(e.exposed={});N&&e.render===ot&&(e.render=N),L!=null&&(e.inheritAttrs=L),Q&&(e.components=Q),ae&&(e.directives=ae)}function Td(e,t,n=ot){pe(e)&&(e=Co(e));for(const s in e){const r=e[s];let o;Ie(r)?"default"in r?o=ct(r.from||s,r.default,!0):o=ct(r.from||s):o=ct(r),Ve(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function aa(e,t,n){ht(pe(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function rc(e,t,n,s){const r=s.includes(".")?Ql(n,s):()=>n[s];if(He(e)){const o=t[e];_e(o)&&Vt(r,o)}else if(_e(e))Vt(r,e.bind(n));else if(Ie(e))if(pe(e))e.forEach(o=>rc(o,t,n,s));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&Vt(r,o,e)}}function gi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>tr(l,c,i,!0)),tr(l,t,i)),Ie(t)&&o.set(t,l),l}function tr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&tr(e,o,n,!0),r&&r.forEach(i=>tr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Bd[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Bd={data:la,props:ca,emits:ca,methods:us,computed:us,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:us,directives:us,watch:Ld,provide:la,inject:Nd};function la(e,t){return t?e?function(){return We(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function Nd(e,t){return us(Co(e),Co(t))}function Co(e){if(pe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?We(Object.create(null),e,t):t}function ca(e,t){return e?pe(e)&&pe(t)?[...new Set([...e,...t])]:We(Object.create(null),ia(e),ia(t??{})):t}function Ld(e,t){if(!e)return t;if(!t)return e;const n=We(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function oc(){return{app:null,config:{isNativeTag:gf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ud=0;function Od(e,t){return function(s,r=null){_e(s)||(s=We({},s)),r!=null&&!Ie(r)&&(r=null);const o=oc(),i=new WeakSet;let a=!1;const l=o.app={_uid:Ud++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:lh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(l,...u)):_e(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const d=ve(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Sr(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=qn;qn=l;try{return c()}finally{qn=u}}};return l}}let qn=null;function Ws(e,t){if(Ke){let n=Ke.provides;const s=Ke.parent&&Ke.parent.provides;s===n&&(n=Ke.provides=Object.create(s)),n[e]=t}}function ct(e,t,n=!1){const s=Ke||Me;if(s||qn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:qn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function Md(){return!!(Ke||Me||qn)}function Hd(e,t,n,s=!1){const r={},o={};Ys(o,Rr,1),e.propsDefaults=Object.create(null),ic(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Hl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Vd(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=Ee(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(mr(e.emitsOptions,d))continue;const p=t[d];if(l)if(be(o,d))p!==o[d]&&(o[d]=p,c=!0);else{const w=$t(d);r[w]=Io(l,a,w,p,e,!1)}else p!==o[d]&&(o[d]=p,c=!0)}}}else{ic(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!be(t,f)&&((u=ts(f))===f||!be(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Io(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!be(t,f))&&(delete o[f],c=!0)}c&&Ht(e,"set","$attrs")}function ic(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(fs(l))continue;const c=t[l];let u;r&&be(r,u=$t(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:mr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=Ee(n),c=a||Ae;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Io(r,l,f,c[f],e,!be(c,f))}}return i}function Io(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=be(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Is(r);s=c[n]=l.call(null,t),u()}}else s=l}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===ts(n))&&(s=!0))}return s}function ac(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!_e(e)){const u=f=>{l=!0;const[d,p]=ac(f,t,!0);We(i,d),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Ie(e)&&s.set(e,Vn),Vn;if(pe(o))for(let u=0;u<o.length;u++){const f=$t(o[u]);ua(f)&&(i[f]=Ae)}else if(o)for(const u in o){const f=$t(u);if(ua(f)){const d=o[u],p=i[f]=pe(d)||_e(d)?{type:d}:We({},d);if(p){const w=ha(Boolean,p.type),y=ha(String,p.type);p[0]=w>-1,p[1]=y<0||w<y,(w>-1||be(p,"default"))&&a.push(f)}}}const c=[i,a];return Ie(e)&&s.set(e,c),c}function ua(e){return e[0]!=="$"&&!fs(e)}function fa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function da(e,t){return fa(e)===fa(t)}function ha(e,t){return pe(t)?t.findIndex(n=>da(n,e)):_e(t)&&da(t,e)?0:-1}const lc=e=>e[0]==="_"||e==="$stable",yi=e=>pe(e)?e.map(Et):[Et(e)],Fd=(e,t,n)=>{if(t._n)return t;const s=Qe((...r)=>yi(t(...r)),n);return s._c=!1,s},cc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(lc(r))continue;const o=e[r];if(_e(o))t[r]=Fd(r,o,s);else if(o!=null){const i=yi(o);t[r]=()=>i}}},uc=(e,t)=>{const n=yi(t);e.slots.default=()=>n},jd=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ee(t),Ys(t,"_",n)):cc(t,e.slots={})}else e.slots={},t&&uc(e,t);Ys(e.slots,Rr,1)},Dd=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Ae;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(We(r,t),!n&&a===1&&delete r._):(o=!t.$stable,cc(t,r)),i=t}else t&&(uc(e,t),i={default:1});if(o)for(const a in r)!lc(a)&&i[a]==null&&delete r[a]};function Ao(e,t,n,s,r=!1){if(pe(e)){e.forEach((d,p)=>Ao(d,t&&(pe(t)?t[p]:t),n,s,r));return}if(ds(s)&&!r)return;const o=s.shapeFlag&4?Sr(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ae?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(He(c)?(u[c]=null,be(f,c)&&(f[c]=null)):Ve(c)&&(c.value=null)),_e(l))an(l,a,12,[i,u]);else{const d=He(l),p=Ve(l);if(d||p){const w=()=>{if(e.f){const y=d?be(f,l)?f[l]:u[l]:l.value;r?pe(y)&&ei(y,o):pe(y)?y.includes(o)||y.push(o):d?(u[l]=[o],be(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else d?(u[l]=i,be(f,l)&&(f[l]=i)):p&&(l.value=i,e.k&&(u[e.k]=i))};i?(w.id=-1,Xe(w,n)):w()}}}const Xe=gd;function qd(e){return Kd(e)}function Kd(e,t){const n=bl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=ot,insertStaticContent:w}=e,y=(h,g,k,U=null,O=null,Y=null,ne=void 0,Z=null,te=!!g.dynamicChildren)=>{if(h===g)return;h&&!is(h,g)&&(U=m(h),G(h,O,Y,!0),h=null),g.patchFlag===-2&&(te=!1,g.dynamicChildren=null);const{type:z,ref:se,shapeFlag:fe}=g;switch(z){case xr:_(h,g,k,U);break;case fn:b(h,g,k,U);break;case Gs:h==null&&E(g,k,U,ne);break;case Re:Q(h,g,k,U,O,Y,ne,Z,te);break;default:fe&1?N(h,g,k,U,O,Y,ne,Z,te):fe&6?ae(h,g,k,U,O,Y,ne,Z,te):(fe&64||fe&128)&&z.process(h,g,k,U,O,Y,ne,Z,te,K)}se!=null&&O&&Ao(se,h&&h.ref,Y,g||h,!g)},_=(h,g,k,U)=>{if(h==null)s(g.el=a(g.children),k,U);else{const O=g.el=h.el;g.children!==h.children&&c(O,g.children)}},b=(h,g,k,U)=>{h==null?s(g.el=l(g.children||""),k,U):g.el=h.el},E=(h,g,k,U)=>{[h.el,h.anchor]=w(h.children,g,k,U,h.el,h.anchor)},R=({el:h,anchor:g},k,U)=>{let O;for(;h&&h!==g;)O=d(h),s(h,k,U),h=O;s(g,k,U)},A=({el:h,anchor:g})=>{let k;for(;h&&h!==g;)k=d(h),r(h),h=k;r(g)},N=(h,g,k,U,O,Y,ne,Z,te)=>{g.type==="svg"?ne="svg":g.type==="math"&&(ne="mathml"),h==null?S(g,k,U,O,Y,ne,Z,te):q(h,g,O,Y,ne,Z,te)},S=(h,g,k,U,O,Y,ne,Z)=>{let te,z;const{props:se,shapeFlag:fe,transition:ce,dirs:ye}=h;if(te=h.el=i(h.type,Y,se&&se.is,se),fe&8?u(te,h.children):fe&16&&M(h.children,te,null,U,O,eo(h,Y),ne,Z),ye&&gn(h,null,U,"created"),F(te,h,h.scopeId,ne,U),se){for(const $e in se)$e!=="value"&&!fs($e)&&o(te,$e,null,se[$e],Y,h.children,U,O,j);"value"in se&&o(te,"value",null,se.value,Y),(z=se.onVnodeBeforeMount)&&vt(z,U,h)}ye&&gn(h,null,U,"beforeMount");const me=zd(O,ce);me&&ce.beforeEnter(te),s(te,g,k),((z=se&&se.onVnodeMounted)||me||ye)&&Xe(()=>{z&&vt(z,U,h),me&&ce.enter(te),ye&&gn(h,null,U,"mounted")},O)},F=(h,g,k,U,O)=>{if(k&&p(h,k),U)for(let Y=0;Y<U.length;Y++)p(h,U[Y]);if(O){let Y=O.subTree;if(g===Y){const ne=O.vnode;F(h,ne,ne.scopeId,ne.slotScopeIds,O.parent)}}},M=(h,g,k,U,O,Y,ne,Z,te=0)=>{for(let z=te;z<h.length;z++){const se=h[z]=Z?en(h[z]):Et(h[z]);y(null,se,g,k,U,O,Y,ne,Z)}},q=(h,g,k,U,O,Y,ne)=>{const Z=g.el=h.el;let{patchFlag:te,dynamicChildren:z,dirs:se}=g;te|=h.patchFlag&16;const fe=h.props||Ae,ce=g.props||Ae;let ye;if(k&&yn(k,!1),(ye=ce.onVnodeBeforeUpdate)&&vt(ye,k,g,h),se&&gn(g,h,k,"beforeUpdate"),k&&yn(k,!0),z?W(h.dynamicChildren,z,Z,k,U,eo(g,O),Y):ne||C(h,g,Z,null,k,U,eo(g,O),Y,!1),te>0){if(te&16)L(Z,g,fe,ce,k,U,O);else if(te&2&&fe.class!==ce.class&&o(Z,"class",null,ce.class,O),te&4&&o(Z,"style",fe.style,ce.style,O),te&8){const me=g.dynamicProps;for(let $e=0;$e<me.length;$e++){const Be=me[$e],Fe=fe[Be],ut=ce[Be];(ut!==Fe||Be==="value")&&o(Z,Be,Fe,ut,O,h.children,k,U,j)}}te&1&&h.children!==g.children&&u(Z,g.children)}else!ne&&z==null&&L(Z,g,fe,ce,k,U,O);((ye=ce.onVnodeUpdated)||se)&&Xe(()=>{ye&&vt(ye,k,g,h),se&&gn(g,h,k,"updated")},U)},W=(h,g,k,U,O,Y,ne)=>{for(let Z=0;Z<g.length;Z++){const te=h[Z],z=g[Z],se=te.el&&(te.type===Re||!is(te,z)||te.shapeFlag&70)?f(te.el):k;y(te,z,se,null,U,O,Y,ne,!0)}},L=(h,g,k,U,O,Y,ne)=>{if(k!==U){if(k!==Ae)for(const Z in k)!fs(Z)&&!(Z in U)&&o(h,Z,k[Z],null,ne,g.children,O,Y,j);for(const Z in U){if(fs(Z))continue;const te=U[Z],z=k[Z];te!==z&&Z!=="value"&&o(h,Z,z,te,ne,g.children,O,Y,j)}"value"in U&&o(h,"value",k.value,U.value,ne)}},Q=(h,g,k,U,O,Y,ne,Z,te)=>{const z=g.el=h?h.el:a(""),se=g.anchor=h?h.anchor:a("");let{patchFlag:fe,dynamicChildren:ce,slotScopeIds:ye}=g;ye&&(Z=Z?Z.concat(ye):ye),h==null?(s(z,k,U),s(se,k,U),M(g.children||[],k,se,O,Y,ne,Z,te)):fe>0&&fe&64&&ce&&h.dynamicChildren?(W(h.dynamicChildren,ce,k,O,Y,ne,Z),(g.key!=null||O&&g===O.subTree)&&fc(h,g,!0)):C(h,g,k,se,O,Y,ne,Z,te)},ae=(h,g,k,U,O,Y,ne,Z,te)=>{g.slotScopeIds=Z,h==null?g.shapeFlag&512?O.ctx.activate(g,k,U,ne,te):de(g,k,U,O,Y,ne,te):H(h,g,te)},de=(h,g,k,U,O,Y,ne)=>{const Z=h.component=th(h,U,O);if(Xl(h)&&(Z.ctx.renderer=K),nh(Z),Z.asyncDep){if(O&&O.registerDep(Z,x),!h.el){const te=Z.subTree=ve(fn);b(null,te,g,k)}}else x(Z,h,g,k,O,Y,ne)},H=(h,g,k)=>{const U=g.component=h.component;if(ud(h,g,k))if(U.asyncDep&&!U.asyncResolved){I(U,g,k);return}else U.next=g,rd(U.update),U.effect.dirty=!0,U.update();else g.el=h.el,U.vnode=g},x=(h,g,k,U,O,Y,ne)=>{const Z=()=>{if(h.isMounted){let{next:se,bu:fe,u:ce,parent:ye,vnode:me}=h;{const Ln=dc(h);if(Ln){se&&(se.el=me.el,I(h,se,ne)),Ln.asyncDep.then(()=>{h.isUnmounted||Z()});return}}let $e=se,Be;yn(h,!1),se?(se.el=me.el,I(h,se,ne)):se=me,fe&&Ks(fe),(Be=se.props&&se.props.onVnodeBeforeUpdate)&&vt(Be,ye,se,me),yn(h,!0);const Fe=Qr(h),ut=h.subTree;h.subTree=Fe,y(ut,Fe,f(ut.el),m(ut),h,O,Y),se.el=Fe.el,$e===null&&fd(h,Fe.el),ce&&Xe(ce,O),(Be=se.props&&se.props.onVnodeUpdated)&&Xe(()=>vt(Be,ye,se,me),O)}else{let se;const{el:fe,props:ce}=g,{bm:ye,m:me,parent:$e}=h,Be=ds(g);if(yn(h,!1),ye&&Ks(ye),!Be&&(se=ce&&ce.onVnodeBeforeMount)&&vt(se,$e,g),yn(h,!0),fe&&he){const Fe=()=>{h.subTree=Qr(h),he(fe,h.subTree,h,O,null)};Be?g.type.__asyncLoader().then(()=>!h.isUnmounted&&Fe()):Fe()}else{const Fe=h.subTree=Qr(h);y(null,Fe,k,U,h,O,Y),g.el=Fe.el}if(me&&Xe(me,O),!Be&&(se=ce&&ce.onVnodeMounted)){const Fe=g;Xe(()=>vt(se,$e,Fe),O)}(g.shapeFlag&256||$e&&ds($e.vnode)&&$e.vnode.shapeFlag&256)&&h.a&&Xe(h.a,O),h.isMounted=!0,g=k=U=null}},te=h.effect=new si(Z,ot,()=>di(z),h.scope),z=h.update=()=>{te.dirty&&te.run()};z.id=h.uid,yn(h,!0),z()},I=(h,g,k)=>{g.component=h;const U=h.vnode.props;h.vnode=g,h.next=null,Vd(h,g.props,U,k),Dd(h,g.children,k),An(),sa(h),Pn()},C=(h,g,k,U,O,Y,ne,Z,te=!1)=>{const z=h&&h.children,se=h?h.shapeFlag:0,fe=g.children,{patchFlag:ce,shapeFlag:ye}=g;if(ce>0){if(ce&128){J(z,fe,k,U,O,Y,ne,Z,te);return}else if(ce&256){B(z,fe,k,U,O,Y,ne,Z,te);return}}ye&8?(se&16&&j(z,O,Y),fe!==z&&u(k,fe)):se&16?ye&16?J(z,fe,k,U,O,Y,ne,Z,te):j(z,O,Y,!0):(se&8&&u(k,""),ye&16&&M(fe,k,U,O,Y,ne,Z,te))},B=(h,g,k,U,O,Y,ne,Z,te)=>{h=h||Vn,g=g||Vn;const z=h.length,se=g.length,fe=Math.min(z,se);let ce;for(ce=0;ce<fe;ce++){const ye=g[ce]=te?en(g[ce]):Et(g[ce]);y(h[ce],ye,k,null,O,Y,ne,Z,te)}z>se?j(h,O,Y,!0,!1,fe):M(g,k,U,O,Y,ne,Z,te,fe)},J=(h,g,k,U,O,Y,ne,Z,te)=>{let z=0;const se=g.length;let fe=h.length-1,ce=se-1;for(;z<=fe&&z<=ce;){const ye=h[z],me=g[z]=te?en(g[z]):Et(g[z]);if(is(ye,me))y(ye,me,k,null,O,Y,ne,Z,te);else break;z++}for(;z<=fe&&z<=ce;){const ye=h[fe],me=g[ce]=te?en(g[ce]):Et(g[ce]);if(is(ye,me))y(ye,me,k,null,O,Y,ne,Z,te);else break;fe--,ce--}if(z>fe){if(z<=ce){const ye=ce+1,me=ye<se?g[ye].el:U;for(;z<=ce;)y(null,g[z]=te?en(g[z]):Et(g[z]),k,me,O,Y,ne,Z,te),z++}}else if(z>ce)for(;z<=fe;)G(h[z],O,Y,!0),z++;else{const ye=z,me=z,$e=new Map;for(z=me;z<=ce;z++){const st=g[z]=te?en(g[z]):Et(g[z]);st.key!=null&&$e.set(st.key,z)}let Be,Fe=0;const ut=ce-me+1;let Ln=!1,Ki=0;const os=new Array(ut);for(z=0;z<ut;z++)os[z]=0;for(z=ye;z<=fe;z++){const st=h[z];if(Fe>=ut){G(st,O,Y,!0);continue}let yt;if(st.key!=null)yt=$e.get(st.key);else for(Be=me;Be<=ce;Be++)if(os[Be-me]===0&&is(st,g[Be])){yt=Be;break}yt===void 0?G(st,O,Y,!0):(os[yt-me]=z+1,yt>=Ki?Ki=yt:Ln=!0,y(st,g[yt],k,null,O,Y,ne,Z,te),Fe++)}const zi=Ln?Wd(os):Vn;for(Be=zi.length-1,z=ut-1;z>=0;z--){const st=me+z,yt=g[st],Wi=st+1<se?g[st+1].el:U;os[z]===0?y(null,yt,k,Wi,O,Y,ne,Z,te):Ln&&(Be<0||z!==zi[Be]?X(yt,k,Wi,2):Be--)}}},X=(h,g,k,U,O=null)=>{const{el:Y,type:ne,transition:Z,children:te,shapeFlag:z}=h;if(z&6){X(h.component.subTree,g,k,U);return}if(z&128){h.suspense.move(g,k,U);return}if(z&64){ne.move(h,g,k,K);return}if(ne===Re){s(Y,g,k);for(let fe=0;fe<te.length;fe++)X(te[fe],g,k,U);s(h.anchor,g,k);return}if(ne===Gs){R(h,g,k);return}if(U!==2&&z&1&&Z)if(U===0)Z.beforeEnter(Y),s(Y,g,k),Xe(()=>Z.enter(Y),O);else{const{leave:fe,delayLeave:ce,afterLeave:ye}=Z,me=()=>s(Y,g,k),$e=()=>{fe(Y,()=>{me(),ye&&ye()})};ce?ce(Y,me,$e):$e()}else s(Y,g,k)},G=(h,g,k,U=!1,O=!1)=>{const{type:Y,props:ne,ref:Z,children:te,dynamicChildren:z,shapeFlag:se,patchFlag:fe,dirs:ce}=h;if(Z!=null&&Ao(Z,null,k,h,!0),se&256){g.ctx.deactivate(h);return}const ye=se&1&&ce,me=!ds(h);let $e;if(me&&($e=ne&&ne.onVnodeBeforeUnmount)&&vt($e,g,h),se&6)ee(h.component,k,U);else{if(se&128){h.suspense.unmount(k,U);return}ye&&gn(h,null,g,"beforeUnmount"),se&64?h.type.remove(h,g,k,O,K,U):z&&(Y!==Re||fe>0&&fe&64)?j(z,g,k,!1,!0):(Y===Re&&fe&384||!O&&se&16)&&j(te,g,k),U&&ge(h)}(me&&($e=ne&&ne.onVnodeUnmounted)||ye)&&Xe(()=>{$e&&vt($e,g,h),ye&&gn(h,null,g,"unmounted")},k)},ge=h=>{const{type:g,el:k,anchor:U,transition:O}=h;if(g===Re){ue(k,U);return}if(g===Gs){A(h);return}const Y=()=>{r(k),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(h.shapeFlag&1&&O&&!O.persisted){const{leave:ne,delayLeave:Z}=O,te=()=>ne(k,Y);Z?Z(h.el,Y,te):te()}else Y()},ue=(h,g)=>{let k;for(;h!==g;)k=d(h),r(h),h=k;r(g)},ee=(h,g,k)=>{const{bum:U,scope:O,update:Y,subTree:ne,um:Z}=h;U&&Ks(U),O.stop(),Y&&(Y.active=!1,G(ne,h,g,k)),Z&&Xe(Z,g),Xe(()=>{h.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},j=(h,g,k,U=!1,O=!1,Y=0)=>{for(let ne=Y;ne<h.length;ne++)G(h[ne],g,k,U,O)},m=h=>h.shapeFlag&6?m(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let T=!1;const P=(h,g,k)=>{h==null?g._vnode&&G(g._vnode,null,null,!0):y(g._vnode||null,h,g,null,null,null,k),T||(T=!0,sa(),Gl(),T=!1),g._vnode=h},K={p:y,um:G,m:X,r:ge,mt:de,mc:M,pc:C,pbc:W,n:m,o:e};let ie,he;return t&&([ie,he]=t(K)),{render:P,hydrate:ie,createApp:Od(P,ie)}}function eo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function zd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function fc(e,t,n=!1){const s=e.children,r=t.children;if(pe(s)&&pe(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=en(r[o]),a.el=i.el),n||fc(i,a)),a.type===xr&&(a.el=i.el)}}function Wd(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function dc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:dc(t)}const Gd=e=>e.__isTeleport,Re=Symbol.for("v-fgt"),xr=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),ps=[];let dt=null;function $(e=!1){ps.push(dt=e?null:[])}function Jd(){ps.pop(),dt=ps[ps.length-1]||null}let xs=1;function pa(e){xs+=e}function hc(e){return e.dynamicChildren=xs>0?dt||Vn:null,Jd(),xs>0&&dt&&dt.push(e),e}function V(e,t,n,s,r,o){return hc(v(e,t,n,s,r,o,!0))}function Ne(e,t,n,s,r){return hc(ve(e,t,n,s,r,!0))}function nr(e){return e?e.__v_isVNode===!0:!1}function is(e,t){return e.type===t.type&&e.key===t.key}const Rr="__vInternal",pc=({key:e})=>e??null,Js=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?He(e)||Ve(e)||_e(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function v(e,t=null,n=null,s=0,r=null,o=e===Re?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&pc(t),ref:t&&Js(t),scopeId:br,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Me};return a?(_i(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=He(n)?8:16),xs>0&&!i&&dt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&dt.push(l),l}const ve=Zd;function Zd(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===dd)&&(e=fn),nr(e)){const a=Gn(e,t,!0);return n&&_i(a,n),xs>0&&!o&&dt&&(a.shapeFlag&6?dt[dt.indexOf(e)]=a:dt.push(a)),a.patchFlag|=-2,a}if(ah(e)&&(e=e.__vccOpts),t){t=Yd(t);let{class:a,style:l}=t;a&&!He(a)&&(t.class=Pe(a)),Ie(l)&&(Fl(l)&&!pe(l)&&(l=We({},l)),t.style=ni(l))}const i=He(e)?1:pd(e)?128:Gd(e)?64:Ie(e)?4:_e(e)?2:0;return v(e,t,n,s,r,i,o,!0)}function Yd(e){return e?Fl(e)||Rr in e?We({},e):e:null}function Gn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?Qd(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&pc(a),ref:t&&t.ref?n&&r?pe(r)?r.concat(Js(t)):[r,Js(t)]:Js(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ke(e=" ",t=0){return ve(xr,null,e,t)}function vi(e,t){const n=ve(Gs,null,e);return n.staticCount=t,n}function re(e="",t=!1){return t?($(),Ne(fn,null,e)):ve(fn,null,e)}function Et(e){return e==null||typeof e=="boolean"?ve(fn):pe(e)?ve(Re,null,e.slice()):typeof e=="object"?en(e):ve(xr,null,String(e))}function en(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function _i(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(pe(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),_i(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Rr in t)?t._ctx=Me:r===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[ke(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qd(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Pe([t.class,s.class]));else if(r==="style")t.style=ni([t.style,s.style]);else if(dr(r)){const o=t[r],i=s[r];i&&o!==i&&!(pe(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function vt(e,t,n,s=null){ht(e,t,7,[n,s])}const Xd=oc();let eh=0;function th(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Xd,o={uid:eh++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ac(s,r),emitsOptions:Zl(s,r),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ad.bind(null,o),e.ce&&e.ce(o),o}let Ke=null,sr,Po;{const e=bl(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};sr=t("__VUE_INSTANCE_SETTERS__",n=>Ke=n),Po=t("__VUE_SSR_SETTERS__",n=>kr=n)}const Is=e=>{const t=Ke;return sr(e),e.scope.on(),()=>{e.scope.off(),sr(t)}},ga=()=>{Ke&&Ke.scope.off(),sr(null)};function gc(e){return e.vnode.shapeFlag&4}let kr=!1;function nh(e,t=!1){t&&Po(t);const{props:n,children:s}=e.vnode,r=gc(e);Hd(e,n,r,t),jd(e,s);const o=r?sh(e,t):void 0;return t&&Po(!1),o}function sh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=_r(new Proxy(e.ctx,Ad));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?oh(e):null,o=Is(e);An();const i=an(s,e,0,[e.props,r]);if(Pn(),o(),_l(i)){if(i.then(ga,ga),t)return i.then(a=>{ya(e,a,t)}).catch(a=>{wr(a,e,0)});e.asyncDep=i}else ya(e,i,t)}else yc(e,t)}function ya(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=Kl(t)),yc(e,n)}let va;function yc(e,t,n){const s=e.type;if(!e.render){if(!t&&va&&!s.render){const r=s.template||gi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=We(We({isCustomElement:o,delimiters:a},i),l);s.render=va(r,c)}}e.render=s.render||ot}{const r=Is(e);An();try{Pd(e)}finally{Pn(),r()}}}function rh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return nt(e,"get","$attrs"),t[n]}}))}function oh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return rh(e)},slots:e.slots,emit:e.emit,expose:t}}function Sr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Kl(_r(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in hs)return hs[n](e)},has(t,n){return n in t||n in hs}}))}function ih(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function ah(e){return _e(e)&&"__vccOpts"in e}const Te=(e,t)=>Jf(e,t,kr);function vc(e,t,n){const s=arguments.length;return s===2?Ie(t)&&!pe(t)?nr(t)?ve(e,null,[t]):ve(e,t):ve(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&nr(n)&&(n=[n]),ve(e,t,n))}const lh="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ch="http://www.w3.org/2000/svg",uh="http://www.w3.org/1998/Math/MathML",tn=typeof document<"u"?document:null,_a=tn&&tn.createElement("template"),fh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?tn.createElementNS(ch,e):t==="mathml"?tn.createElementNS(uh,e):tn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>tn.createTextNode(e),createComment:e=>tn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{_a.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=_a.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},dh=Symbol("_vtc");function hh(e,t,n){const s=e[dh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wa=Symbol("_vod"),ph=Symbol(""),gh=/(^|;)\s*display\s*:/;function yh(e,t,n){const s=e.style,r=He(n),o=s.display;let i=!1;if(n&&!r){if(t&&!He(t))for(const a in t)n[a]==null&&To(s,a,"");for(const a in n)a==="display"&&(i=!0),To(s,a,n[a])}else if(r){if(t!==n){const a=s[ph];a&&(n+=";"+a),s.cssText=n,i=gh.test(n)}}else t&&e.removeAttribute("style");wa in e&&(e[wa]=i?s.display:"",s.display=o)}const ma=/\s*!important$/;function To(e,t,n){if(pe(n))n.forEach(s=>To(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=vh(e,t);ma.test(n)?e.setProperty(ts(s),n.replace(ma,""),"important"):e[s]=n}}const ba=["Webkit","Moz","ms"],to={};function vh(e,t){const n=to[t];if(n)return n;let s=$t(t);if(s!=="filter"&&s in e)return to[t]=s;s=gr(s);for(let r=0;r<ba.length;r++){const o=ba[r]+s;if(o in e)return to[t]=o}return t}const Ea="http://www.w3.org/1999/xlink";function _h(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ea,t.slice(6,t.length)):e.setAttributeNS(Ea,t,n);else{const o=kf(t);n==null||o&&!El(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function wh(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=El(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function bn(e,t,n,s){e.addEventListener(t,n,s)}function mh(e,t,n,s){e.removeEventListener(t,n,s)}const xa=Symbol("_vei");function bh(e,t,n,s,r=null){const o=e[xa]||(e[xa]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=Eh(t);if(s){const c=o[t]=kh(s,r);bn(e,a,c,l)}else i&&(mh(e,a,i,l),o[t]=void 0)}}const Ra=/(?:Once|Passive|Capture)$/;function Eh(e){let t;if(Ra.test(e)){t={};let s;for(;s=e.match(Ra);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ts(e.slice(2)),t]}let no=0;const xh=Promise.resolve(),Rh=()=>no||(xh.then(()=>no=0),no=Date.now());function kh(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ht(Sh(s,n.value),t,5,[s])};return n.value=e,n.attached=Rh(),n}function Sh(e,t){if(pe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const ka=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$h=(e,t,n,s,r,o,i,a,l)=>{const c=r==="svg";t==="class"?hh(e,s,c):t==="style"?yh(e,n,s):dr(t)?Xo(t)||bh(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ch(e,t,s,c))?wh(e,t,s,o,i,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),_h(e,t,s,c))};function Ch(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ka(t)&&_e(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ka(t)&&He(n)?!1:t in e}const rr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pe(t)?n=>Ks(t,n):t};function Ih(e){e.target.composing=!0}function Sa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kn=Symbol("_assign"),Rs={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Kn]=rr(r);const o=s||r.props&&r.props.type==="number";bn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=bo(a)),e[Kn](a)}),n&&bn(e,"change",()=>{e.value=e.value.trim()}),t||(bn(e,"compositionstart",Ih),bn(e,"compositionend",Sa),bn(e,"change",Sa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Kn]=rr(o),e.composing)return;const i=r||e.type==="number"?bo(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},Ah={deep:!0,created(e,t,n){e[Kn]=rr(n),bn(e,"change",()=>{const s=e._modelValue,r=Ph(e),o=e.checked,i=e[Kn];if(pe(s)){const a=xl(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const c=[...s];c.splice(a,1),i(c)}}else if(hr(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(_c(e,o))})},mounted:$a,beforeUpdate(e,t,n){e[Kn]=rr(n),$a(e,t,n)}};function $a(e,{value:t,oldValue:n},s){e._modelValue=t,pe(t)?e.checked=xl(t,s.props.value)>-1:hr(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=yr(t,_c(e,!0)))}function Ph(e){return"_value"in e?e._value:e.value}function _c(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Th=["ctrl","shift","alt","meta"],Bh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Th.some(n=>e[`${n}Key`]&&!t.includes(n))},Bo=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=Bh[t[i]];if(a&&a(r,t))return}return e(r,...o)})},Nh=We({patchProp:$h},fh);let Ca;function Lh(){return Ca||(Ca=qd(Nh))}const Uh=(...e)=>{const t=Lh().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Mh(s);if(!r)return;const o=t._component;!_e(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,Oh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function Oh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mh(e){return He(e)?document.querySelector(e):e}var Hh=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let wc;const $r=e=>wc=e,mc=Symbol();function No(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var gs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(gs||(gs={}));function Vh(){const e=Sl(!0),t=e.run(()=>D({}));let n=[],s=[];const r=_r({install(o){$r(r),r._a=o,o.provide(mc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Hh?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const bc=()=>{};function Ia(e,t,n,s=bc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&$l()&&Cf(r),r}function Un(e,...t){e.slice().forEach(n=>{n(...t)})}const Fh=e=>e();function Lo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];No(r)&&No(s)&&e.hasOwnProperty(n)&&!Ve(s)&&!on(s)?e[n]=Lo(r,s):e[n]=s}return e}const jh=Symbol();function Dh(e){return!No(e)||!e.hasOwnProperty(jh)}const{assign:Qt}=Object;function qh(e){return!!(Ve(e)&&e.effect)}function Kh(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=Xf(n.state.value[e]);return Qt(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=_r(Te(()=>{$r(n);const p=n._s.get(e);return i[d].call(p,p)})),f),{}))}return l=Ec(e,c,t,n,s,!0),l}function Ec(e,t,n={},s,r,o){let i;const a=Qt({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],p;const w=s.state.value[e];!o&&!w&&(s.state.value[e]={}),D({});let y;function _(M){let q;c=u=!1,typeof M=="function"?(M(s.state.value[e]),q={type:gs.patchFunction,storeId:e,events:p}):(Lo(s.state.value[e],M),q={type:gs.patchObject,payload:M,storeId:e,events:p});const W=y=Symbol();fi().then(()=>{y===W&&(c=!0)}),u=!0,Un(f,q,s.state.value[e])}const b=o?function(){const{state:q}=n,W=q?q():{};this.$patch(L=>{Qt(L,W)})}:bc;function E(){i.stop(),f=[],d=[],s._s.delete(e)}function R(M,q){return function(){$r(s);const W=Array.from(arguments),L=[],Q=[];function ae(x){L.push(x)}function de(x){Q.push(x)}Un(d,{args:W,name:M,store:N,after:ae,onError:de});let H;try{H=q.apply(this&&this.$id===e?this:N,W)}catch(x){throw Un(Q,x),x}return H instanceof Promise?H.then(x=>(Un(L,x),x)).catch(x=>(Un(Q,x),Promise.reject(x))):(Un(L,H),H)}}const A={_p:s,$id:e,$onAction:Ia.bind(null,d),$patch:_,$reset:b,$subscribe(M,q={}){const W=Ia(f,M,q.detached,()=>L()),L=i.run(()=>Vt(()=>s.state.value[e],Q=>{(q.flush==="sync"?u:c)&&M({storeId:e,type:gs.direct,events:p},Q)},Qt({},l,q)));return W},$dispose:E},N=ns(A);s._s.set(e,N);const F=(s._a&&s._a.runWithContext||Fh)(()=>s._e.run(()=>(i=Sl()).run(t)));for(const M in F){const q=F[M];if(Ve(q)&&!qh(q)||on(q))o||(w&&Dh(q)&&(Ve(q)?q.value=w[M]:Lo(q,w[M])),s.state.value[e][M]=q);else if(typeof q=="function"){const W=R(M,q);F[M]=W,a.actions[M]=q}}return Qt(N,F),Qt(Ee(N),F),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:M=>{_(q=>{Qt(q,M)})}}),s._p.forEach(M=>{Qt(N,i.run(()=>M({store:N,app:s._a,pinia:s,options:a})))}),w&&o&&n.hydrate&&n.hydrate(N.$state,w),c=!0,u=!0,N}function hn(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=Md();return a=a||(c?ct(mc,null):null),a&&$r(a),a=wc,a._s.has(s)||(o?Ec(s,t,r,a):Kh(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const On=typeof window<"u";function zh(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function so(e,t){const n={};for(const s in t){const r=t[s];n[s]=pt(r)?r.map(e):e(r)}return n}const ys=()=>{},pt=Array.isArray,Wh=/\/$/,Gh=e=>e.replace(Wh,"");function ro(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=Qh(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Jh(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Aa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Zh(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Jn(t.matched[s],n.matched[r])&&xc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Jn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function xc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Yh(e[n],t[n]))return!1;return!0}function Yh(e,t){return pt(e)?Pa(e,t):pt(t)?Pa(t,e):e===t}function Pa(e,t){return pt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Qh(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var ks;(function(e){e.pop="pop",e.push="push"})(ks||(ks={}));var vs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vs||(vs={}));function Xh(e){if(!e)if(On){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Gh(e)}const ep=/^[^#]+#/;function tp(e,t){return e.replace(ep,"#")+t}function np(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Cr=()=>({left:window.pageXOffset,top:window.pageYOffset});function sp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=np(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ta(e,t){return(history.state?history.state.position-t:-1)+e}const Uo=new Map;function rp(e,t){Uo.set(e,t)}function op(e){const t=Uo.get(e);return Uo.delete(e),t}let ip=()=>location.protocol+"//"+location.host;function Rc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Aa(l,"")}return Aa(n,e)+s+r}function ap(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const p=Rc(e,location),w=n.value,y=t.value;let _=0;if(d){if(n.value=p,t.value=d,i&&i===w){i=null;return}_=y?d.position-y.position:0}else s(p);r.forEach(b=>{b(n.value,w,{delta:_,type:ks.pop,direction:_?_>0?vs.forward:vs.back:vs.unknown})})};function l(){i=n.value}function c(d){r.push(d);const p=()=>{const w=r.indexOf(d);w>-1&&r.splice(w,1)};return o.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(Se({},d.state,{scroll:Cr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Ba(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Cr():null}}function lp(e){const{history:t,location:n}=window,s={value:Rc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:ip()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](d)}}function i(l,c){const u=Se({},t.state,Ba(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Se({},r.value,t.state,{forward:l,scroll:Cr()});o(u.current,u,!0);const f=Se({},Ba(s.value,l,null),{position:u.position+1},c);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function cp(e){e=Xh(e);const t=lp(e),n=ap(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Se({location:"",base:e,go:s,createHref:tp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function up(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),cp(e)}function fp(e){return typeof e=="string"||e&&typeof e=="object"}function kc(e){return typeof e=="string"||typeof e=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Sc=Symbol("");var Na;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Na||(Na={}));function Zn(e,t){return Se(new Error,{type:e,[Sc]:!0},t)}function Bt(e,t){return e instanceof Error&&Sc in e&&(t==null||!!(e.type&t))}const La="[^/]+?",dp={sensitive:!1,strict:!1,start:!0,end:!0},hp=/[.+*?^${}()[\]/\\]/g;function pp(e,t){const n=Se({},dp,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(hp,"\\$&"),p+=40;else if(d.type===1){const{value:w,repeatable:y,optional:_,regexp:b}=d;o.push({name:w,repeatable:y,optional:_});const E=b||La;if(E!==La){p+=10;try{new RegExp(`(${E})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${w}" (${E}): `+A.message)}}let R=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(R=_&&c.length<2?`(?:/${R})`:"/"+R),_&&(R+="?"),r+=R,p+=20,_&&(p+=-8),y&&(p+=-20),E===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",w=o[d-1];f[w.name]=p&&w.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:w,repeatable:y,optional:_}=p,b=w in c?c[w]:"";if(pt(b)&&!y)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const E=pt(b)?b.join("/"):b;if(!E)if(_)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);u+=E}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function gp(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function yp(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=gp(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ua(s))return 1;if(Ua(r))return-1}return r.length-s.length}function Ua(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vp={type:0,value:""},_p=/[a-zA-Z0-9_]/;function wp(e){if(!e)return[[]];if(e==="/")return[[vp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:_p.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function mp(e,t,n){const s=pp(wp(e.path),n),r=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function bp(e,t){const n=[],s=new Map;t=Ha({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const p=!d,w=Ep(u);w.aliasOf=d&&d.record;const y=Ha(t,u),_=[w];if("alias"in u){const R=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of R)_.push(Se({},w,{components:d?d.record.components:w.components,path:A,aliasOf:d?d.record:w}))}let b,E;for(const R of _){const{path:A}=R;if(f&&A[0]!=="/"){const N=f.record.path,S=N[N.length-1]==="/"?"":"/";R.path=f.record.path+(A&&S+A)}if(b=mp(R,f,y),d?d.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&u.name&&!Ma(b)&&i(u.name)),w.children){const N=w.children;for(let S=0;S<N.length;S++)o(N[S],b,d&&d.children[S])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return E?()=>{i(E)}:ys}function i(u){if(kc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&yp(u,n[f])>=0&&(u.record.path!==n[f].record.path||!$c(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Ma(u)&&s.set(u.record.name,u)}function c(u,f){let d,p={},w,y;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Zn(1,{location:u});y=d.record.name,p=Se(Oa(f.params,d.keys.filter(E=>!E.optional).map(E=>E.name)),u.params&&Oa(u.params,d.keys.map(E=>E.name))),w=d.stringify(p)}else if("path"in u)w=u.path,d=n.find(E=>E.re.test(w)),d&&(p=d.parse(w),y=d.record.name);else{if(d=f.name?s.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw Zn(1,{location:u,currentLocation:f});y=d.record.name,p=Se({},f.params,u.params),w=d.stringify(p)}const _=[];let b=d;for(;b;)_.unshift(b.record),b=b.parent;return{name:y,path:w,params:p,matched:_,meta:Rp(_)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Oa(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Ep(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Ma(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rp(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function Ha(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function $c(e,t){return t.children.some(n=>n===e||$c(e,n))}const Cc=/#/g,kp=/&/g,Sp=/\//g,$p=/=/g,Cp=/\?/g,Ic=/\+/g,Ip=/%5B/g,Ap=/%5D/g,Ac=/%5E/g,Pp=/%60/g,Pc=/%7B/g,Tp=/%7C/g,Tc=/%7D/g,Bp=/%20/g;function wi(e){return encodeURI(""+e).replace(Tp,"|").replace(Ip,"[").replace(Ap,"]")}function Np(e){return wi(e).replace(Pc,"{").replace(Tc,"}").replace(Ac,"^")}function Oo(e){return wi(e).replace(Ic,"%2B").replace(Bp,"+").replace(Cc,"%23").replace(kp,"%26").replace(Pp,"`").replace(Pc,"{").replace(Tc,"}").replace(Ac,"^")}function Lp(e){return Oo(e).replace($p,"%3D")}function Up(e){return wi(e).replace(Cc,"%23").replace(Cp,"%3F")}function Op(e){return e==null?"":Up(e).replace(Sp,"%2F")}function or(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Mp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(Ic," "),i=o.indexOf("="),a=or(i<0?o:o.slice(0,i)),l=i<0?null:or(o.slice(i+1));if(a in t){let c=t[a];pt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Va(e){let t="";for(let n in e){const s=e[n];if(n=Lp(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(pt(s)?s.map(o=>o&&Oo(o)):[s&&Oo(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Hp(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=pt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const Vp=Symbol(""),Fa=Symbol(""),Ir=Symbol(""),mi=Symbol(""),Mo=Symbol("");function as(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function nn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const l=f=>{f===!1?a(Zn(4,{from:n,to:t})):f instanceof Error?a(f):fp(f)?a(Zn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function oo(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let a=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if(Fp(a)){const c=(a.__vccOpts||a)[t];c&&r.push(nn(c,n,s,o,i))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=zh(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&nn(d,n,s,o,i)()}))}}return r}function Fp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ja(e){const t=ct(Ir),n=ct(mi),s=Te(()=>t.resolve(le(e.to))),r=Te(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Jn.bind(null,u));if(d>-1)return d;const p=Da(l[c-2]);return c>1&&Da(u)===p&&f[f.length-1].path!==p?f.findIndex(Jn.bind(null,l[c-2])):d}),o=Te(()=>r.value>-1&&Kp(n.params,s.value.params)),i=Te(()=>r.value>-1&&r.value===n.matched.length-1&&xc(n.params,s.value.params));function a(l={}){return qp(l)?t[le(e.replace)?"replace":"push"](le(e.to)).catch(ys):Promise.resolve()}return{route:s,href:Te(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const jp=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ja,setup(e,{slots:t}){const n=ns(ja(e)),{options:s}=ct(Ir),r=Te(()=>({[qa(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[qa(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:vc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Dp=jp;function qp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kp(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!pt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function Da(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const qa=(e,t,n)=>e??t??n,zp=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ct(Mo),r=Te(()=>e.route||s.value),o=ct(Fa,0),i=Te(()=>{let c=le(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=Te(()=>r.value.matched[i.value]);Ws(Fa,Te(()=>i.value+1)),Ws(Vp,a),Ws(Mo,r);const l=D();return Vt(()=>[l.value,a.value,e.name],([c,u,f],[d,p,w])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Jn(u,p)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return Ka(n.default,{Component:d,route:c});const p=f.props[u],w=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=vc(d,Se({},w,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return Ka(n.default,{Component:_,route:c})||_}}});function Ka(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Wp=zp;function Gp(e){const t=bp(e.routes,e),n=e.parseQuery||Mp,s=e.stringifyQuery||Va,r=e.history,o=as(),i=as(),a=as(),l=Zf(Wt);let c=Wt;On&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=so.bind(null,m=>""+m),f=so.bind(null,Op),d=so.bind(null,or);function p(m,T){let P,K;return kc(m)?(P=t.getRecordMatcher(m),K=T):K=m,t.addRoute(K,P)}function w(m){const T=t.getRecordMatcher(m);T&&t.removeRoute(T)}function y(){return t.getRoutes().map(m=>m.record)}function _(m){return!!t.getRecordMatcher(m)}function b(m,T){if(T=Se({},T||l.value),typeof m=="string"){const g=ro(n,m,T.path),k=t.resolve({path:g.path},T),U=r.createHref(g.fullPath);return Se(g,k,{params:d(k.params),hash:or(g.hash),redirectedFrom:void 0,href:U})}let P;if("path"in m)P=Se({},m,{path:ro(n,m.path,T.path).path});else{const g=Se({},m.params);for(const k in g)g[k]==null&&delete g[k];P=Se({},m,{params:f(g)}),T.params=f(T.params)}const K=t.resolve(P,T),ie=m.hash||"";K.params=u(d(K.params));const he=Jh(s,Se({},m,{hash:Np(ie),path:K.path})),h=r.createHref(he);return Se({fullPath:he,hash:ie,query:s===Va?Hp(m.query):m.query||{}},K,{redirectedFrom:void 0,href:h})}function E(m){return typeof m=="string"?ro(n,m,l.value.path):Se({},m)}function R(m,T){if(c!==m)return Zn(8,{from:T,to:m})}function A(m){return F(m)}function N(m){return A(Se(E(m),{replace:!0}))}function S(m){const T=m.matched[m.matched.length-1];if(T&&T.redirect){const{redirect:P}=T;let K=typeof P=="function"?P(m):P;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=E(K):{path:K},K.params={}),Se({query:m.query,hash:m.hash,params:"path"in K?{}:m.params},K)}}function F(m,T){const P=c=b(m),K=l.value,ie=m.state,he=m.force,h=m.replace===!0,g=S(P);if(g)return F(Se(E(g),{state:typeof g=="object"?Se({},ie,g.state):ie,force:he,replace:h}),T||P);const k=P;k.redirectedFrom=T;let U;return!he&&Zh(s,K,P)&&(U=Zn(16,{to:k,from:K}),X(K,K,!0,!1)),(U?Promise.resolve(U):W(k,K)).catch(O=>Bt(O)?Bt(O,2)?O:J(O):C(O,k,K)).then(O=>{if(O){if(Bt(O,2))return F(Se({replace:h},E(O.to),{state:typeof O.to=="object"?Se({},ie,O.to.state):ie,force:he}),T||k)}else O=Q(k,K,!0,h,ie);return L(k,K,O),O})}function M(m,T){const P=R(m,T);return P?Promise.reject(P):Promise.resolve()}function q(m){const T=ue.values().next().value;return T&&typeof T.runWithContext=="function"?T.runWithContext(m):m()}function W(m,T){let P;const[K,ie,he]=Jp(m,T);P=oo(K.reverse(),"beforeRouteLeave",m,T);for(const g of K)g.leaveGuards.forEach(k=>{P.push(nn(k,m,T))});const h=M.bind(null,m,T);return P.push(h),j(P).then(()=>{P=[];for(const g of o.list())P.push(nn(g,m,T));return P.push(h),j(P)}).then(()=>{P=oo(ie,"beforeRouteUpdate",m,T);for(const g of ie)g.updateGuards.forEach(k=>{P.push(nn(k,m,T))});return P.push(h),j(P)}).then(()=>{P=[];for(const g of he)if(g.beforeEnter)if(pt(g.beforeEnter))for(const k of g.beforeEnter)P.push(nn(k,m,T));else P.push(nn(g.beforeEnter,m,T));return P.push(h),j(P)}).then(()=>(m.matched.forEach(g=>g.enterCallbacks={}),P=oo(he,"beforeRouteEnter",m,T),P.push(h),j(P))).then(()=>{P=[];for(const g of i.list())P.push(nn(g,m,T));return P.push(h),j(P)}).catch(g=>Bt(g,8)?g:Promise.reject(g))}function L(m,T,P){a.list().forEach(K=>q(()=>K(m,T,P)))}function Q(m,T,P,K,ie){const he=R(m,T);if(he)return he;const h=T===Wt,g=On?history.state:{};P&&(K||h?r.replace(m.fullPath,Se({scroll:h&&g&&g.scroll},ie)):r.push(m.fullPath,ie)),l.value=m,X(m,T,P,h),J()}let ae;function de(){ae||(ae=r.listen((m,T,P)=>{if(!ee.listening)return;const K=b(m),ie=S(K);if(ie){F(Se(ie,{replace:!0}),K).catch(ys);return}c=K;const he=l.value;On&&rp(Ta(he.fullPath,P.delta),Cr()),W(K,he).catch(h=>Bt(h,12)?h:Bt(h,2)?(F(h.to,K).then(g=>{Bt(g,20)&&!P.delta&&P.type===ks.pop&&r.go(-1,!1)}).catch(ys),Promise.reject()):(P.delta&&r.go(-P.delta,!1),C(h,K,he))).then(h=>{h=h||Q(K,he,!1),h&&(P.delta&&!Bt(h,8)?r.go(-P.delta,!1):P.type===ks.pop&&Bt(h,20)&&r.go(-1,!1)),L(K,he,h)}).catch(ys)}))}let H=as(),x=as(),I;function C(m,T,P){J(m);const K=x.list();return K.length?K.forEach(ie=>ie(m,T,P)):console.error(m),Promise.reject(m)}function B(){return I&&l.value!==Wt?Promise.resolve():new Promise((m,T)=>{H.add([m,T])})}function J(m){return I||(I=!m,de(),H.list().forEach(([T,P])=>m?P(m):T()),H.reset()),m}function X(m,T,P,K){const{scrollBehavior:ie}=e;if(!On||!ie)return Promise.resolve();const he=!P&&op(Ta(m.fullPath,0))||(K||!P)&&history.state&&history.state.scroll||null;return fi().then(()=>ie(m,T,he)).then(h=>h&&sp(h)).catch(h=>C(h,m,T))}const G=m=>r.go(m);let ge;const ue=new Set,ee={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,hasRoute:_,getRoutes:y,resolve:b,options:e,push:A,replace:N,go:G,back:()=>G(-1),forward:()=>G(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:x.add,isReady:B,install(m){const T=this;m.component("RouterLink",Dp),m.component("RouterView",Wp),m.config.globalProperties.$router=T,Object.defineProperty(m.config.globalProperties,"$route",{enumerable:!0,get:()=>le(l)}),On&&!ge&&l.value===Wt&&(ge=!0,A(r.location).catch(ie=>{}));const P={};for(const ie in Wt)Object.defineProperty(P,ie,{get:()=>l.value[ie],enumerable:!0});m.provide(Ir,T),m.provide(mi,Hl(P)),m.provide(Mo,l);const K=m.unmount;ue.add(m),m.unmount=function(){ue.delete(m),ue.size<1&&(c=Wt,ae&&ae(),ae=null,l.value=Wt,ge=!1,I=!1),K()}}};function j(m){return m.reduce((T,P)=>T.then(()=>q(P)),Promise.resolve())}return ee}function Jp(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>Jn(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>Jn(c,l))||r.push(l))}return[n,s,r]}function Ar(){return ct(Ir)}function As(){return ct(mi)}function za(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Bc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Zp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");za(e.outputLen),za(e.blockLen)}function ir(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Yp(e,t){Bc(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const io=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nc=e=>e instanceof Uint8Array,ao=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_t=(e,t)=>e<<32-t|e>>>t,Qp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Qp)throw new Error("Non little-endian hardware is not supported");function Xp(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function bi(e){if(typeof e=="string"&&(e=Xp(e)),!Nc(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function eg(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Nc(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let Lc=class{clone(){return this._cloneInto()}};function tg(e){const t=s=>e().update(bi(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Uc(e=32){if(io&&typeof io.getRandomValues=="function")return io.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function ng(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let sg=class extends Lc{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ao(this.buffer)}update(t){ir(this);const{view:n,buffer:s,blockLen:r}=this;t=bi(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=ao(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ir(this),Yp(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;ng(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=ao(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const rg=(e,t,n)=>e&t^~e&n,og=(e,t,n)=>e&t^e&n^t&n,ig=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=new Uint32Array(64);let ag=class extends sg{constructor(){super(64,32,8,!1),this.A=Gt[0]|0,this.B=Gt[1]|0,this.C=Gt[2]|0,this.D=Gt[3]|0,this.E=Gt[4]|0,this.F=Gt[5]|0,this.G=Gt[6]|0,this.H=Gt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Jt[f-15],p=Jt[f-2],w=_t(d,7)^_t(d,18)^d>>>3,y=_t(p,17)^_t(p,19)^p>>>10;Jt[f]=y+Jt[f-7]+w+Jt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=_t(a,6)^_t(a,11)^_t(a,25),p=u+d+rg(a,l,c)+ig[f]+Jt[f]|0,y=(_t(s,2)^_t(s,13)^_t(s,22))+og(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ho=tg(()=>new ag);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oc=BigInt(0),Pr=BigInt(1),lg=BigInt(2),Tr=e=>e instanceof Uint8Array,cg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yn(e){if(!Tr(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=cg[e[n]];return t}function Mc(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ei(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Qn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function tt(e){return Ei(Yn(e))}function xi(e){if(!Tr(e))throw new Error("Uint8Array expected");return Ei(Yn(Uint8Array.from(e).reverse()))}function dn(e,t){return Qn(e.toString(16).padStart(t*2,"0"))}function Ri(e,t){return dn(e,t).reverse()}function ug(e){return Qn(Mc(e))}function Ge(e,t,n){let s;if(typeof t=="string")try{s=Qn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Tr(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function Cn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Tr(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function fg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function hg(e){let t;for(t=0;e>Oc;e>>=Pr,t+=1);return t}function pg(e,t){return e>>BigInt(t)&Pr}const gg=(e,t,n)=>e|(n?Pr:Oc)<<BigInt(t),ki=e=>(lg<<BigInt(e-1))-Pr,lo=e=>new Uint8Array(e),Wa=e=>Uint8Array.from(e);function Hc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=lo(e),r=lo(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=lo())=>{r=a(Wa([0]),f),s=a(),f.length!==0&&(r=a(Wa([1]),f),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=a();const p=s.slice();d.push(p),f+=s.length}return Cn(...d)};return(f,d)=>{i(),l(f);let p;for(;!(p=d(c()));)l();return i(),p}}const yg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ps(e,t,n={}){const s=(r,o,i)=>{const a=yg[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const vg=Object.freeze(Object.defineProperty({__proto__:null,bitGet:pg,bitLen:hg,bitMask:ki,bitSet:gg,bytesToHex:Yn,bytesToNumberBE:tt,bytesToNumberLE:xi,concatBytes:Cn,createHmacDrbg:Hc,ensureBytes:Ge,equalBytes:fg,hexToBytes:Qn,hexToNumber:Ei,numberToBytesBE:dn,numberToBytesLE:Ri,numberToHexUnpadded:Mc,numberToVarBytesBE:ug,utf8ToBytes:dg,validateObject:Ps},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const je=BigInt(0),Le=BigInt(1),En=BigInt(2),_g=BigInt(3),Vo=BigInt(4),Ga=BigInt(5),Ja=BigInt(8);BigInt(9);BigInt(16);function qe(e,t){const n=e%t;return n>=je?n:t+n}function wg(e,t,n){if(n<=je||t<je)throw new Error("Expected power/modulo > 0");if(n===Le)return je;let s=Le;for(;t>je;)t&Le&&(s=s*e%n),e=e*e%n,t>>=Le;return s}function at(e,t,n){let s=e;for(;t-- >je;)s*=s,s%=n;return s}function Fo(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=qe(e,t),s=t,r=je,o=Le;for(;n!==je;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Le)throw new Error("invert: does not exist");return qe(r,t)}function mg(e){const t=(e-Le)/En;let n,s,r;for(n=e-Le,s=0;n%En===je;n/=En,s++);for(r=En;r<e&&wg(r,t,e)!==e-Le;r++);if(s===1){const i=(e+Le)/Vo;return function(l,c){const u=l.pow(c,i);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Le)/En;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,u=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(d);p<c&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const w=a.pow(u,Le<<BigInt(c-p-1));u=a.sqr(w),f=a.mul(f,w),d=a.mul(d,u),c=p}return f}}function bg(e){if(e%Vo===_g){const t=(e+Le)/Vo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%Ja===Ga){const t=(e-Ga)/Ja;return function(s,r){const o=s.mul(r,En),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,En),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return mg(e)}const Eg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xg(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Eg.reduce((s,r)=>(s[r]="function",s),t);return Ps(e,n)}function Rg(e,t,n){if(n<je)throw new Error("Expected power > 0");if(n===je)return e.ONE;if(n===Le)return t;let s=e.ONE,r=t;for(;n>je;)n&Le&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Le;return s}function kg(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function Vc(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function Sg(e,t,n=!1,s={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=Vc(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=bg(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:ki(r),ZERO:je,ONE:Le,create:l=>qe(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return je<=l&&l<e},is0:l=>l===je,isOdd:l=>(l&Le)===Le,neg:l=>qe(-l,e),eql:(l,c)=>l===c,sqr:l=>qe(l*l,e),add:(l,c)=>qe(l+c,e),sub:(l,c)=>qe(l-c,e),mul:(l,c)=>qe(l*c,e),pow:(l,c)=>Rg(a,l,c),div:(l,c)=>qe(l*Fo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Fo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>kg(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Ri(l,o):dn(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?xi(l):tt(l)}});return Object.freeze(a)}function Fc(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function jc(e){const t=Fc(e);return t+Math.ceil(t/2)}function $g(e,t,n=!1){const s=e.length,r=Fc(t),o=jc(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?tt(e):xi(e),a=qe(i,t-Le)+Le;return n?Ri(a,r):dn(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cg=BigInt(0),co=BigInt(1);function Ig(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>Cg;)o&co&&(i=i.add(a)),a=a.double(),o>>=co;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let w=0;w<a;w++){const y=w*l;let _=Number(i&f);i>>=p,_>l&&(_-=d,i+=co);const b=y,E=y+Math.abs(_)-1,R=w%2!==0,A=_<0;_===0?u=u.add(n(R,o[b])):c=c.add(n(A,o[E]))}return{p:c,f:u}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function Dc(e){return xg(e.Fp),Ps(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ag(e){const t=Dc(e);Ps(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Pg,hexToBytes:Tg}=vg,Rn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Rn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Pg(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Rn,n=typeof e=="string"?Tg(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=Rn._parseInt(n.subarray(2)),{d:i,l:a}=Rn._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},Lt=BigInt(0),lt=BigInt(1);BigInt(2);const Za=BigInt(3);BigInt(4);function Bg(e){const t=Ag(e),{Fp:n}=t,s=t.toBytes||((w,y,_)=>{const b=y.toAffine();return Cn(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),r=t.fromBytes||(w=>{const y=w.subarray(1),_=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:_,y:b}});function o(w){const{a:y,b:_}=t,b=n.sqr(w),E=n.mul(b,w);return n.add(n.add(E,n.mul(w,y)),_)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(w){return typeof w=="bigint"&&Lt<w&&w<t.n}function a(w){if(!i(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(w){const{allowedPrivateKeyLengths:y,nByteLength:_,wrapPrivateKey:b,n:E}=t;if(y&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Yn(w)),typeof w!="string"||!y.includes(w.length))throw new Error("Invalid key");w=w.padStart(_*2,"0")}let R;try{R=typeof w=="bigint"?w:tt(Ge("private key",w,_))}catch{throw new Error(`private key must be ${_} bytes, hex or bigint, not ${typeof w}`)}return b&&(R=qe(R,E)),a(R),R}const c=new Map;function u(w){if(!(w instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,_,b){if(this.px=y,this.py=_,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(_==null||!n.isValid(_))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(y){const{x:_,y:b}=y||{};if(!y||!n.isValid(_)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const E=R=>n.eql(R,n.ZERO);return E(_)&&E(b)?f.ZERO:new f(_,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const _=n.invertBatch(y.map(b=>b.pz));return y.map((b,E)=>b.toAffine(_[E])).map(f.fromAffine)}static fromHex(y){const _=f.fromAffine(r(Ge("pointHex",y)));return _.assertValidity(),_}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:_}=this.toAffine();if(!n.isValid(y)||!n.isValid(_))throw new Error("bad point: x or y not FE");const b=n.sqr(_),E=o(y);if(!n.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:_,py:b,pz:E}=this,{px:R,py:A,pz:N}=y,S=n.eql(n.mul(_,N),n.mul(R,E)),F=n.eql(n.mul(b,N),n.mul(A,E));return S&&F}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:_}=t,b=n.mul(_,Za),{px:E,py:R,pz:A}=this;let N=n.ZERO,S=n.ZERO,F=n.ZERO,M=n.mul(E,E),q=n.mul(R,R),W=n.mul(A,A),L=n.mul(E,R);return L=n.add(L,L),F=n.mul(E,A),F=n.add(F,F),N=n.mul(y,F),S=n.mul(b,W),S=n.add(N,S),N=n.sub(q,S),S=n.add(q,S),S=n.mul(N,S),N=n.mul(L,N),F=n.mul(b,F),W=n.mul(y,W),L=n.sub(M,W),L=n.mul(y,L),L=n.add(L,F),F=n.add(M,M),M=n.add(F,M),M=n.add(M,W),M=n.mul(M,L),S=n.add(S,M),W=n.mul(R,A),W=n.add(W,W),M=n.mul(W,L),N=n.sub(N,M),F=n.mul(W,q),F=n.add(F,F),F=n.add(F,F),new f(N,S,F)}add(y){u(y);const{px:_,py:b,pz:E}=this,{px:R,py:A,pz:N}=y;let S=n.ZERO,F=n.ZERO,M=n.ZERO;const q=t.a,W=n.mul(t.b,Za);let L=n.mul(_,R),Q=n.mul(b,A),ae=n.mul(E,N),de=n.add(_,b),H=n.add(R,A);de=n.mul(de,H),H=n.add(L,Q),de=n.sub(de,H),H=n.add(_,E);let x=n.add(R,N);return H=n.mul(H,x),x=n.add(L,ae),H=n.sub(H,x),x=n.add(b,E),S=n.add(A,N),x=n.mul(x,S),S=n.add(Q,ae),x=n.sub(x,S),M=n.mul(q,H),S=n.mul(W,ae),M=n.add(S,M),S=n.sub(Q,M),M=n.add(Q,M),F=n.mul(S,M),Q=n.add(L,L),Q=n.add(Q,L),ae=n.mul(q,ae),H=n.mul(W,H),Q=n.add(Q,ae),ae=n.sub(L,ae),ae=n.mul(q,ae),H=n.add(H,ae),L=n.mul(Q,H),F=n.add(F,L),L=n.mul(x,H),S=n.mul(de,S),S=n.sub(S,L),L=n.mul(de,Q),M=n.mul(x,M),M=n.add(M,L),new f(S,F,M)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return p.wNAFCached(this,c,y,_=>{const b=n.invertBatch(_.map(E=>E.pz));return _.map((E,R)=>E.toAffine(b[R])).map(f.fromAffine)})}multiplyUnsafe(y){const _=f.ZERO;if(y===Lt)return _;if(a(y),y===lt)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,y);let{k1neg:E,k1:R,k2neg:A,k2:N}=b.splitScalar(y),S=_,F=_,M=this;for(;R>Lt||N>Lt;)R&lt&&(S=S.add(M)),N&lt&&(F=F.add(M)),M=M.double(),R>>=lt,N>>=lt;return E&&(S=S.negate()),A&&(F=F.negate()),F=new f(n.mul(F.px,b.beta),F.py,F.pz),S.add(F)}multiply(y){a(y);let _=y,b,E;const{endo:R}=t;if(R){const{k1neg:A,k1:N,k2neg:S,k2:F}=R.splitScalar(_);let{p:M,f:q}=this.wNAF(N),{p:W,f:L}=this.wNAF(F);M=p.constTimeNegate(A,M),W=p.constTimeNegate(S,W),W=new f(n.mul(W.px,R.beta),W.py,W.pz),b=M.add(W),E=q.add(L)}else{const{p:A,f:N}=this.wNAF(_);b=A,E=N}return f.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(y,_,b){const E=f.BASE,R=(N,S)=>S===Lt||S===lt||!N.equals(E)?N.multiplyUnsafe(S):N.multiply(S),A=R(this,_).add(R(y,b));return A.is0()?void 0:A}toAffine(y){const{px:_,py:b,pz:E}=this,R=this.is0();y==null&&(y=R?n.ONE:n.inv(E));const A=n.mul(_,y),N=n.mul(b,y),S=n.mul(E,y);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:A,y:N}}isTorsionFree(){const{h:y,isTorsionFree:_}=t;if(y===lt)return!0;if(_)return _(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:_}=t;return y===lt?this:_?_(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),s(f,this,y)}toHex(y=!0){return Yn(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=Ig(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function Ng(e){const t=Dc(e);return Ps(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Lg(e){const t=Ng(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(H){return Lt<H&&H<n.ORDER}function a(H){return qe(H,s)}function l(H){return Fo(H,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Bg({...t,toBytes(H,x,I){const C=x.toAffine(),B=n.toBytes(C.x),J=Cn;return I?J(Uint8Array.from([x.hasEvenY()?2:3]),B):J(Uint8Array.from([4]),B,n.toBytes(C.y))},fromBytes(H){const x=H.length,I=H[0],C=H.subarray(1);if(x===r&&(I===2||I===3)){const B=tt(C);if(!i(B))throw new Error("Point is not on curve");const J=f(B);let X=n.sqrt(J);const G=(X&lt)===lt;return(I&1)===1!==G&&(X=n.neg(X)),{x:B,y:X}}else if(x===o&&I===4){const B=n.fromBytes(C.subarray(0,n.BYTES)),J=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:B,y:J}}else throw new Error(`Point of length ${x} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),p=H=>Yn(dn(H,t.nByteLength));function w(H){const x=s>>lt;return H>x}function y(H){return w(H)?a(-H):H}const _=(H,x,I)=>tt(H.slice(x,I));class b{constructor(x,I,C){this.r=x,this.s=I,this.recovery=C,this.assertValidity()}static fromCompact(x){const I=t.nByteLength;return x=Ge("compactSignature",x,I*2),new b(_(x,0,I),_(x,I,2*I))}static fromDER(x){const{r:I,s:C}=Rn.toSig(Ge("DER",x));return new b(I,C)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new b(this.r,this.s,x)}recoverPublicKey(x){const{r:I,s:C,recovery:B}=this,J=F(Ge("msgHash",x));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const X=B===2||B===3?I+t.n:I;if(X>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=B&1?"03":"02",ge=c.fromHex(G+p(X)),ue=l(X),ee=a(-J*ue),j=a(C*ue),m=c.BASE.multiplyAndAddUnsafe(ge,ee,j);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Qn(this.toDERHex())}toDERHex(){return Rn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qn(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(H){try{return u(H),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const H=jc(t.n);return $g(t.randomBytes(H),t.n)},precompute(H=8,x=c.BASE){return x._setWindowSize(H),x.multiply(BigInt(3)),x}};function R(H,x=!0){return c.fromPrivateKey(H).toRawBytes(x)}function A(H){const x=H instanceof Uint8Array,I=typeof H=="string",C=(x||I)&&H.length;return x?C===r||C===o:I?C===2*r||C===2*o:H instanceof c}function N(H,x,I=!0){if(A(H))throw new Error("first arg must be private key");if(!A(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(u(H)).toRawBytes(I)}const S=t.bits2int||function(H){const x=tt(H),I=H.length*8-t.nBitLength;return I>0?x>>BigInt(I):x},F=t.bits2int_modN||function(H){return a(S(H))},M=ki(t.nBitLength);function q(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(Lt<=H&&H<M))throw new Error(`bigint expected < 2^${t.nBitLength}`);return dn(H,t.nByteLength)}function W(H,x,I=L){if(["recovered","canonical"].some(P=>P in I))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:B}=t;let{lowS:J,prehash:X,extraEntropy:G}=I;J==null&&(J=!0),H=Ge("msgHash",H),X&&(H=Ge("prehashed msgHash",C(H)));const ge=F(H),ue=u(x),ee=[q(ue),q(ge)];if(G!=null){const P=G===!0?B(n.BYTES):G;ee.push(Ge("extraEntropy",P))}const j=Cn(...ee),m=ge;function T(P){const K=S(P);if(!d(K))return;const ie=l(K),he=c.BASE.multiply(K).toAffine(),h=a(he.x);if(h===Lt)return;const g=a(ie*a(m+h*ue));if(g===Lt)return;let k=(he.x===h?0:2)|Number(he.y&lt),U=g;return J&&w(g)&&(U=y(g),k^=1),new b(h,U,k)}return{seed:j,k2sig:T}}const L={lowS:t.lowS,prehash:!1},Q={lowS:t.lowS,prehash:!1};function ae(H,x,I=L){const{seed:C,k2sig:B}=W(H,x,I),J=t;return Hc(J.hash.outputLen,J.nByteLength,J.hmac)(C,B)}c.BASE._setWindowSize(8);function de(H,x,I,C=Q){var he;const B=H;if(x=Ge("msgHash",x),I=Ge("publicKey",I),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:J,prehash:X}=C;let G,ge;try{if(typeof B=="string"||B instanceof Uint8Array)try{G=b.fromDER(B)}catch(h){if(!(h instanceof Rn.Err))throw h;G=b.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:h,s:g}=B;G=new b(h,g)}else throw new Error("PARSE");ge=c.fromHex(I)}catch(h){if(h.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(J&&G.hasHighS())return!1;X&&(x=t.hash(x));const{r:ue,s:ee}=G,j=F(x),m=l(ee),T=a(j*m),P=a(ue*m),K=(he=c.BASE.multiplyAndAddUnsafe(ge,T,P))==null?void 0:he.toAffine();return K?a(K.x)===ue:!1}return{CURVE:t,getPublicKey:R,getSharedSecret:N,sign:ae,verify:de,ProjectivePoint:c,Signature:b,utils:E}}let qc=class extends Lc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Zp(t);const s=bi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return ir(this),this.iHash.update(t),this}digestInto(t){ir(this),Bc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Kc=(e,t,n)=>new qc(e,t).update(n).digest();Kc.create=(e,t)=>new qc(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ug(e){return{hash:e,hmac:(t,...n)=>Kc(e,t,eg(...n)),randomBytes:Uc}}function Og(e,t){const n=s=>Lg({...e,...Ug(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Br=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ar=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),zc=BigInt(1),lr=BigInt(2),Ya=(e,t)=>(e+t/lr)/t;function Wc(e){const t=Br,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=at(u,n,t)*u%t,d=at(f,n,t)*u%t,p=at(d,lr,t)*c%t,w=at(p,r,t)*p%t,y=at(w,o,t)*w%t,_=at(y,a,t)*y%t,b=at(_,l,t)*_%t,E=at(b,a,t)*y%t,R=at(E,n,t)*u%t,A=at(R,i,t)*w%t,N=at(A,s,t)*c%t,S=at(N,lr,t);if(!jo.eql(jo.sqr(S),e))throw new Error("Cannot find square root");return S}const jo=Sg(Br,void 0,void 0,{sqrt:Wc}),ss=Og({a:BigInt(0),b:BigInt(7),Fp:jo,n:ar,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ar,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-zc*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Ya(o*e,t),l=Ya(-s*e,t);let c=qe(e-a*n-l*r,t),u=qe(-a*s-l*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Ho),Nr=BigInt(0),Gc=e=>typeof e=="bigint"&&Nr<e&&e<Br,Mg=e=>typeof e=="bigint"&&Nr<e&&e<ar,Qa={};function cr(e,...t){let n=Qa[e];if(n===void 0){const s=Ho(Uint8Array.from(e,r=>r.charCodeAt(0)));n=Cn(s,s),Qa[e]=n}return Ho(Cn(n,...t))}const Si=e=>e.toRawBytes(!0).slice(1),Do=e=>dn(e,32),uo=e=>qe(e,Br),Ss=e=>qe(e,ar),$i=ss.ProjectivePoint,Hg=(e,t,n)=>$i.BASE.multiplyAndAddUnsafe(e,t,n);function qo(e){let t=ss.utils.normPrivateKeyToScalar(e),n=$i.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Ss(-t),bytes:Si(n)}}function Jc(e){if(!Gc(e))throw new Error("bad x: need 0 < x < p");const t=uo(e*e),n=uo(t*e+BigInt(7));let s=Wc(n);s%lr!==Nr&&(s=uo(-s));const r=new $i(e,s,zc);return r.assertValidity(),r}function Zc(...e){return Ss(tt(cr("BIP0340/challenge",...e)))}function Vg(e){return qo(e).bytes}function Fg(e,t,n=Uc(32)){const s=Ge("message",e),{bytes:r,scalar:o}=qo(t),i=Ge("auxRand",n,32),a=Do(o^tt(cr("BIP0340/aux",i))),l=cr("BIP0340/nonce",a,r,s),c=Ss(tt(l));if(c===Nr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=qo(c),d=Zc(u,r,s),p=new Uint8Array(64);if(p.set(u,0),p.set(Do(Ss(f+d*o)),32),!Yc(p,s,r))throw new Error("sign: Invalid signature produced");return p}function Yc(e,t,n){const s=Ge("signature",e,64),r=Ge("message",t),o=Ge("publicKey",n,32);try{const i=Jc(tt(o)),a=tt(s.subarray(0,32));if(!Gc(a))return!1;const l=tt(s.subarray(32,64));if(!Mg(l))return!1;const c=Zc(Do(a),Si(i),r),u=Hg(i,l,Ss(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const ls=(()=>({getPublicKey:Vg,sign:Fg,verify:Yc,utils:{randomPrivateKey:ss.utils.randomPrivateKey,lift_x:Jc,pointToBytes:Si,numberToBytesBE:dn,bytesToNumberBE:tt,taggedHash:cr,mod:qe}}))(),fo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ci=e=>e instanceof Uint8Array,ho=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),wt=(e,t)=>e<<32-t|e>>>t,jg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!jg)throw new Error("Non little-endian hardware is not supported");const Dg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function et(e){if(!Ci(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Dg[e[n]];return t}function Xn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function Qc(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function $s(e){if(typeof e=="string"&&(e=Qc(e)),!Ci(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function ur(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Ci(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class Xc{clone(){return this._cloneInto()}}function eu(e){const t=s=>e().update($s(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function tu(e=32){if(fo&&typeof fo.getRandomValues=="function")return fo.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Ko(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function qg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function nu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Kg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ko(e.outputLen),Ko(e.blockLen)}function zg(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wg(e,t){nu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const kt={number:Ko,bool:qg,bytes:nu,hash:Kg,exists:zg,output:Wg};function Gg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class Jg extends Xc{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ho(this.buffer)}update(t){kt.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=$s(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=ho(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kt.exists(this),kt.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Gg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=ho(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const Zg=(e,t,n)=>e&t^~e&n,Yg=(e,t,n)=>e&t^e&n^t&n,Qg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=new Uint32Array(64);class su extends Jg{constructor(){super(64,32,8,!1),this.A=Zt[0]|0,this.B=Zt[1]|0,this.C=Zt[2]|0,this.D=Zt[3]|0,this.E=Zt[4]|0,this.F=Zt[5]|0,this.G=Zt[6]|0,this.H=Zt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Yt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Yt[f-15],p=Yt[f-2],w=wt(d,7)^wt(d,18)^d>>>3,y=wt(p,17)^wt(p,19)^p>>>10;Yt[f]=y+Yt[f-7]+w+Yt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=wt(a,6)^wt(a,11)^wt(a,25),p=u+d+Zg(a,l,c)+Qg[f]+Yt[f]|0,y=(wt(s,2)^wt(s,13)^wt(s,22))+Yg(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Yt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Xg extends su{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const _s=eu(()=>new su);eu(()=>new Xg);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rs(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Dt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function qt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(rs(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function Kt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Lr(e,t="="){if(rs(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function ru(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Xa(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(rs(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[l]=Math.floor(u/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const ou=(e,t)=>t?ou(t,e%t):e,fr=(e,t)=>e+(t-ou(e,t));function zo(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(fr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${fr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(rs(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function ey(e){return rs(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Xa(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Xa(t,e,2**8))}}}function pn(e,t=!1){if(rs(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(fr(8,e)>32||fr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return zo(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(zo(n,e,8,t))}}}function el(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const ty=Dt(pn(4),qt("0123456789ABCDEF"),Kt("")),ny=Dt(pn(5),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Lr(5),Kt(""));Dt(pn(5),qt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Lr(5),Kt(""));Dt(pn(5),qt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Kt(""),ru(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Ft=Dt(pn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Lr(6),Kt("")),sy=Dt(pn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Lr(6),Kt("")),Ii=e=>Dt(ey(58),qt(e),Kt("")),Wo=Ii("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ii("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ii("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const tl=[0,2,3,5,6,7,9,10,11],ry={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Wo.encode(s).padStart(tl[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=tl.indexOf(s.length),o=Wo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},Go=Dt(qt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Kt("")),nl=[996825010,642813549,513874426,1027748829,705979059];function cs(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<nl.length;s++)(t>>s&1)===1&&(n^=nl[s]);return n}function sl(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=cs(r)^i>>5}r=cs(r);for(let o=0;o<s;o++)r=cs(r)^e.charCodeAt(o)&31;for(let o of t)r=cs(r)^o;for(let o=0;o<6;o++)r=cs(r);return r^=n,Go.encode(zo([r%2**30],30,5,!1))}function iu(e){const t=e==="bech32"?1:734539939,n=pn(5),s=n.decode,r=n.encode,o=el(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=u.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${Go.encode(f)}${sl(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const p=u.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const w=u.slice(0,p),y=u.slice(p+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const _=Go.decode(y).slice(0,-6),b=sl(w,_,t);if(!y.endsWith(b))throw new Error(`Invalid checksum in ${u}: expected "${b}"`);return{prefix:w,words:_}}const l=el(a);function c(u){const{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const es=iu("bech32");iu("bech32m");const oy={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},iy=Dt(pn(4),qt("0123456789abcdef"),Kt(""),ru(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),ay={utf8:oy,hex:iy,base16:ty,base32:ny,base64:Ft,base64url:sy,base58:Wo,base58xmr:ry};`${Object.keys(ay).join(", ")}`;function po(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function rl(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function ly(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Ot(e,...t){if(!ly(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Ze=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),cy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!cy)throw new Error("Non little-endian hardware is not supported");function au(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function uy(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function fy(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const dy=(e,t)=>(Object.assign(t,e),t),ln=16,hy=283;function Ai(e){return e<<1^hy&-(e>>7)}function Mn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Ai(e);return n}const Jo=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Ai(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),py=Jo.map((e,t)=>Jo.indexOf(t)),gy=e=>e<<24|e>>>8,go=e=>e<<8|e>>>24;function lu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(go),r=s.map(go),o=r.map(go),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],a[f]=r[c]^o[u],l[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Pi=lu(Jo,e=>Mn(e,3)<<24|e<<16|e<<8|Mn(e,2)),cu=lu(py,e=>Mn(e,11)<<24|Mn(e,13)<<16|Mn(e,9)<<8|Mn(e,14)),yy=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Ai(n))e[t]=n;return e})();function uu(e){Ot(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Pi,s=Ze(e),r=s.length,o=a=>St(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(gy(l))^yy[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function vy(e){const t=uu(e),n=t.slice(),s=t.length,{sbox2:r}=Pi,{T0:o,T1:i,T2:a,T3:l}=cu;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=St(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function sn(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function St(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function ol(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Pi;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^sn(i,a,t,n,s,r),_=e[l++]^sn(i,a,n,s,r,t),b=e[l++]^sn(i,a,s,r,t,n),E=e[l++]^sn(i,a,r,t,n,s);t=y,n=_,s=b,r=E}const u=e[l++]^St(o,t,n,s,r),f=e[l++]^St(o,n,s,r,t),d=e[l++]^St(o,s,r,t,n),p=e[l++]^St(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:p}}function _y(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=cu;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let w=0;w<c;w++){const y=e[l++]^sn(i,a,t,r,s,n),_=e[l++]^sn(i,a,n,t,r,s),b=e[l++]^sn(i,a,s,n,t,r),E=e[l++]^sn(i,a,r,s,n,t);t=y,n=_,s=b,r=E}const u=e[l++]^St(o,t,r,s,n),f=e[l++]^St(o,n,t,r,s),d=e[l++]^St(o,s,n,t,r),p=e[l++]^St(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:p}}function fu(e,t){if(!t)return new Uint8Array(e);if(Ot(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function wy(e){if(Ot(e),e.length%ln!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${ln}`)}function my(e,t,n){let s=e.length;const r=s%ln;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=Ze(e);if(t){let l=ln-r;l||(l=ln),s=s+l}const i=fu(s,n),a=Ze(i);return{b:o,o:a,out:i}}function by(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function Ey(e){const t=new Uint8Array(16),n=Ze(t);t.set(e);const s=ln-e.length;for(let r=ln-s;r<ln;r++)t[r]=s;return n}const du=dy({blockSize:16,nonceLength:16},function(t,n,s={}){Ot(t),Ot(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=uu(t),{b:l,o:c,out:u}=my(o,r,i),f=Ze(n);let d=f[0],p=f[1],w=f[2],y=f[3],_=0;for(;_+4<=l.length;)d^=l[_+0],p^=l[_+1],w^=l[_+2],y^=l[_+3],{s0:d,s1:p,s2:w,s3:y}=ol(a,d,p,w,y),c[_++]=d,c[_++]=p,c[_++]=w,c[_++]=y;if(r){const b=Ey(o.subarray(_*4));d^=b[0],p^=b[1],w^=b[2],y^=b[3],{s0:d,s1:p,s2:w,s3:y}=ol(a,d,p,w,y),c[_++]=d,c[_++]=p,c[_++]=w,c[_++]=y}return a.fill(0),u},decrypt:(o,i)=>{wy(o);const a=vy(t),l=Ze(n),c=fu(o.length,i),u=Ze(o),f=Ze(c);let d=l[0],p=l[1],w=l[2],y=l[3];for(let _=0;_+4<=u.length;){const b=d,E=p,R=w,A=y;d=u[_+0],p=u[_+1],w=u[_+2],y=u[_+3];const{s0:N,s1:S,s2:F,s3:M}=_y(a,d,p,w,y);f[_++]=N^b,f[_++]=S^E,f[_++]=F^R,f[_++]=M^A}return a.fill(0),by(c,r)}}}),xy=au("expand 16-byte k"),Ry=au("expand 32-byte k"),ky=Ze(xy),Sy=Ze(Ry);function xe(e,t){return e<<t|e>>>32-t}function Zo(e){return e.byteOffset%4===0}const Ds=64,$y=16,hu=2**32-1,il=new Uint32Array;function Cy(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(Ds),u=Ze(c),f=Zo(r)&&Zo(o),d=f?Ze(r):il,p=f?Ze(o):il;for(let w=0;w<l;i++){if(e(t,n,s,u,i,a),i>=hu)throw new Error("arx: counter overflow");const y=Math.min(Ds,l-w);if(f&&y===Ds){const _=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<$y;b++)E=_+b,p[E]=d[E]^u[b];w+=Ds;continue}for(let _=0,b;_<y;_++)b=w+_,o[b]=r[b]^c[_];w+=y}}function Iy(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=uy({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return po(r),po(i),rl(o),rl(n),(a,l,c,u,f=0)=>{Ot(a),Ot(l),Ot(c);const d=c.length;if(u||(u=new Uint8Array(d)),Ot(u),po(f),f<0||f>=hu)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const p=[];let w=a.length,y,_;if(w===32)y=a.slice(),p.push(y),_=Sy;else if(w===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),_=ky,p.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);Zo(l)||(l=l.slice(),p.push(l));const b=Ze(y);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(_,b,Ze(l.subarray(0,16)),b),l=l.subarray(16)}const E=16-r;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const A=new Uint8Array(12);A.set(l,o?0:12-l.length),l=A,p.push(l)}const R=Ze(l);for(Cy(e,_,b,R,c,u,f,i);p.length>0;)p.pop().fill(0);return u}}function Ay(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],d=t[2],p=t[3],w=t[4],y=t[5],_=t[6],b=t[7],E=r,R=n[0],A=n[1],N=n[2],S=i,F=a,M=l,q=c,W=u,L=f,Q=d,ae=p,de=w,H=y,x=_,I=b,C=E,B=R,J=A,X=N;for(let ge=0;ge<o;ge+=2)S=S+W|0,C=xe(C^S,16),de=de+C|0,W=xe(W^de,12),S=S+W|0,C=xe(C^S,8),de=de+C|0,W=xe(W^de,7),F=F+L|0,B=xe(B^F,16),H=H+B|0,L=xe(L^H,12),F=F+L|0,B=xe(B^F,8),H=H+B|0,L=xe(L^H,7),M=M+Q|0,J=xe(J^M,16),x=x+J|0,Q=xe(Q^x,12),M=M+Q|0,J=xe(J^M,8),x=x+J|0,Q=xe(Q^x,7),q=q+ae|0,X=xe(X^q,16),I=I+X|0,ae=xe(ae^I,12),q=q+ae|0,X=xe(X^q,8),I=I+X|0,ae=xe(ae^I,7),S=S+L|0,X=xe(X^S,16),x=x+X|0,L=xe(L^x,12),S=S+L|0,X=xe(X^S,8),x=x+X|0,L=xe(L^x,7),F=F+Q|0,C=xe(C^F,16),I=I+C|0,Q=xe(Q^I,12),F=F+Q|0,C=xe(C^F,8),I=I+C|0,Q=xe(Q^I,7),M=M+ae|0,B=xe(B^M,16),de=de+B|0,ae=xe(ae^de,12),M=M+ae|0,B=xe(B^M,8),de=de+B|0,ae=xe(ae^de,7),q=q+W|0,J=xe(J^q,16),H=H+J|0,W=xe(W^H,12),q=q+W|0,J=xe(J^q,8),H=H+J|0,W=xe(W^H,7);let G=0;s[G++]=i+S|0,s[G++]=a+F|0,s[G++]=l+M|0,s[G++]=c+q|0,s[G++]=u+W|0,s[G++]=f+L|0,s[G++]=d+Q|0,s[G++]=p+ae|0,s[G++]=w+de|0,s[G++]=y+H|0,s[G++]=_+x|0,s[G++]=b+I|0,s[G++]=E+C|0,s[G++]=R+B|0,s[G++]=A+J|0,s[G++]=N+X|0}const al=Iy(Ay,{counterRight:!1,counterLength:4,allowShortKeys:!1});class pu extends Xc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kt.hash(t);const s=$s(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return kt.exists(this),this.iHash.update(t),this}digestInto(t){kt.exists(this),kt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ur=(e,t,n)=>new pu(e,t).update(n).digest();Ur.create=(e,t)=>new pu(e,t);function Py(e,t,n){return kt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Ur(e,$s(n),$s(t))}const yo=new Uint8Array([0]),ll=new Uint8Array;function Ty(e,t,n,s=32){if(kt.hash(e),kt.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=ll);const o=new Uint8Array(r*e.outputLen),i=Ur.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)yo[0]=c+1,a.update(c===0?ll:l).update(n).update(yo).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),yo.fill(0),o.slice(0,s)}var gu=Object.defineProperty,By=(e,t,n)=>t in e?gu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t)gu(e,n,{get:t[n],enumerable:!0})},Or=(e,t,n)=>(By(e,typeof t!="symbol"?t+"":t,n),n),wn=Symbol("verified"),Ny=e=>e instanceof Object;function yu(e){if(!Ny(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var Ts={};Ue(Ts,{Queue:()=>_u,QueueNode:()=>vu,binarySearch:()=>Ti,insertEventIntoAscendingList:()=>Uy,insertEventIntoDescendingList:()=>Ly,normalizeURL:()=>Hn,utf8Decoder:()=>Ut,utf8Encoder:()=>Ct});var Ut=new TextDecoder("utf-8"),Ct=new TextEncoder;function Hn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Ly(e,t){const[n,s]=Ti(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function Uy(e,t){const[n,s]=Ti(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Ti(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var vu=class{constructor(e){we(this,"value");we(this,"next",null);we(this,"prev",null);this.value=e}},_u=class{constructor(){we(this,"first");we(this,"last");this.first=null,this.last=null}enqueue(e){const t=new vu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Oy=class{generateSecretKey(){return ls.utils.randomPrivateKey()}getPublicKey(e){return et(ls.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=et(ls.getPublicKey(t)),n.id=Zs(n),n.sig=et(ls.sign(Zs(n),t)),n[wn]=!0,n}verifyEvent(e){if(typeof e[wn]=="boolean")return e[wn];const t=Zs(e);if(t!==e.id)return e[wn]=!1,!1;try{const n=ls.verify(e.sig,t,e.pubkey);return e[wn]=n,n}catch{return e[wn]=!1,!1}}};function My(e){if(!yu(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Zs(e){let t=_s(Ct.encode(My(e)));return et(t)}var Mr=new Oy,Hy=Mr.generateSecretKey,Vy=Mr.getPublicKey,gt=Mr.finalizeEvent,Tn=Mr.verifyEvent,Fy={};Ue(Fy,{Application:()=>Fv,BadgeAward:()=>Zy,BadgeDefinition:()=>Nv,BlockedRelaysList:()=>wv,BookmarkList:()=>yv,Bookmarksets:()=>Pv,Calendar:()=>Gv,CalendarEventRSVP:()=>Jv,ChannelCreation:()=>xu,ChannelHideMessage:()=>Su,ChannelMessage:()=>ku,ChannelMetadata:()=>Ru,ChannelMuteUser:()=>$u,ClassifiedListing:()=>qv,ClientAuth:()=>Cu,CommunitiesList:()=>vv,CommunityDefinition:()=>Qv,CommunityPostApproval:()=>ov,Contacts:()=>zy,CreateOrUpdateProduct:()=>Ov,CreateOrUpdateStall:()=>Uv,Curationsets:()=>Tv,Date:()=>zv,DraftClassifiedListing:()=>Kv,DraftLong:()=>Hv,Emojisets:()=>Vv,EncryptedDirectMessage:()=>Wy,EncryptedDirectMessages:()=>Gy,EventDeletion:()=>Jy,FileMetadata:()=>Xy,FileServerPreference:()=>xv,Followsets:()=>Cv,GenericRepost:()=>Yy,Genericlists:()=>Iv,HTTPAuth:()=>Li,Handlerinformation:()=>Yv,Handlerrecommendation:()=>Zv,Highlights:()=>dv,InterestsList:()=>bv,Interestsets:()=>Lv,JobFeedback:()=>lv,JobRequest:()=>iv,JobResult:()=>av,Label:()=>rv,LightningPubRPC:()=>kv,LiveChatMessage:()=>ev,LiveEvent:()=>jv,LongFormArticle:()=>Mv,Metadata:()=>Dy,Mutelist:()=>hv,NWCWalletInfo:()=>Rv,NWCWalletRequest:()=>Iu,NWCWalletResponse:()=>Sv,NostrConnect:()=>$v,OpenTimestamps:()=>Qy,Pinlist:()=>pv,ProblemTracker:()=>tv,ProfileBadges:()=>Bv,PublicChatsList:()=>_v,Reaction:()=>Ni,RecommendRelay:()=>Ky,RelayList:()=>gv,Relaysets:()=>Av,Report:()=>nv,Reporting:()=>sv,Repost:()=>Bi,SearchRelaysList:()=>mv,ShortTextNote:()=>qy,Time:()=>Wv,UserEmojiList:()=>Ev,UserStatuses:()=>Dv,Zap:()=>fv,ZapGoal:()=>cv,ZapRequest:()=>uv,classifyKind:()=>jy,isEphemeralKind:()=>bu,isParameterizedReplaceableKind:()=>Eu,isRegularKind:()=>wu,isReplaceableKind:()=>mu});function wu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function mu(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function bu(e){return 2e4<=e&&e<3e4}function Eu(e){return 3e4<=e&&e<4e4}function jy(e){return wu(e)?"regular":mu(e)?"replaceable":bu(e)?"ephemeral":Eu(e)?"parameterized":"unknown"}var Dy=0,qy=1,Ky=2,zy=3,Wy=4,Gy=4,Jy=5,Bi=6,Ni=7,Zy=8,Yy=16,xu=40,Ru=41,ku=42,Su=43,$u=44,Qy=1040,Xy=1063,ev=1311,tv=1971,nv=1984,sv=1984,rv=1985,ov=4550,iv=5999,av=6999,lv=7e3,cv=9041,uv=9734,fv=9735,dv=9802,hv=1e4,pv=10001,gv=10002,yv=10003,vv=10004,_v=10005,wv=10006,mv=10007,bv=10015,Ev=10030,xv=10096,Rv=13194,kv=21e3,Cu=22242,Iu=23194,Sv=23195,$v=24133,Li=27235,Cv=3e4,Iv=30001,Av=30002,Pv=30003,Tv=30004,Bv=30008,Nv=30009,Lv=30015,Uv=30017,Ov=30018,Mv=30023,Hv=30024,Vv=30030,Fv=30078,jv=30311,Dv=30315,qv=30402,Kv=30403,zv=31922,Wv=31923,Gv=31924,Jv=31925,Zv=31989,Yv=31990,Qv=34550;function Xv(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function e0(e,t){for(let n=0;n<e.length;n++)if(Xv(e[n],t))return!0;return!1}var t0={};Ue(t0,{getHex64:()=>Hr,getInt:()=>Au,getSubscriptionId:()=>Pu,matchEventId:()=>n0,matchEventKind:()=>r0,matchEventPubkey:()=>s0});function Hr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Au(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function Pu(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function n0(e,t){return t===Hr(e,"id")}function s0(e,t){return t===Hr(e,"pubkey")}function r0(e,t){return t===Au(e,"kind")}var o0={};Ue(o0,{makeAuthEvent:()=>Tu});function Tu(e,t){return{kind:Cu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function i0(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var a0=e=>(e[wn]=!0,!0),Bu;try{Bu=WebSocket}catch{}var Ui=class{constructor(e,t){we(this,"url");we(this,"_connected",!1);we(this,"onclose",null);we(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));we(this,"_onauth",null);we(this,"baseEoseTimeout",4400);we(this,"connectionTimeout",4400);we(this,"openSubs",new Map);we(this,"connectionTimeoutHandle");we(this,"connectionPromise");we(this,"openCountRequests",new Map);we(this,"openEventPublishes",new Map);we(this,"ws");we(this,"incomingMessageQueue",new _u);we(this,"queueRunning",!1);we(this,"challenge");we(this,"serial",0);we(this,"verifyEvent");this.url=Hn(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Ui(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new Bu(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await i0();this.queueRunning=!1}handleNext(){var n,s,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=Pu(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=Hr(e,"id"),a=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((s=o.receivedEvent)==null||s.call(o,this,i),a)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),a=o[2];this.verifyEvent(a)&&e0(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=o[1],a=o[2],l=this.openCountRequests.get(i);l&&(l.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],a=o[2],l=o[3],c=this.openEventPublishes.get(i);a?c.resolve(l):c.reject(new Error(l)),this.openEventPublishes.delete(i);return}case"CLOSED":{const i=o[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1],(r=this._onauth)==null||r.call(this,o[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(Tu(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new l0(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},l0=class{constructor(e,t,n,s){we(this,"relay");we(this,"id");we(this,"closed",!1);we(this,"eosed",!1);we(this,"filters");we(this,"alreadyHaveEvent");we(this,"receivedEvent");we(this,"onevent");we(this,"oneose");we(this,"onclose");we(this,"eoseTimeout");we(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},Yo=class extends Ui{constructor(e){super(e,{verifyEvent:Tn})}static async connect(e){const t=new Yo(e);return await t.connect(),t}},c0=class{constructor(e){we(this,"relays",new Map);we(this,"seenOn",new Map);we(this,"trackRelays",!1);we(this,"verifyEvent");we(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Hn(e);let n=this.relays.get(e);return n||(n=new Ui(e,{verifyEvent:this.trustedRelayURLs.has(e)?a0:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Hn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(s=>[s,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(f,d)=>{let p=this.seenOn.get(d);p||(p=new Set,this.seenOn.set(d,p)),p.add(f)});const n=new Set,s=[],r=Object.keys(e).length,o=[];let i=f=>{var d;o[f]=!0,o.filter(p=>p).length===r&&((d=t.oneose)==null||d.call(t),i=()=>{})};const a=[];let l=(f,d)=>{var p;i(f),a[f]=d,a.filter(w=>w).length===r&&((p=t.onclose)==null||p.call(t,a),l=()=>{})};const c=f=>{var p;if((p=t.alreadyHaveEvent)!=null&&p.call(t,f))return!0;const d=n.has(f);return n.add(f),d},u=Promise.all(Object.entries(e).map(async(f,d,p)=>{if(p.indexOf(f)!==d){l(d,"duplicate url");return}let[w,y]=f;w=Hn(w);let _;try{_=await this.ensureRelay(w,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(E){l(d,(E==null?void 0:E.message)||String(E));return}let b=_.subscribe(y,{...t,oneose:()=>i(d),onclose:E=>l(d,E),alreadyHaveEvent:c,eoseTimeout:t.maxWait});s.push(b)}));return{async close(){await u,s.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(Hn).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},In=class extends c0{constructor(){super({verifyEvent:Tn})}},De={};Ue(De,{BECH32_REGEX:()=>Nu,Bech32MaxSize:()=>Oi,decode:()=>Bs,encodeBytes:()=>Vr,naddrEncode:()=>y0,neventEncode:()=>g0,noteEncode:()=>h0,nprofileEncode:()=>p0,npubEncode:()=>d0,nrelayEncode:()=>v0,nsecEncode:()=>f0});var Oi=5e3,Nu=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function u0(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Bs(e){var r,o,i,a,l,c,u,f;let{prefix:t,words:n}=es.decode(e,Oi),s=new Uint8Array(es.fromWords(n));switch(t){case"nprofile":{let d=qs(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:et(d[0][0]),relays:d[1]?d[1].map(p=>Ut.decode(p)):[]}}}case"nevent":{let d=qs(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:et(d[0][0]),relays:d[1]?d[1].map(p=>Ut.decode(p)):[],author:(i=d[2])!=null&&i[0]?et(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(et(d[3][0]),16):void 0}}}case"naddr":{let d=qs(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ut.decode(d[0][0]),pubkey:et(d[2][0]),kind:parseInt(et(d[3][0]),16),relays:d[1]?d[1].map(p=>Ut.decode(p)):[]}}}case"nrelay":{let d=qs(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Ut.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:et(s)};default:throw new Error(`unknown prefix ${t}`)}}function qs(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function f0(e){return Vr("nsec",e)}function d0(e){return Vr("npub",Xn(e))}function h0(e){return Vr("note",Xn(e))}function Ns(e,t){let n=es.toWords(t);return es.encode(e,n,Oi)}function Vr(e,t){return Ns(e,t)}function p0(e){let t=Fr({0:[Xn(e.pubkey)],1:(e.relays||[]).map(n=>Ct.encode(n))});return Ns("nprofile",t)}function g0(e){let t;e.kind!==void 0&&(t=u0(e.kind));let n=Fr({0:[Xn(e.id)],1:(e.relays||[]).map(s=>Ct.encode(s)),2:e.author?[Xn(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Ns("nevent",n)}function y0(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=Fr({0:[Ct.encode(e.identifier)],1:(e.relays||[]).map(s=>Ct.encode(s)),2:[Xn(e.pubkey)],3:[new Uint8Array(t)]});return Ns("naddr",n)}function v0(e){let t=Fr({0:[Ct.encode(e)]});return Ns("nrelay",t)}function Fr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),ur(...t)}var _0=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Lu(e){let t=[];for(let n of e.content.matchAll(_0))if(n[2])try{let{type:s,data:r}=Bs(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var w0={};Ue(w0,{decrypt:()=>m0,encrypt:()=>Uu});async function Uu(e,t,n){const s=e instanceof Uint8Array?et(e):e,r=ss.getSharedSecret(s,"02"+t),o=Ou(r);let i=Uint8Array.from(tu(16)),a=Ct.encode(n),l=du(o,i).encrypt(a),c=Ft.encode(new Uint8Array(l)),u=Ft.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function m0(e,t,n){const s=e instanceof Uint8Array?et(e):e;let[r,o]=n.split("?iv="),i=ss.getSharedSecret(s,"02"+t),a=Ou(i),l=Ft.decode(o),c=Ft.decode(r),u=du(a,l).decrypt(c);return Ut.decode(u)}function Ou(e){return e.slice(1,33)}var Mu={};Ue(Mu,{NIP05_REGEX:()=>Hu,isValid:()=>x0,queryProfile:()=>Vu,searchDomain:()=>E0,useFetchImplementation:()=>b0});var Hu=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,jr;try{jr=fetch}catch{}function b0(e){jr=e}async function E0(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await jr(n,{redirect:"error"})).json()).names}catch{return{}}}async function Vu(e){var o;const t=e.match(Hu);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await jr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function x0(e,t){let n=await Vu(t);return n?n.pubkey===e:!1}var ze={};Ue(ze,{parse:()=>R0});function R0(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},u=s===0,f=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var k0={};Ue(k0,{fetchRelayInformation:()=>$0,useFetchImplementation:()=>S0});var Fu;try{Fu=fetch}catch{}function S0(e){Fu=e}async function $0(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var C0={};Ue(C0,{getPow:()=>ju,minePow:()=>I0});function ju(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function I0(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=Zs(s),ju(s.id)>=t)break}return s}var A0={};Ue(A0,{finishRepostEvent:()=>P0,getRepostedEvent:()=>T0,getRepostedEventPointer:()=>Du});function P0(e,t,n,s){return gt({kind:Bi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function Du(e){if(e.kind!==Bi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function T0(e,{skipVerification:t}={}){const n=Du(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Tn(s)))return s}var B0={};Ue(B0,{NOSTR_URI_REGEX:()=>Dr,parse:()=>L0,test:()=>N0});var Dr=new RegExp(`nostr:(${Nu.source})`);function N0(e){return typeof e=="string"&&new RegExp(`^${Dr.source}$`).test(e)}function L0(e){const t=e.match(new RegExp(`^${Dr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Bs(t[1])}}var U0={};Ue(U0,{finishReactionEvent:()=>O0,getReactedEventPointer:()=>M0});function O0(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return gt({...e,kind:Ni,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function M0(e){if(e.kind!==Ni)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var H0={};Ue(H0,{matchAll:()=>V0,regex:()=>Mi,replaceAll:()=>F0});var Mi=()=>new RegExp(`\\b${Dr.source}\\b`,"g");function*V0(e){const t=e.matchAll(Mi());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Bs(r),start:n.index,end:n.index+s.length}}catch{}}function F0(e,t){return e.replaceAll(Mi(),(n,s)=>t({uri:n,value:s,decoded:Bs(s)}))}var j0={};Ue(j0,{channelCreateEvent:()=>D0,channelHideMessageEvent:()=>z0,channelMessageEvent:()=>K0,channelMetadataEvent:()=>q0,channelMuteUserEvent:()=>W0});var D0=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return gt({kind:xu,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},q0=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return gt({kind:Ru,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},K0=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),gt({kind:ku,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},z0=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return gt({kind:Su,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},W0=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return gt({kind:$u,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},G0={};Ue(G0,{EMOJI_SHORTCODE_REGEX:()=>qu,matchAll:()=>J0,regex:()=>Hi,replaceAll:()=>Z0});var qu=/:(\w+):/,Hi=()=>new RegExp(`\\B${qu.source}\\B`,"g");function*J0(e){const t=e.matchAll(Hi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function Z0(e,t){return e.replaceAll(Hi(),(n,s)=>t({shortcode:n,name:s}))}var Y0={};Ue(Y0,{useFetchImplementation:()=>Q0,validateGithub:()=>X0});var Vi;try{Vi=fetch}catch{}function Q0(e){Vi=e}async function X0(e,t,n){try{return await(await Vi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var e_={};Ue(e_,{default:()=>n_,v2:()=>Fi});var t_=new TextDecoder,bt=class{static utf8Decode(e){return t_.decode(e)}static getConversationKey(e,t){const n=ss.getSharedSecret(e,"02"+t).subarray(1,33);return Py(_s,n,"nip44-v2")}static getMessageKeys(e,t){const n=Ty(_s,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}static calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}static writeU16BE(e){if(!Number.isSafeInteger(e)||e<bt.minPlaintextSize||e>bt.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}static pad(e){const t=bt.utf8Encode(e),n=t.length,s=bt.writeU16BE(n),r=new Uint8Array(bt.calcPaddedLen(n)-n);return ur(s,t,r)}static unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<bt.minPlaintextSize||t>bt.maxPlaintextSize||n.length!==t||e.length!==2+bt.calcPaddedLen(t))throw new Error("invalid padding");return bt.utf8Decode(n)}static hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=ur(n,t);return Ur(_s,e,s)}static decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Ft.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}},ft=bt;Or(ft,"minPlaintextSize",1);Or(ft,"maxPlaintextSize",65535);Or(ft,"utf8Encode",Qc);var Fi=class{static encrypt(e,t,n=tu(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=ft.getMessageKeys(t,n),i=ft.pad(e),a=al(s,r,i),l=ft.hmacAad(o,a,n);return Ft.encode(ur(new Uint8Array([2]),n,a,l))}static decrypt(e,t){const{nonce:n,ciphertext:s,mac:r}=ft.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=ft.getMessageKeys(t,n),l=ft.hmacAad(a,s,n);if(!fy(l,r))throw new Error("invalid MAC");const c=al(o,i,s);return ft.unpad(c)}};Or(Fi,"utils",ft);var n_={v2:Fi},s_={};Ue(s_,{makeNwcRequestEvent:()=>o_,parseConnectionString:()=>r_});function r_(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function o_(e,t,n){const r=await Uu(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Iu,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return gt(o,t)}var i_={};Ue(i_,{getZapEndpoint:()=>l_,makeZapReceipt:()=>f_,makeZapRequest:()=>c_,useFetchImplementation:()=>a_,validateZapRequest:()=>u_});var ji;try{ji=fetch}catch{}function a_(e){ji=e}async function l_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=es.decode(n,1e3),a=es.fromWords(i);t=Ut.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await ji(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function c_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function u_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!yu(t))return"Zap request is not a valid Nostr event.";if(!Tn(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function f_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var d_={};Ue(d_,{getToken:()=>h_,hashPayload:()=>Di,unpackEventFromToken:()=>zu,validateEvent:()=>Qu,validateEventKind:()=>Gu,validateEventMethodTag:()=>Zu,validateEventPayloadTag:()=>Yu,validateEventTimestamp:()=>Wu,validateEventUrlTag:()=>Ju,validateToken:()=>p_});var Ku="Nostr ";async function h_(e,t,n,s=!1,r){const o={kind:Li,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Di(r)]);const i=await n(o);return(s?Ku:"")+Ft.encode(Ct.encode(JSON.stringify(i)))}async function p_(e,t,n){const s=await zu(e).catch(o=>{throw o});return await Qu(s,t,n).catch(o=>{throw o})}async function zu(e){if(!e)throw new Error("Missing token");e=e.replace(Ku,"");const t=Ut.decode(Ft.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Wu(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Gu(e){return e.kind===Li}function Ju(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function Zu(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Di(e){const t=_s(Ct.encode(JSON.stringify(e)));return et(t)}function Yu(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Di(t);return n.length>0&&n[1]===s}async function Qu(e,t,n,s){if(!Tn(e))throw new Error("Invalid nostr event, signature invalid");if(!Gu(e))throw new Error("Invalid nostr event, kind invalid");if(!Wu(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Ju(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!Zu(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Yu(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const Xu=e=>(It("data-v-393546d0"),e=e(),At(),e),g_={class:"event-details"},y_={key:0},v_={class:"highlight"},__={key:1},w_={key:0,class:"highlight"},m_={key:1,class:"event-details__no-user"},b_=Xu(()=>v("div",null,"No info about author on this relay.",-1)),E_={class:"highlight"},x_={key:2},R_={key:0,class:"highlight"},k_={key:1,class:"event-details__no-user"},S_=Xu(()=>v("div",null,"No info about author on this relay.",-1)),$_={class:"highlight"},C_=Oe({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=D(1),s=D(!0),r=D(),o=D({});Pt(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:w,sig:y}=l;return{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:w,sig:y}},a=l=>{n.value=l};return(l,c)=>($(),V("div",g_,[v("div",{class:Pe(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[v("span",{onClick:c[0]||(c[0]=()=>a(1)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?($(),V("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):re("",!0),v("span",{onClick:c[2]||(c[2]=()=>a(3)),class:Pe(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?($(),V("div",y_,[v("pre",v_,oe(JSON.stringify(r.value,null,2)),1)])):re("",!0),s.value&&n.value===2?($(),V("div",__,[l.authorEvent?($(),V("pre",w_,oe(JSON.stringify(o.value,null,2)),1)):($(),V("div",m_,[b_,v("pre",E_,"pubkey: "+oe(l.event.pubkey)+` 
npub: `+oe(le(De).npubEncode(l.event.pubkey)),1)]))])):re("",!0),n.value===3?($(),V("div",x_,[l.event.author?($(),V("pre",R_,oe(JSON.stringify(l.event.author,null,2)),1)):($(),V("div",k_,[S_,v("pre",$_,"pubkey: "+oe(l.event.pubkey)+`
npub: `+oe(le(De).npubEncode(l.event.pubkey)),1)]))])):re("",!0)]))}});const Ce=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},ef=Ce(C_,[["__scopeId","data-v-393546d0"]]),I_={},A_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},P_=v("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),T_=[P_];function B_(e,t){return $(),V("svg",A_,T_)}const N_=Ce(I_,[["render",B_]]),L_={},U_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},O_=v("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),M_=[O_];function H_(e,t){return $(),V("svg",U_,M_)}const V_=Ce(L_,[["render",H_]]),F_={},j_={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},D_=v("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),q_=[D_];function K_(e,t){return $(),V("svg",j_,q_)}const z_=Ce(F_,[["render",K_]]),W_={},G_={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},J_=v("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),Z_=[J_];function Y_(e,t){return $(),V("svg",G_,Z_)}const Q_=Ce(W_,[["render",Y_]]),X_={class:"actions-bar"},e1={class:"actions-bar__action actions-bar__num"},t1={class:"actions_bar-number"},n1={class:"actions-bar__action actions-bar__num"},s1={class:"actions_bar-number"},r1={class:"actions_bar-number"},o1=Oe({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>($(),V("div",X_,[v("span",e1,[ve(N_,{class:"actions-bar__icon"}),v("span",t1,oe(o.likes),1)]),v("span",n1,[ve(V_,{class:"actions-bar__icon"}),v("span",s1,oe(o.reposts),1)]),o.hasReplyBtn?($(),V("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ve(Q_,{class:"actions-bar__icon"}),v("span",r1,oe(o.replies),1)])):re("",!0),o.hasReplyBtn?($(),V("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ve(z_,{class:"actions-bar__icon"})])):re("",!0)]))}});const qr=hn("npub",()=>{const e=D(""),t=D("");function n(r){e.value=r}function s(r){t.value=r}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:n,updateCachedUrl:s}}),qi=hn("user",()=>{const e=D(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),i1={class:"event-content"},a1={key:0},l1={key:1},c1=["onClick"],u1=Oe({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=Ar(),s=qr(),r=qi(),o=D([]);Pt(()=>{o.value=a(t.event,t.slice)}),pi(()=>{o.value=a(t.event,t.slice)});const i=(f,d)=>{let p=[],w="";for(const y of f){const _=w.length;if(w+=y.value,w.length<=d)p.push(y);else{if(y.type==="text"){const b=d-_;y.value=y.value.slice(0,b)}p.push(y),p.push({type:"text",value:"..."});break}}return p},a=(f,d)=>{const p=f.content,w=f.references;let y=[];if(!(w!=null&&w.length))return y.push({type:"text",value:p}),y;const _=[];w.forEach(E=>{let R=p.indexOf(E.text);if(_.includes(R))for(const A of _){if(!_.includes(R))break;R=p.indexOf(E.text,R+E.text.length)}E.textIndex=R,_.push(R)}),w.sort((E,R)=>E.textIndex-R.textIndex);let b=p;return w.forEach(E=>{const R=b.indexOf(E.text),A=b.slice(0,R),N=b.slice(R+E.text.length),S=l(E);y.push({type:"text",value:A}),y.push({type:"profile",value:S,npub:c(E.profile.pubkey)}),b=N}),y.push({type:"text",value:b}),d&&(y=i(y,d)),y},l=f=>{const d=f.profile_details,p=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${p.slice(0,15)}...`}`},c=f=>De.npubEncode(f),u=f=>{f&&(s.updateNpubInput(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>($(),V("div",i1,[($(!0),V(Re,null,it(o.value,p=>($(),V("span",null,[p.type==="text"?($(),V("span",a1,oe(p.value),1)):re("",!0),p.type==="profile"?($(),V("span",l1,[v("a",{onClick:Bo(()=>u(p.npub),["prevent"]),href:"#"},oe(p.value),9,c1)])):re("",!0)]))),256))]))}});const f1=Ce(u1,[["__scopeId","data-v-2c0eedfd"]]);function d1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function h1(e,...t){if(!d1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const p1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g1(e){h1(e);let t="";for(let n=0;n<e.length;n++)t+=p1[e[n]];return t}const Nt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function cl(e){if(e>=Nt._0&&e<=Nt._9)return e-Nt._0;if(e>=Nt._A&&e<=Nt._F)return e-(Nt._A-10);if(e>=Nt._a&&e<=Nt._f)return e-(Nt._a-10)}function ul(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=cl(e.charCodeAt(o)),a=cl(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}const Bn=hn("nsec",()=>{const e=D(""),t=D(!1),n=D("");function s(p){e.value=p}function r(p){n.value=p}function o(p){t.value=p}function i(){try{const p=a();if(!p)throw new Error("Invalid private key");return Vy(p)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?ul(e.value):De.decode(e.value).data}catch{return null}}function l(){const p=a();if(!p)return"";try{return g1(p)}catch{return""}}function c(){try{return e.value.indexOf("nsec")===-1?De.nsecEncode(ul(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&d()}function f(){return e.value.length>0&&!d()}function d(){return e.value.length===0?!1:i().length>0}return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:d,isValidNsecPresented:u,isNotValidNsecPresented:f,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:a,getPrivkeyHex:l,getPrivkey:c}}),Kr=hn("images",()=>{const e=D(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:vn}=Ts,Nn=hn("relay",()=>{const e=D({}),t=D(!1),n=D(""),s=D(""),r=D(0),o=D([]),i=D([]),a=D([]),l=D([]),c=Te(()=>{const L=new Set([...a.value,...l.value]),Q=[],ae=[];return L.forEach(de=>{a.value.includes(de)&&!l.value.includes(de)?Q.push({url:de,type:"read"}):ae.push({url:de,type:"write"})}),[...Q,...ae].sort((de,H)=>de.url.localeCompare(H.url))}),u=Te(()=>c.value.map(L=>L.url)),f=Te(()=>{const L=e.value.url,Q=u.value;return Q.includes(L)?Q:[L,...Q]}),d=Te(()=>{const L=a.value,Q=l.value,ae=new Set([...L,...Q]),de=[];return ae.forEach(H=>{L.includes(H)&&Q.includes(H)?de.push(["r",H]):L.includes(H)?de.push(["r",H,"read"]):Q.includes(H)&&de.push(["r",H,"write"])}),de}),p=Te(()=>i.value.map(L=>L.replace("wss://","").replace("/","")).join(", ")),w=Te(()=>e.value.connected);function y(L){e.value=L}function _(L){t.value=L}function b(L){i.value=L.map(Q=>vn(Q))}function E(L){a.value=L.map(Q=>vn(Q))}function R(L){l.value=L.map(Q=>vn(Q))}function A(L){l.value.includes(L)||l.value.push(vn(L))}function N(L){const Q=vn(L);if(!Q||u.value.includes(Q))return!1;a.value.push(Q)}function S(L){l.value=l.value.filter(Q=>Q!==L)}function F(L){a.value=a.value.filter(Q=>Q!==L),l.value=l.value.filter(Q=>Q!==L),i.value=i.value.filter(Q=>Q!==L)}function M(L){n.value=L==="custom"?"custom":vn(L)}function q(L){r.value=L}function W(L,Q){o.value[L]=Q.length?vn(Q):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:_,connectedReedRelayUrls:i,setConnectedReedRelayUrls:b,selectInputRelayUrl:n,setSelectedRelay:M,selectInputCustomRelayUrl:s,currentRelay:e,updateCurrentRelay:y,additionalRelaysCountForSignedEvent:r,updateAdditionalRelaysCountForSignedEvent:q,additionalRelaysUrlsForSignedEvent:o,updateRelayAdditionalRelaysUrlsForSignedEvent:W,connectedRelaysPrettyStr:p,reedRelays:a,writeRelays:l,setReedRelays:E,setWriteRelays:R,isConnectedToRelay:w,userReadWriteRelays:c,removeWriteRelay:S,addWriteRelay:A,removeUserRelay:F,addUserRelay:N,nip65Tags:d,userReadWriteRelaysUrls:u,allRelaysUrlsWithSelectedRelay:f}}),Mt=async(e,t=[],n)=>{const s=nf(e,t,n),r=sf(e,t,n),o=tf(e,t,n),i=v1(e,t,n);return e.forEach(a=>a.isRoot=!0),Promise.all([s,r,o,i])},zn=async(e,t,n=[],s)=>{const r=nf(t,n,s),o=sf(t,n,s),i=tf(t,n,s),a=_1(t,n,s);return t.forEach(l=>l.isRoot=!1),e&&y1(e,t),Promise.all([r,o,i,a])},y1=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey,event:e}},v1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new In,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=ze.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===a.id&&l++}a.replies=l}},_1=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new In,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=ze.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===a.id&&l++}a.replies=l}},xt=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===i.pubkey){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(r),o=!0}}),o||s.push(r)}),s},tf=async(e,t=[],n)=>{if(!t.length)return e;let s=n||new In;for(const r of e){if(!w1(r.content)){r.references=[];continue}let o=Lu(r);const i=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];if(!u)continue;const f=s.get(t,{kinds:[0],limit:1,authors:[u.pubkey]});i.push(f)}const a=await Promise.all(i),l=[];for(let c=0;c<o.length;c++){let{profile:u}=o[c];u&&a.forEach((f,d)=>{if((f==null?void 0:f.pubkey)===(u==null?void 0:u.pubkey)){const p=o[d];p.profile_details=JSON.parse((f==null?void 0:f.content)||"{}"),l.push(p)}})}r.references=l}},nf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new In).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l.content&&m1(l.content)&&a++}),i.likes=a})},sf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new In).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a++}),i.reposts=a})},w1=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,m1=e=>!["-",""].includes(e),vo=(e,t=3e3)=>{try{const n=new WebSocket(e);return new Promise(s=>{const r=setTimeout(()=>{n.close(),s(!1)},t);n.onopen=()=>{clearTimeout(r),n.close(),s(!0)},n.onerror=()=>{clearTimeout(r),n.close(),s(!1)}})}catch{return Promise.resolve(!1)}},fl=e=>/^[a-f0-9]{64}$/.test(e),b1=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(a){o(a)},oneose(){i.close()}})});return Promise.race([r,s])},rf=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=Ts.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},of=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},af=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),E1={},x1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},R1=v("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),k1=v("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),S1=[R1,k1];function $1(e,t){return $(),V("svg",x1,S1)}const dl=Ce(E1,[["render",$1]]),C1={},I1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},A1=v("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),P1=[A1];function T1(e,t){return $(),V("svg",I1,P1)}const hl=Ce(C1,[["render",T1]]),B1={},N1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},L1=v("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),U1=v("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),O1=[L1,U1];function M1(e,t){return $(),V("svg",N1,O1)}const lf=Ce(B1,[["render",M1]]),H1={},V1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-diagram-2-fill",viewBox:"0 0 16 16"},F1=v("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5zm-3 8A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5z"},null,-1),j1=[F1];function D1(e,t){return $(),V("svg",V1,j1)}const q1=Ce(H1,[["render",D1]]),K1={},z1={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},W1=v("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),G1=v("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),J1=[W1,G1];function Z1(e,t){return $(),V("svg",z1,J1)}const cf=Ce(K1,[["render",Z1]]),Y1={class:"thread"},Q1={key:0,class:"loading-thread"},X1={class:"event-card"},ew={key:0,class:"event-img"},tw=["src","title"],nw={class:"event-content"},sw={class:"event-header"},rw=["href"],ow={class:"event-username-text"},iw={key:0,class:"event-replying-to"},aw={key:1,class:"replying-to-separator"},lw=["href"],cw={class:"event-body"},uw={class:"event-footer"},fw={class:"event-footer__right-actions"},dw={class:"event-footer__link-wrapper"},hw={class:"event__raw-data"},pw={class:"event-footer-code-wrapper"},gw={class:"event-footer__signature-text"},yw={class:"event-footer__right-actions"},vw={class:"event-footer__link-wrapper"},_w={key:0,class:"reply-field"},ww={class:"reply-field__actions"},mw={class:"reply-field__error"},bw=["disabled"],Ew={key:1,class:"loading-replies"},xw={key:2,class:"replies"},Rw=Oe({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},isMainEvent:{type:Boolean},currentReadRelays:{},threadDescender:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=D(""),r=D(""),o=e,i=Ar(),a=qr(),l=Bn(),c=qi(),u=Kr(),f=Nn(),d=D(!1),p=D(!1),w=D([]),y=D(!1),_=D(!1),b=D(!1),E=D(!1),R=D([]),A=D(!1),N=x=>{if(o.isMainEvent)return n("toggleRawData",x);o.event.showRawData=!o.event.showRawData},S=x=>`/user/${De.npubEncode(x)}`;Pt(()=>{Object.keys(o.event).length!==0&&(b.value=Tn(o.event))});const F=(x,I)=>{if(x){let C="";if(x.name?C=x.name:x.username?C=x.username:C=x.display_name,C.length)return C}return De.npubEncode(I).slice(0,10)+"..."},M=()=>{d.value=!d.value,n("showReplyField")},q=async()=>{if(p.value)return;if(!(l.nsec?l.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const I=s.value.trim();if(!I.length){r.value="Please provide message to broadcast.";return}let C,B;try{if(C=l.getPrivkeyBytes(),!C)throw new Error;if(B=l.getPubkey(),!B.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const J=f.writeRelays;if(!J.length){r.value="Please provide your write relays to broadcast event";return}const X={kind:1,pubkey:B,created_at:Math.floor(Date.now()/1e3),content:I,tags:[],id:"",sig:""},G=[],ge=[];o.event.tags.forEach(g=>{const k=[g[0],g[1]];g[2]&&k.push(g[2]),g[3]&&k.push(g[3]),k[0]==="e"?G.push(k):k[0]==="p"&&ge.push(k)});const ue=[];if(G.length){const g=G.find(k=>k[3]==="root");g?ue.push(g):ue.push(G[0]),ue.push(["e",o.event.id,"","reply"])}else ue.push(["e",o.event.id,"","root"]);const ee=Lu(X),j=ge.map(g=>g[1]),m=[];ee.forEach(g=>{var U;const k=(U=g==null?void 0:g.profile)==null?void 0:U.pubkey;k&&!j.includes(k)&&(m.push(["p",k]),j.push(k))});const T=[...m,...ge];j.includes(o.event.pubkey)||T.push(["p",o.event.pubkey]),X.tags=[...T,...ue],gt(X,C),r.value="",p.value=!0;const P=T.filter(g=>g[1]!==B).map(g=>g[1]);let K=[];const{pool:ie}=o;if(P.length){const g=[...f.reedRelays,...f.writeRelays,f.currentRelay.url],k=[...new Set(g)],U=await ie.querySync(k,{kinds:[10002],authors:P}),O=new Set;U.forEach(Y=>{if(Y.tags.length){const{read:ne}=rf(Y);ne.forEach(Z=>{f.writeRelays.includes(Z)||O.add(Z)})}}),K=[...O]}if(!(await of(J,ie,X)).some(g=>g.success)){r.value="Failed to broadcast reply";return}if(K.length)try{await ie.publish(K,X)}catch{console.error("Failed to broadcast reply to some additional relays")}if(p.value=!1,d.value=!1,s.value="",o.isMainEvent)return n("loadRootReplies");W()},W=async()=>{const{event:x,currentReadRelays:I,pool:C}=o;if(!(I!=null&&I.length)||!C)return;if(o.isMainEvent)return n("loadMoreReplies");E.value=!0;let B=await C.querySync(I,{kinds:[1],"#e":[x.id]});x.isRoot?B=B.filter(ue=>{var j;const ee=ze.parse(ue);return!ee.reply&&((j=ee==null?void 0:ee.root)==null?void 0:j.id)===x.id}):B=B.filter(ue=>{var j,m;const ee=ze.parse(ue);return((j=ee==null?void 0:ee.reply)==null?void 0:j.id)===x.id||((m=ee==null?void 0:ee.root)==null?void 0:m.id)===x.id});const J=o.threadDescender;if(B.length==1&&(J==null?void 0:J.id)===B[0].id){E.value=!1;return}const X=B.map(ue=>ue.pubkey),G=[...new Set(X)],ge=await C.querySync(I,{kinds:[0],authors:G});B=xt(B,ge),await zn(x,B,I,C),w.value=B,y.value=!0,E.value=!1},L=()=>{y.value=!1},Q=()=>{const{origin:x,pathname:I}=window.location;let C=De.noteEncode(o.event.id);const B=`${x}${I}#/event/${C}`;navigator.clipboard.writeText(B),_.value=!0,setTimeout(()=>{_.value=!1},2e3)},ae=x=>{const I=De.npubEncode(x);a.updateNpubInput(I),c.updateRoutingStatus(!0),i.push({path:S(x)})},de=async x=>{var J,X;const{currentReadRelays:I,pool:C}=o;if(!(I!=null&&I.length)||!C)return[];const B=ze.parse(x);if(!B.root&&!B.reply)return[];if(B.root&&!B.reply){let G=await C.get(I,{kinds:[1],ids:[B.root.id]});if(!G)return[];const ge=await C.get(I,{kinds:[0],authors:[G.pubkey]});return ge&&await xt([G],[ge]),await Mt([G],I,C),[G]}if(B.reply){let G=await C.get(I,{kinds:[1],ids:[B.reply.id]});if(!G)return[];const ge=await C.get(I,{kinds:[0],authors:[G.pubkey]});ge&&await xt([G],[ge]);const ue=ze.parse(G),ee=((J=ue==null?void 0:ue.reply)==null?void 0:J.id)||((X=ue==null?void 0:ue.root)==null?void 0:X.id),j=await C.get(I,{kinds:[1],ids:[ee||""]});if(j){const T=await C.get(I,{kinds:[0],authors:[j.pubkey]});T&&await xt([j],[T])}await zn(j,[G],I,C);const m=await de(G);return[G,...m]}return[]},H=async()=>{var ue,ee;const{event:x,pool:I,currentReadRelays:C}=o;if(!(C!=null&&C.length)||!I||A.value)return;A.value=!0;const B=x.replyingTo.event,J=await I.get(C,{kinds:[0],authors:[B.pubkey]});J&&await xt([B],[J]);const X=ze.parse(B);if(!X.root&&!X.reply)await Mt([B],C,I);else{const j=((ue=X==null?void 0:X.reply)==null?void 0:ue.id)||((ee=X==null?void 0:X.root)==null?void 0:ee.id),m=await I.get(C,{kinds:[1],ids:[j||""]});if(m){const T=await I.get(C,{kinds:[0],authors:[m.pubkey]});T&&await xt([m],[T])}await zn(m,[B],C,I)}const G=await de(B),ge=[B,...G].reverse();A.value=!1,R.value=ge};return(x,I)=>{const C=Es("EventContent",!0);return $(),V(Re,null,[v("div",Y1,[($(!0),V(Re,null,it(R.value,(B,J)=>($(),V("div",{class:"ancestor",key:x.event.id},[ve(C,{onToggleRawData:()=>N(B.id),event:B,currentReadRelays:x.currentReadRelays,pool:x.pool,hasReplyBtn:x.hasReplyBtn,threadDescender:R.value[J+1]?R.value[J+1]:x.event},null,8,["onToggleRawData","event","currentReadRelays","pool","hasReplyBtn","threadDescender"])]))),128)),A.value?($(),V("div",Q1,"Loading thread...")):re("",!0)]),v("div",X1,[v("div",{class:Pe(["event-card__content",{flipped:x.event.showRawData}])},[v("div",{class:Pe(["event-card__front","event__presentable-date",{"event-card__front_custom":x.pubKey===x.event.pubkey}])},[le(u).showImages&&x.event.author?($(),V("div",ew,[v("img",{class:"author-pic",src:x.event.author.picture,alt:"user's avatar",title:`Avatar for ${x.event.author.name}`},null,8,tw)])):re("",!0),v("div",nw,[v("div",sw,[v("div",null,[v("a",{class:"event-username-link",onClick:I[0]||(I[0]=Bo(()=>ae(x.event.pubkey),["prevent"])),href:S(x.event.pubkey)},[v("b",ow,oe(F(x.event.author,x.event.pubkey)),1)],8,rw)]),v("div",null,oe(le(af)(x.event.created_at)),1)]),x.event.replyingTo?($(),V("div",iw,[x.isMainEvent?($(),V("span",{key:0,onClick:H,class:"view-thread event-username-link event-username-text"},[ve(q1),ke(" View thread ")])):re("",!0),x.isMainEvent?($(),V("span",aw," | ")):re("",!0),v("span",null,[ke(" Replying to "),v("a",{onClick:I[1]||(I[1]=Bo(()=>ae(x.event.replyingTo.pubkey),["prevent"])),href:S(x.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+oe(F(x.event.replyingTo.user,x.event.replyingTo.pubkey)),9,lw)])])):re("",!0),v("div",cw,[ve(f1,{event:x.event},null,8,["event"])]),v("div",uw,[ve(o1,{onShowReplyField:M,onHandleShowReplies:W,onHandleHideReplies:L,hasReplyBtn:x.hasReplyBtn,likes:x.event.likes,reposts:x.event.reposts,replies:x.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),v("div",fw,[v("div",dw,[_.value?($(),Ne(hl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):re("",!0),_.value?re("",!0):($(),Ne(dl,{key:1,onClick:Q,title:"Copy link",class:"event-footer-copy-icon"}))]),v("span",{onClick:I[2]||(I[2]=()=>N(x.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),v("div",{class:Pe(["event-card__back",{"event-card__back_custom":x.pubKey===x.event.pubkey,"event-details-first":x.index===0}])},[v("div",hw,[ve(ef,{event:x.event,authorEvent:x.event.authorEvent},null,8,["event","authorEvent"])]),v("div",pw,[v("div",{class:Pe(["event-footer__signature",{"event-footer__signature_invalid":!b.value}])},[b.value?($(),Ne(lf,{key:0})):re("",!0),b.value?re("",!0):($(),Ne(cf,{key:1})),v("span",gw,oe(b.value?"Signature is valid":"Invalid signature"),1)],2),v("div",yw,[v("div",vw,[_.value?($(),Ne(hl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):re("",!0),_.value?re("",!0):($(),Ne(dl,{key:1,onClick:Q,title:"Copy link",class:"event-footer-copy-icon"}))]),v("span",{onClick:I[3]||(I[3]=()=>N(x.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),d.value?($(),V("div",_w,[Dn(v("textarea",{"onUpdate:modelValue":I[4]||(I[4]=B=>s.value=B),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[Rs,s.value]]),v("div",ww,[v("div",mw,oe(r.value),1),v("button",{disabled:p.value,onClick:q,class:"reply-field__btn"},oe(p.value?"Sending reply...":"Reply"),9,bw)])])):re("",!0),E.value?($(),V("div",Ew," Loading replies... ")):re("",!0),y.value&&w.value.length?($(),V("div",xw,[($(!0),V(Re,null,it(w.value,(B,J)=>($(),V("div",{class:"reply",key:B.id},[ve(C,{onToggleRawData:I[5]||(I[5]=()=>N(x.event.id)),event:B,currentReadRelays:x.currentReadRelays,pool:x.pool,hasReplyBtn:x.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):re("",!0)],64)}}});const _o=Ce(Rw,[["__scopeId","data-v-8a46e443"]]),kw={},Sw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},$w=v("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),Cw=[$w];function Iw(e,t){return $(),V("svg",Sw,Cw)}const Aw=Ce(kw,[["render",Iw]]),Ls=hn("pool",()=>{const e=D(new In);function t(){e.value=new In}return{pool:e,resetPool:t}}),uf=e=>(It("data-v-c31fa1ef"),e=e(),At(),e),Pw={class:"event"},Tw={key:0},Bw={key:1,class:"replies"},Nw={class:"replies__other-link"},Lw=uf(()=>v("span",{class:"replies__other-text"}," Show more replies ",-1)),Uw={key:1,class:"replies__other"},Ow={key:2,class:"replies__other"},Mw={class:"replies__other-text"},Hw={key:4},Vw={key:5,class:"replies__list"},Fw={class:"replies__list-item"},jw=uf(()=>v("div",{class:"replies__list-item-line-horizontal"},null,-1)),Dw=Oe({__name:"ParentEventView",props:{event:{},pubKey:{},index:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},showRootReplies:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const s=Ls().pool,r=t,o=e,i=D(!1),a=D(!1),l=D(!1),c=D(!1),u=D(!1),f=D(null),d=D([]);Pt(async()=>{o.showReplies&&await p()});const p=async()=>{const{event:E,currentReadRelays:R}=o;if(!R.length)return;let A=await s.querySync(R,{kinds:[1],"#e":[E.id]});if(o.showRootReplies?A=A.filter(M=>{var W;const q=ze.parse(M);return!q.reply&&((W=q==null?void 0:q.root)==null?void 0:W.id)===E.id}):A=A.filter(M=>{var W,L;const q=ze.parse(M);return((W=q==null?void 0:q.reply)==null?void 0:W.id)===E.id||((L=q==null?void 0:q.root)==null?void 0:L.id)===E.id}),!A.length)return;u.value=!0,a.value=A.length>1;let N=A[0],S=[N];await zn(E,S,R,s),N=S[0];const F=await s.get(R,{kinds:[0],limit:1,authors:[N.pubkey]});F&&(N.author=JSON.parse(F.content)),f.value=N,u.value=!1},w=(E,R=!1)=>{if(R)return r("toggleRawData",E)},y=()=>{i.value=!i.value},_=async()=>{const{event:E,currentReadRelays:R}=o;if(!R.length)return;c.value=!0;let A=await s.querySync(R,{kinds:[1],"#e":[E.id]});if(E.isRoot?A=A.filter(M=>{var W;const q=ze.parse(M);return!q.reply&&((W=q==null?void 0:q.root)==null?void 0:W.id)===E.id}):A=A.filter(M=>{var W,L;const q=ze.parse(M);return((W=q==null?void 0:q.reply)==null?void 0:W.id)===E.id||((L=q==null?void 0:q.root)==null?void 0:L.id)===E.id}),!A.length){c.value=!1;return}const N=A.map(M=>M.pubkey),S=[...new Set(N)],F=await s.querySync(R,{kinds:[0],authors:S});A=xt(A,F),await zn(E,A,R,s),d.value=A,l.value=!0,c.value=!1},b=async()=>{i.value=!1,l.value?await _():await p()};return(E,R)=>($(),V("div",Pw,[($(),Ne(_o,{key:E.event.id,onLoadRootReplies:b,onShowReplyField:y,onToggleRawData:R[0]||(R[0]=A=>w(A,!0)),onLoadMoreReplies:_,event:E.event,pubKey:E.pubKey,isMainEvent:!0,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","pubKey","currentReadRelays","pool","hasReplyBtn"])),u.value?($(),V("div",Tw,"Loading replies...")):re("",!0),E.showReplies&&f.value?($(),V("div",Bw,[!l.value&&a.value&&!c.value?($(),V("div",{key:0,onClick:_,class:"replies__other"},[v("span",Nw,[Lw,ve(Aw)])])):re("",!0),c.value?($(),V("div",Uw," Loading replies... ")):re("",!0),l.value&&a.value?($(),V("div",Ow,[v("span",Mw," Loaded "+oe(d.value.length)+" replies ",1)])):re("",!0),v("div",{class:Pe(["line-vertical",{"line-vertical_long":a.value,"line-vertical_reply-field":i.value&&!a.value,"line-vertical_reply-field_long":i.value&&a.value}])},null,2),l.value?re("",!0):($(),V("div",{key:3,class:Pe(["line-horizontal",{"line-horizontal_height":a.value}])},null,2)),l.value?re("",!0):($(),V("div",Hw,[($(),Ne(_o,{key:f.value.id,event:f.value,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?($(),V("div",Vw,[($(!0),V(Re,null,it(d.value,(A,N)=>($(),V("div",Fw,[jw,v("div",{class:Pe(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":N===d.value.length-1}])},null,2),($(),Ne(_o,{key:A.id,event:A,currentReadRelays:E.currentReadRelays,pool:le(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):re("",!0)])):re("",!0)]))}});const ff=Ce(Dw,[["__scopeId","data-v-c31fa1ef"]]),qw=Oe({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>($(),V("div",null,[($(!0),V(Re,null,it(r.events,(i,a)=>($(),Ne(ff,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:a,showRootReplies:!0,showReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const Kw=Ce(qw,[["__scopeId","data-v-68b94602"]]),zw={key:0,class:"pagination"},Ww={key:0},Gw={key:1},Jw={key:1},Zw={key:4},Yw=Oe({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=As(),r=o=>({path:s.path,query:{...s.query,page:o}});return Vt(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=Es("router-link");return o.pagesCount>1?($(),V("div",zw,[ke(" Pages: "),o.pagesCount<5?($(),V("span",Ww,[($(!0),V(Re,null,it(o.pagesCount,l=>($(),Ne(a,{key:l,class:Pe(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:Qe(()=>[ke(oe(l),1)]),_:2},1032,["class","to"]))),128))])):re("",!0),o.pagesCount>=5?($(),V("span",Gw,[o.currentPage>=3?($(),Ne(a,{key:1,class:Pe(["pagination__link"]),to:r(1)},{default:Qe(()=>[ke(oe(1))]),_:1},8,["to"])):re("",!0),o.currentPage>3?($(),V("span",Jw,"...")):re("",!0),o.currentPage!=1?($(),Ne(a,{key:o.currentPage-1,class:Pe(["pagination__link"]),to:r(o.currentPage-1)},{default:Qe(()=>[ke(oe(o.currentPage-1),1)]),_:1},8,["to"])):re("",!0),($(),Ne(a,{key:o.currentPage,class:Pe(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Qe(()=>[ke(oe(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?($(),Ne(a,{key:o.currentPage+1,class:Pe(["pagination__link"]),to:r(o.currentPage+1)},{default:Qe(()=>[ke(oe(o.currentPage+1),1)]),_:1},8,["to"])):re("",!0),o.currentPage<o.pagesCount-2?($(),V("span",Zw,"...")):re("",!0),o.currentPage<=o.pagesCount-2?($(),Ne(a,{key:o.pagesCount,class:Pe(["pagination__link"]),to:r(o.pagesCount)},{default:Qe(()=>[ke(oe(o.pagesCount),1)]),_:1},8,["to"])):re("",!0)])):re("",!0)])):re("",!0)}}});const df=Ce(Yw,[["__scopeId","data-v-fa836b0e"]]),Qw=e=>(It("data-v-1382f7cb"),e=e(),At(),e),Xw={class:"log"},em=Qw(()=>v("strong",null,"Relay events log",-1)),tm={class:"log__list"},nm={class:"log__list-item"},sm={key:0},rm={key:1},om=Oe({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>($(),V("div",Xw,[em,v("ul",tm,[($(!0),V(Re,null,it(t.eventsLog,r=>($(),V("li",nm,[($(!0),V(Re,null,it(r,({type:o,value:i})=>($(),V(Re,null,[o==="text"?($(),V("span",sm,oe(i),1)):($(),V("b",rm,oe(i),1))],64))),256))]))),256))])]))}});const im=Ce(om,[["__scopeId","data-v-1382f7cb"]]),pl=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],_n=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],$n=20,zr=hn("feed",()=>{const e=D([]),t=D(!1),n=D([]),s=D(0),r=D([]),o=D([]),i=D(""),a=D("");function l(R){e.value=R}function c(R){const A=e.value.find(N=>N.id===R);A&&(A.showRawData=!A.showRawData)}function u(R){t.value=R}function f(R){n.value=R}function d(R){s.value=R}function p(R){r.value=R}function w(R){r.value.push(R)}function y(R){o.value=R}function _(R){o.value.push(R)}function b(R){i.value=R}function E(R){a.value=R}return{events:e,updateEvents:l,toggleEventRawData:c,showNewEventsBadge:t,setShowNewEventsBadge:u,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:f,newEventsBadgeCount:s,setNewEventsBadgeCount:d,newEventsToShow:r,updateNewEventsToShow:p,pushToNewEventsToShow:w,paginationEventsIds:o,updatePaginationEventsIds:y,pushToPaginationEventsIds:_,messageToBroadcast:i,updateMessageToBroadcast:b,signedJson:a,updateSignedJson:E}}),am=e=>(It("data-v-9f2f68f5"),e=e(),At(),e),lm={id:"feed"},cm={class:"columns"},um={key:0,class:"connecting-notice"},fm={key:0,class:"new-events__imgs"},dm=["src"],hm=["src"],pm={class:"new-events__text"},gm=am(()=>v("b",{class:"new-events__arrow"},"",-1)),ym=Oe({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=Nn(),s=Kr(),r=zr(),o=Bn(),a=Ls().pool,l=t,c=Te(()=>r.newEventsBadgeImageUrls[0]),u=Te(()=>r.newEventsBadgeImageUrls[1]),f=D(1),d=Te(()=>Math.ceil(r.paginationEventsIds.length/$n)),p=As(),w=Te(()=>p.path);Vt(()=>p.path,async()=>{f.value>1&&y(1)}),Pt(()=>{d.value>1&&y(1)});const y=async b=>{const E=n.connectedReedRelayUrls;if(!E.length)return;const R=$n,A=(b-1)*R,N=A+R,F=r.paginationEventsIds.slice().reverse().slice(A,N),M=await a.querySync(E,{ids:F}),q=M.map(Q=>Q.pubkey),W=await a.querySync(E,{kinds:[0],authors:q});let L=xt(M,W);await Mt(L,E,a),r.updateEvents(L),f.value=b},_=async()=>{await l("loadNewRelayEvents"),f.value=1};return(b,E)=>($(),V("div",lm,[v("div",cm,[v("div",{class:Pe(["events",{events_hidden:w.value==="/log"}])},[le(n).isConnectingToRelay?($(),V("div",um," Loading "+oe(le(n).currentRelay?"new":"")+" relay feed... ",1)):re("",!0),le(r).showNewEventsBadge?($(),V("div",{key:1,onClick:_,class:"new-events"},[le(s).showImages?($(),V("div",fm,[v("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,dm),v("img",{class:"new-events__img",src:u.value,alt:"user's avatar"},null,8,hm)])):re("",!0),v("span",pm,oe(le(r).newEventsBadgeCount)+" new notes",1),gm])):re("",!0),ve(Kw,{events:le(r).events,pubKey:le(o).getPubkey(),showImages:le(s).showImages,currentReadRelays:le(n).connectedReedRelayUrls,onToggleRawData:le(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),ve(df,{pagesCount:d.value,currentPage:f.value,onShowPage:y},null,8,["pagesCount","currentPage"])],2),v("div",{class:Pe(["log-wrapper",{"log-wrapper_hidden":w.value!=="/log"}])},[ve(im,{eventsLog:b.eventsLog},null,8,["eventsLog"])],2)])]))}});const wo=Ce(ym,[["__scopeId","data-v-9f2f68f5"]]),vm=e=>(It("data-v-9d94ec19"),e=e(),At(),e),_m={class:"message-fields-wrapper"},wm={class:"message-fields"},mm={class:"message-fields__field"},bm=vm(()=>v("label",{for:"message"},[v("strong",null,"Message to broadcast")],-1)),Em={class:"field-elements"},xm=["value"],Rm={class:"send-btn-wrapper"},km=["disabled"],Sm={class:"error"},$m={class:"notice"},Cm=Oe({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=Bn(),o=zr(),i=D(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key or generate random key.";return}const u=o.messageToBroadcast.trim();if(!u.length){i.value="Please provide message to broadcast.";return}let f,d;try{if(f=r.getPrivkeyBytes(),!f)throw new Error;if(d=r.getPubkey(),!d.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const p={kind:1,pubkey:d,created_at:Math.floor(Date.now()/1e3),content:u,tags:[],id:"",sig:""},w=gt(p,f);if(n.sentEventIds.has(w.id)){i.value="The same event can't be sent twice (same id, signature).";return}i.value="",s("broadcastEvent",w,"text")},l=c=>{var u;o.updateMessageToBroadcast((u=c==null?void 0:c.target)==null?void 0:u.value)};return(c,u)=>($(),V("div",_m,[v("div",wm,[v("div",mm,[bm,v("div",Em,[v("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:le(o).messageToBroadcast,onInput:l,placeholder:"Test message "},null,40,xm)]),v("div",Rm,[v("button",{disabled:c.isSendingMessage,class:"send-btn",onClick:a},oe(c.isSendingMessage?"Broadcasting...":"Broadcast"),9,km)])])]),v("div",Sm,oe(i.value),1),v("div",$m,oe(c.broadcastNotice),1)]))}});const gl=Ce(Cm,[["__scopeId","data-v-9d94ec19"]]),Wr=e=>(It("data-v-efc02ad6"),e=e(),At(),e),Im={class:"message-fields-wrapper"},Am={class:"signed-message-desc"},Pm=Wr(()=>v("p",{class:"signed-message-desc_p"},[ke(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),v("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),ke(". ")],-1)),Tm={class:"signed-message-desc_p"},Bm=Wr(()=>v("br",null,null,-1)),Nm={key:0,class:"additional-relays"},Lm={class:"additional-relay-field"},Um=Wr(()=>v("span",null,"1.",-1)),Om=["value"],Mm={class:"additional-relay-field"},Hm=["onInput"],Vm={class:"message-fields__field_sig"},Fm=Wr(()=>v("label",{class:"message-fields__label",for:"signed_json"},[v("strong",null,"JSON of a signed event")],-1)),jm={class:"field-elements"},Dm={class:"signed-json-btn-wrapper"},qm={class:"error"},Km=["disabled"],zm=Oe({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=Nn(),r=zr(),o=D(""),i=()=>{if(!r.signedJson.length){o.value="Provide signed event.";return}let u;try{u=JSON.parse(r.signedJson)}catch{o.value="Invalid JSON. Please check it and try again.";return}const f=s.currentRelay;if(!(f!=null&&f.connected)){o.value="Please connect to relay first.";return}o.value="",n("broadcastEvent",u,"json")},a=()=>{const u=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(u)},l=u=>{var f;r.updateSignedJson((f=u==null?void 0:u.target)==null?void 0:f.value)},c=(u,f)=>{var p;const d=(p=u==null?void 0:u.target)==null?void 0:p.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(f,d)};return(u,f)=>{var d,p;return $(),V("div",Im,[v("div",Am,[Pm,v("p",Tm,[ke(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),Bm,v("button",{class:"additional-relay-btn",onClick:a}," Add relay "),le(s).additionalRelaysCountForSignedEvent>0?($(),V("div",Nm,[v("div",Lm,[Um,v("input",{readonly:"",value:(d=le(s).currentRelay)!=null&&d.url?`${(p=le(s).currentRelay)==null?void 0:p.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,Om)]),($(!0),V(Re,null,it(le(s).additionalRelaysCountForSignedEvent,w=>($(),V("div",null,[v("div",Mm,[v("span",null,oe(w+1)+".",1),v("input",{onInput:y=>c(y,w),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Hm)])]))),256))])):re("",!0)])]),v("div",Vm,[Fm,v("div",jm,[v("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:l,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},oe(le(r).signedJson),33)])]),v("div",Dm,[v("div",qm,oe(o.value)+" "+oe(u.broadcastError),1),v("button",{disabled:u.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:i},oe(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,Km)])])}}});const Wm=Ce(zm,[["__scopeId","data-v-efc02ad6"]]),Gm=vi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),Jm=vi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),Zm=vi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),yl=Oe({__name:"Help",props:{showPrivacy:{}},setup(e){const t=As(),n=D(null);return Pt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),pi(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>($(),V(Re,null,[Gm,v("p",null,[v("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),Jm]),Zm],64))}}),mt=ns({value:1,update(e){this.value=e}}),Ym=hn("user-notes",()=>{const e=D([]),t=D([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Gr=e=>(It("data-v-59817eec"),e=e(),At(),e),Qm={class:"event"},Xm={key:0,class:"event__content"},eb=Gr(()=>v("hr",null,null,-1)),tb={class:"event__code-block"},nb={class:"event__code-title"},sb=Gr(()=>v("b",null,"Author: ",-1)),rb={class:"content-col_code"},ob={class:"event__code"},ib={class:"event__code-block"},ab={class:"event__code-title"},lb=Gr(()=>v("b",null,"Event id: ",-1)),cb={class:"content-col_code"},ub={class:"event__code"},fb=Gr(()=>v("div",{class:"header-col"},[v("b",null,"Created: ")],-1)),db={class:"content-col_code"},hb={class:"event__code"},pb={class:"event-footer__signature-text"},gb=Oe({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=D(!1),s=D(!1),r=D(!1),o=D(""),i=D(""),a=D(""),l=D(0),c=D(!1);_d(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,a.value=f.pubkey,l.value=f.created_at}),Pt(()=>{Object.keys(t.event).length!==0&&(c.value=Tn(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>($(),V("div",Qm,[n.value?re("",!0):($(),V("div",Xm,[Id(f.$slots,"default",{},()=>[ke("No content for event")],!0),eb,v("div",tb,[v("div",nb,[sb,v("button",{class:"event__code-btn",onClick:d[0]||(d[0]=p=>r.value=!r.value)},oe(r.value?"npub":"hex"),1)]),v("div",rb,[v("code",ob,oe(r.value?a.value:le(De).npubEncode(a.value)),1)])]),v("div",ib,[v("div",ab,[lb,v("button",{class:"event__code-btn",onClick:d[1]||(d[1]=p=>s.value=!s.value)},oe(s.value?"nevent":"hex"),1)]),v("div",cb,[v("code",ub,oe(s.value?o.value:le(De).neventEncode({id:o.value})),1)])]),v("div",null,[fb,v("div",db,[v("code",hb,oe(le(af)(l.value)),1)])])])),n.value?($(),Ne(ef,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):re("",!0),v("div",{class:Pe(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?($(),V("div",{key:0,class:Pe(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?($(),Ne(lf,{key:0})):re("",!0),c.value?re("",!0):($(),Ne(cf,{key:1})),v("span",pb,oe(c.value?"Signature is valid":"Invalid signature"),1)],2)):re("",!0),v("div",null,[v("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const yb=Ce(gb,[["__scopeId","data-v-59817eec"]]),vb={},_b={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},wb=v("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),mb=v("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),bb=[wb,mb];function Eb(e,t){return $(),V("svg",_b,bb)}const xb=Ce(vb,[["render",Eb]]),Jr=e=>(It("data-v-17851edb"),e=e(),At(),e),Rb={class:"field"},kb={class:"field-label",for:"user_public_key"},Sb=Jr(()=>v("strong",null,"Profile's public key or event id",-1)),$b={class:"field-elements"},Cb={class:"error"},Ib={key:0,class:"loading-notice"},Ab={class:"user"},Pb={key:0,class:"user__avatar-wrapper"},Tb=["src"],Bb={class:"user__info"},Nb={class:"user__nickname"},Lb={class:"user__name"},Ub={class:"user__desc"},Ob={key:0,class:"user__nip05"},Mb=["href"],Hb=Jr(()=>v("strong",null,"nip05",-1)),Vb={key:1,class:"user__contacts"},Fb={class:"user__contacts-col user__following-cnt"},jb={class:"user__contacts-col user__followers-cnt"},Db={key:0},qb={key:1,class:"user__contacts-download-icon"},Kb=Jr(()=>v("span",{class:"user__contacts-followers-word"}," Followers ",-1)),zb={key:2},Wb={key:3,id:"user-posts"},Gb={key:0},Jb={key:1},Zb={key:5,class:"not-found"},Yb=Jr(()=>v("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),Qb=Oe({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Ls().pool,s=qr(),r=Ym(),o=qi(),i=Kr(),a=Bn(),l=Nn(),c=e,u=D({}),f=D({}),d=D(!1),p=D(!1),w=D(""),y=D(!1),_=D(""),b=D(!1),E=D(""),R=D(!1),A=D(!1),N=D(!1),S=D(!1),F=D(!0),M=D(1),q=Te(()=>Math.ceil(r.allNotesIds.length/$n)),W=Ar(),L=As(),Q=ee=>{const[j,m]=ee.split("@");return`https://${m}/.well-known/nostr.json?name=${j}`},ae=D([]);Pt(()=>{var ee,j;if((j=(ee=L.params)==null?void 0:ee.id)!=null&&j.length&&!l.currentRelay.connected){s.updateNpubInput(L.params.id),s.updateCachedUrl(L.params.id),l.currentRelay.connected||(N.value=!0);return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),I();return}}),Vt(()=>L.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),I())}),Vt(()=>L.redirectedFrom,()=>{s.updateNpubInput(L.params.id),s.updateCachedUrl(L.params.id),x()}),tc(()=>{r.notes.length&&I()});const de=()=>{E.value="",y.value=!1},H=async ee=>{const j=l.connectedReedRelayUrls;if(!j.length)return;const m=$n,T=(ee-1)*m,P=T+m,K=r.allNotesIds.slice(T,P),ie=await n.querySync(j,{ids:K});let he=C(ie,f.value);await Mt(he,j,n),r.updateNotes(he),M.value=ee},x=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},I=async()=>{mt.update(mt.value+1);const ee=mt.value,j=s.npubInput.trim();let m=!1;if(!j.length){w.value="Public key or event id is required.";return}if(fl(j))_.value=j,m=!0;else try{let{data:he,type:h}=De.decode(j);if(h!=="npub"&&h!=="note"){w.value="Public key or event id should be in npub or note format, or hex.";return}S.value=h==="note",_.value=he.toString()}catch{w.value="Public key or event id is invalid. Please check it and try again.";return}N.value&&await c.handleRelayConnect();const T=l.connectedReedRelayUrls;if(ee!==mt.value)return;if(!T.length){w.value=N.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}N.value=!1,x(),p.value=!1,w.value="",b.value=!0;let P=[];if(S.value||m){const he=_.value;if(P=await n.querySync(T,{ids:[he]}),ee!==mt.value)return;P.length&&(r.updateIds(P.map(h=>h.id)),_.value=P[0].pubkey,S.value=!0)}const K=await n.get(T,{kinds:[0],limit:1,authors:[_.value]});if(ee!==mt.value)return;if(!K){b.value=!1,y.value=!0;return}ae.value=T;const ie=await n.get(T,{kinds:[3],limit:1,authors:[_.value]});if(ee===mt.value){if(u.value=K,f.value=JSON.parse(K.content),f.value.followingCount=(ie==null?void 0:ie.tags.length)||0,d.value=!1,b.value=!1,y.value=!1,S.value?W.push({path:`/event/${j}`}):W.push({path:`/user/${j}`}),s.updateCachedUrl(j),A.value=!0,B(ee),!S.value){if(P=await n.querySync(T,{kinds:[1],authors:[_.value]}),ee!==mt.value)return;const he=new Set;P.forEach(g=>{const k=ze.parse(g);(k.reply||k.root)&&he.add(g.id)}),P=P.filter(g=>!he.has(g.id)),r.updateIds(P.map(g=>g.id));const h=$n;M.value=1,P=P.slice(0,h)}if(P=C(P,f.value),S.value){const he=P[0],h=ze.parse(he),g=h.reply||h.root;if(g){F.value=!1;let k=await n.get(ae.value,{kinds:[1],ids:[g.id]});if(k){const U=await n.get(ae.value,{kinds:[0],authors:[k.pubkey]});U&&(k.author=JSON.parse(U.content))}await zn(k,P,ae.value,n)}else await Mt(P,T,n)}else await Mt(P,T,n);ee===mt.value&&(r.updateNotes(P),A.value=!1)}},C=(ee,j)=>ee.map(m=>(m.author=j,m)),B=async(ee=0)=>{const j=f.value.nip05,m=u.value.pubkey;if(!(!j||!m))try{const T=await J(j,m);if(ee&&ee!==mt.value)return;d.value=T}catch{console.log("Failed to check nip05")}},J=async(ee,j)=>{const m=await Mu.queryProfile(ee);return j===(m==null?void 0:m.pubkey)},X=()=>{if(!a.nsec.trim().length){w.value="Please provide private key first.";return}try{const j=a.getPubkey();if(!j.length)throw new Error;s.updateNpubInput(De.npubEncode(j)),w.value=""}catch{w.value="Private key is invalid. Please check it and try again.";return}},G=async()=>{const ee=s.npubInput.trim();let j=!1;if(!ee.length){E.value="Public key or event id is required.";return}if(fl(ee))_.value=ee,j=!0;else try{let{data:K,type:ie}=De.decode(ee);if(ie!=="npub"&&ie!=="note"){E.value="Public key or event id should be in npub or note format, or hex.";return}S.value=ie==="note",_.value=K.toString()}catch{E.value="Public key or event id is invalid. Please check it and try again.";return}R.value=!0,r.updateIds([]);let m=[];if(S.value||j){const K=_.value;m=await n.querySync(_n,{ids:[K]}),m.length&&(_.value=m[0].pubkey,S.value=!0)}const T=await n.get(_n,{kinds:[0],limit:1,authors:[_.value]});if(!T){R.value=!1,E.value="User was not found on listed relays.";return}ae.value=_n;const P=await n.get(_n,{kinds:[3],limit:1,authors:[_.value]});if(u.value=T,f.value=JSON.parse(T.content),f.value.followingCount=(P==null?void 0:P.tags.length)||0,E.value="",R.value=!1,y.value=!1,p.value=!0,d.value=!1,S.value?W.push({path:`/event/${ee}`}):W.push({path:`/user/${ee}`}),s.updateCachedUrl(ee),A.value=!0,B(),!S.value){m=await n.querySync(_n,{kinds:[1],authors:[_.value]});const K=new Set;m.forEach(ie=>{const he=ze.parse(ie);(he.reply||he.root)&&K.add(ie.id)}),m=m.filter(ie=>!K.has(ie.id))}m=C(m,f.value),await Mt(m,_n,n),r.updateNotes(m),A.value=!1},ge=async()=>{f.value.followersCount=0;const ee=n.subscribeMany(ae.value,[{"#p":[_.value],kinds:[3]}],{onevent(j){f.value.followersCount=f.value.followersCount+1},oneose(){ee.close()}})},ue=ee=>{r.toggleRawData(ee)};return(ee,j)=>($(),V(Re,null,[v("div",Rb,[v("label",kb,[Sb,le(a).nsec.length?($(),V("button",{key:0,onClick:X,class:"random-key-btn"},"Use mine")):re("",!0)]),v("div",$b,[Dn(v("input",{onInput:de,"onUpdate:modelValue":j[0]||(j[0]=m=>le(s).npubInput=m),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[Rs,le(s).npubInput]]),v("button",{onClick:I,class:"get-user-btn"},oe(N.value?"Connect & Search":"Search"),1)]),v("div",Cb,oe(w.value),1)]),b.value?($(),V("div",Ib," Loading event info... ")):re("",!0),u.value.id?($(),Ne(yb,{author:f.value,event:u.value,key:u.value.id},{default:Qe(()=>[v("div",Ab,[le(i).showImages?($(),V("div",Pb,[v("img",{class:"user__avatar",src:f.value.picture},null,8,Tb)])):re("",!0),v("div",Bb,[v("div",null,[v("div",Nb,oe(f.value.username||f.value.name),1),v("div",Lb,oe(f.value.display_name||""),1),v("div",Ub,oe(f.value.about||""),1),d.value?($(),V("div",Ob,[v("a",{target:"_blank",href:Q(f.value.nip05)},[Hb,ke(": "+oe(f.value.nip05),1)],8,Mb)])):re("",!0),f.value.followingCount>=0?($(),V("div",Vb,[v("span",Fb,[v("b",null,oe(f.value.followingCount),1),ke(" Following ")]),v("span",jb,[f.value.followersCount?($(),V("b",Db,oe(f.value.followersCount),1)):($(),V("span",qb,[ve(xb,{onClick:ge})])),Kb])])):re("",!0)])])])]),_:1},8,["author","event"])):re("",!0),A.value?($(),V("div",zb,"Loading notes...")):re("",!0),le(r).notes.length>0&&!A.value?($(),V("h3",Wb,[S.value?($(),V("span",Gb,"Event info")):($(),V("span",Jb,"User notes"))])):re("",!0),($(!0),V(Re,null,it(le(r).notes,(m,T)=>($(),Ne(ff,{key:m.id,hasReplyBtn:!0,showReplies:!0,showRootReplies:F.value,currentReadRelays:ae.value,index:T,onToggleRawData:ue,event:m},null,8,["showRootReplies","currentReadRelays","index","event"]))),128)),!A.value&&!b.value?($(),Ne(df,{key:4,pagesCount:q.value,currentPage:M.value,onShowPage:H},null,8,["pagesCount","currentPage"])):re("",!0),y.value?($(),V("div",Zb,[Yb,v("div",null,[v("button",{onClick:G,class:"fallback-search-btn"}," Search in all listed relays "),v("div",{class:Pe(["not-found__status",{error:E.value.length}])},oe(E.value)+" "+oe(R.value?"Searching...":""),3),v("ul",null,[($(!0),V(Re,null,it(le(_n),m=>($(),V("li",null,oe(m),1))),256))])])])):re("",!0)],64))}});const vl=Ce(Qb,[["__scopeId","data-v-17851edb"]]),Xb={},eE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},tE=v("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),nE=v("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),sE=[tE,nE];function rE(e,t){return $(),V("svg",eE,sE)}const oE=Ce(Xb,[["render",rE]]),iE={class:"show-images"},aE={class:"show-images__field"},lE=["checked"],cE=v("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),uE=Oe({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=Es("router-link");return $(),V("div",iE,[v("span",aE,[v("input",{onChange:o[0]||(o[0]=a=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,lE),cE]),v("small",null,[ke(" ("),ve(i,{to:{path:"/help",hash:"#privacy"}},{default:Qe(()=>[ke("Exposes your IP")]),_:1}),ke(")")])])}}});const Tt=e=>(It("data-v-bad8df20"),e=e(),At(),e),fE=Tt(()=>v("h4",null,"Images:",-1)),dE={class:"show-images"},hE=Tt(()=>v("h4",null,"Your relays:",-1)),pE={class:"error"},gE={class:"relays"},yE={class:"relay"},vE={class:"actions"},_E=["onChange","id","name","checked"],wE=["for"],mE=Tt(()=>v("span",{class:"actions__delimiter"}," | ",-1)),bE=["onClick"],EE=Tt(()=>v("span",{class:"actions__remove-label"},"remove",-1)),xE={key:0},RE={key:0},kE={key:1},SE=Tt(()=>v("h4",null,"Add relay:",-1)),$E={class:"add-relay"},CE={class:"error"},IE=Tt(()=>v("h4",null,"Your Keys:",-1)),AE={class:"keys"},PE={class:"key-block"},TE=Tt(()=>v("div",null," Public key: ",-1)),BE=Tt(()=>v("div",{class:"key-block__desc"},[v("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),NE={key:0,class:"key-block__code"},LE={key:1},UE={class:"key-block"},OE=Tt(()=>v("div",null," Private key: ",-1)),ME=Tt(()=>v("div",{class:"key-block__desc"},[v("small",null,[ke(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),v("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),HE={key:0,class:"key-block__code"},VE={key:1},mo="Updating relays error. Please reload the page and try again or write us about the issue.",FE=Oe({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Ls(),s=Bn(),r=Kr(),o=n.pool,i=Nn(),a=D(""),l=D(""),c=D(""),u=R=>{if(c.value="",!(s.nsec?s.nsec.trim():"").length){c.value="Please provide your private key.";return}let N,S;try{if(N=s.getPrivkeyBytes(),!N)throw new Error;if(S=s.getPubkey(),!S.length)throw new Error}catch{c.value="Invalid private key. Please check it and try again.";return}const F={kind:10002,pubkey:S,created_at:Math.floor(Date.now()/1e3),content:"",tags:R};return gt(F,N)},f=async(R,A)=>{c.value="",R.target.checked?i.addWriteRelay(A):i.removeWriteRelay(A);const S=i.nip65Tags,F=u(S);if(F)return await o.publish(i.allRelaysUrlsWithSelectedRelay,F);c.value.length||(c.value=mo)},d=async R=>{c.value="",i.removeUserRelay(R),t.handleRelayConnect(!0);const A=i.nip65Tags,N=u(A);if(N)return await o.publish(i.allRelaysUrlsWithSelectedRelay,N);c.value.length||(c.value=mo)},p=async()=>{let R="";c.value="",l.value="";try{R=Ts.normalizeURL(a.value)}catch{l.value="Invalid relay url.";return}i.addUserRelay(R),t.handleRelayConnect(!0),a.value="";const A=i.nip65Tags,N=u(A);if(N)return await o.publish(i.allRelaysUrlsWithSelectedRelay,N);c.value.length||(c.value=mo)},w=()=>{r.updateShowImages(!r.showImages)},y=()=>{if(!s.isValidNsecPresented())return;const R=s.getPubkey();navigator.clipboard.writeText(De.npubEncode(R))},_=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPubkey())},b=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkey())},E=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkeyHex())};return(R,A)=>($(),V(Re,null,[fE,v("div",dE,[ve(uE,{showImages:le(r).showImages,onToggleImages:w},null,8,["showImages"])]),hE,v("div",pE,oe(c.value),1),v("ul",gE,[($(!0),V(Re,null,it(le(i).userReadWriteRelays,(N,S)=>($(),V("li",yE,[ke(oe(N.url)+" ",1),v("div",vE,[v("input",{onChange:F=>f(F,N.url),class:"actions__checkbox",type:"checkbox",id:`write-${S}`,name:`write-${S}`,checked:N.type==="write"},null,40,_E),v("label",{class:"actions__label",for:`write-${S}`}," publish to relay",8,wE),mE,v("span",{onClick:()=>d(N.url),class:"actions__remove"},[ve(oE,{class:"trash-icon"}),EE],8,bE)])]))),256))]),le(i).userReadWriteRelays.length?re("",!0):($(),V("div",xE,[le(i).isConnectedToRelay?($(),V("span",RE,[ke(" The private key was not provided or the list with your relays was not found on "),v("b",null,oe(le(i).currentRelay.url),1)])):($(),V("span",kE," Please connect to a relay to see the list of your relays. "))])),SE,v("div",$E,[Dn(v("input",{"onUpdate:modelValue":A[0]||(A[0]=N=>a.value=N),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[Rs,a.value]]),v("button",{onClick:p,class:"add-relay__btn"},"Add")]),v("div",CE,oe(l.value),1),IE,v("div",AE,[v("div",PE,[TE,BE,v("div",null,[ke("  "),le(s).isValidNsecPresented()?($(),V("code",NE,oe(le(De).npubEncode(le(s).getPubkey())),1)):($(),V("span",LE,"Please login to get the key."))]),v("div",{class:"key-block__btns"},[v("button",{onClick:y}," Copy pubkey "),v("button",{onClick:_}," Copy hex ")])]),v("div",UE,[OE,ME,v("div",null,[ke("  "),le(s).isValidNsecPresented()?($(),V("code",HE," *************************************************************** ")):($(),V("span",VE,"Please login to get the key."))]),v("div",{class:"key-block__btns"},[v("button",{onClick:b}," Copy privkey "),v("button",{onClick:E}," Copy hex ")])])])],64))}});const jE=Ce(FE,[["__scopeId","data-v-bad8df20"]]),DE=[{path:"/feed",name:"Feed",components:{default:wo,messageInput:gl}},{path:"/message",name:"Message",components:{default:wo,signedEventInput:Wm}},{path:"/log",name:"Log",components:{default:wo,messageInput:gl}},{path:"/user",name:"User",component:vl,alias:["/event"]},{path:"/user/:id",component:vl,alias:["/event/:id"]},{path:"/help",name:"Help",component:yl},{path:"/",component:yl,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:jE}],qE=Gp({history:up(),routes:DE}),Us=e=>(It("data-v-fda1d94f"),e=e(),At(),e),KE={class:"relay-fields"},zE={class:"relay-fields__wrapper"},WE={class:"relay-fields__relay"},GE={class:"relay-fields__select-field"},JE=Us(()=>v("label",{class:"field-label_priv-key",for:"relays"},[v("strong",null,"Select relay")],-1)),ZE={class:"field-elements"},YE=["value"],QE=Us(()=>v("option",{value:"custom"},"custom url",-1)),XE={class:"message-fields__field"},e2=Us(()=>v("label",{for:"priv_key"},[v("strong",null,"Private key (optional)")],-1)),t2={class:"field-elements"},n2={class:"remember-me"},s2=Us(()=>v("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),r2={class:"error"},o2={key:0,class:"field"},i2=Us(()=>v("label",{for:"relay_url"},[v("strong",null,"Relay URL")],-1)),a2={class:"field-elements"},l2=Oe({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=Nn(),o=Bn(),i=D(!1),a=D(!1),l=Te(()=>r.currentRelay.connected?r.selectInputRelayUrl!==r.currentRelay.url:!0);r.setSelectedRelay(pl[0]);const c=_=>{const b=_.target.value;a.value=b==="custom",r.setSelectedRelay(b)};Pt(()=>{o.isValidNsecPresented()&&(i.value=!0)});const u=_=>{if(!o.isNsecValid()){i.value=!1;return}i.value=!0,o.rememberMe&&localStorage.setItem("privkey",o.nsec),r.isConnectedToRelay&&o.cachedNsec!==o.nsec&&s("relayConnect")},f=()=>{const _=Hy();o.updateNsec(De.nsecEncode(_)),i.value=!0},d=()=>{o.updateNsec(""),localStorage.removeItem("privkey"),i.value=!1,r.isConnectedToRelay&&r.userReadWriteRelays.length&&(s("relayDisconnect"),s("relayConnect"))},p=()=>{o.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",o.nsec)):localStorage.clear()},w=()=>{s("relayConnect")},y=()=>{s("relayDisconnect")};return(_,b)=>($(),V(Re,null,[v("p",KE,[v("div",zE,[v("div",WE,[v("div",GE,[JE,v("div",ZE,[v("select",{class:"select-relay__select",onChange:c,name:"relays",id:"relays"},[($(!0),V(Re,null,it(le(pl),E=>($(),V("option",{value:E},oe(E),9,YE))),256)),QE],32),l.value?($(),V("button",{key:0,onClick:w,class:"select-relay__btn"},oe(le(r).isConnectingToRelay?"Connecting...":"Connect"),1)):($(),V("button",{key:1,onClick:y,class:"select-relay__btn"}," Disconnect "))])])]),v("div",XE,[e2,v("div",t2,[Dn(v("input",{onInput:u,"onUpdate:modelValue":b[0]||(b[0]=E=>le(o).nsec=E),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[Rs,le(o).nsec]]),i.value?re("",!0):($(),V("button",{key:0,onClick:f,class:"random-key-btn"},"Random")),i.value?($(),V("button",{key:1,onClick:d,class:"random-key-btn"},"Logout")):re("",!0)]),v("div",n2,[Dn(v("input",{onChange:p,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":b[1]||(b[1]=E=>le(o).rememberMe=E)},null,544),[[Ah,le(o).rememberMe]]),s2])])]),v("div",r2,oe(n.wsError),1)]),a.value?($(),V("div",o2,[i2,v("div",a2,[Dn(v("input",{"onUpdate:modelValue":b[2]||(b[2]=E=>le(r).selectInputCustomRelayUrl=E),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[Rs,le(r).selectInputCustomRelayUrl]])])])):re("",!0)],64))}});const c2=Ce(l2,[["__scopeId","data-v-fda1d94f"]]),u2={class:"tabs"},f2=Oe({__name:"App",setup(e){const t=Ar(),n=As(),s=qr(),r=Bn(),o=Nn(),i=zr(),a=Ls(),l=a.pool;let c,u;const f=localStorage.getItem("rememberMe")==="true";r.setRememberMe(f);const d=f?localStorage.getItem("privkey"):"";r.updateNsec(d||"");const p=D([]),w=new Set,y=new Set;let _=D([]),b=D(0),E=D(""),R=D("");const A=D([]),N=D(""),S=D(""),F=D(""),M=D(!1),q=Te(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),W=C=>{A.value.unshift(C)},L=async()=>{var j,m;const C=o.connectedReedRelayUrls;if(!C.length)return;const B=i.newEventsToShow;if(B.length<2)return;const J=B[B.length-1].pubkey,X=B[B.length-2].pubkey,G={kinds:[0],authors:[J],limit:1},ge={kinds:[0],authors:[X],limit:1},ue=await l.querySync(C,G),ee=await l.querySync(C,ge);u&&(!((j=ue[0])!=null&&j.content)||!((m=ee[0])!=null&&m.content)||(E.value=JSON.parse(ue[0].content).picture,R.value=JSON.parse(ee[0].content).picture,i.setNewEventsBadgeImageUrls([E.value,R.value]),b.value=B.length,i.setNewEventsBadgeCount(B.length),i.setShowNewEventsBadge(!0)))},Q=C=>new Promise(B=>setTimeout(B,C)),ae=(C,B,J)=>new Promise(X=>{const G=[];let ge,ue=J;if(J&&J.length&&J[0].limit){let{limit:j,...m}=J[0];ue=[m],ge=j}const ee=C.subscribeMany(B,ue,{onevent(j){const m=ze.parse(j);m.reply||m.root||(G.push(j),ge&&G.length>=ge&&(X(G.slice(0,ge)),ee.close()))},oneose(){ee.close()}})});async function de(C=!1){if(o.isConnectingToRelay)return;let B=o.selectInputRelayUrl;if(B==="custom"){const T=o.selectInputCustomRelayUrl;B=T.length?Ts.normalizeURL(T):""}if(!B.length)return;if(r.isNotValidNsecPresented()){N.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!C&&o.currentRelay.connected&&(o.currentRelay.close(),W([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),c&&c.close(),u&&(clearInterval(u),u=0),C||(o.setReedRelays([]),o.setWriteRelays([]));let J;if(!C){try{o.setConnectionToRelayStatus(!0);try{J=await Yo.connect(B)}catch{await Q(500),J=await Yo.connect(B)}N.value=""}catch{let P=`WebSocket connection to "${B}" failed. You can try again. `;navigator.onLine?P+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":P+="Or check your internet connection.",N.value=P,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(J),W([{type:"text",value:"connected to "},{type:"bold",value:J.url}]),r.isNotValidNsecPresented()&&(N.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const T=r.getPubkey(),K=await b1(J,[{kinds:[10002],limit:1,authors:[T]}],3e3);if(K&&K.tags.length){const{read:ie,write:he}=rf(K);o.setReedRelays(ie),o.setWriteRelays(he)}}}i.setShowNewEventsBadge(!1),_.value=[],i.updateNewEventsToShow([]),a.resetPool();const X=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async P=>{const K=await vo(P);return{url:P,connected:K}}))).forEach(P=>{if(C&&!o.reedRelays.includes(P.url)||(P.connected&&X.push(P.url),(J==null?void 0:J.url)===P.url))return;const K=P.connected?"connected to ":"failed to connect to ";W([{type:"text",value:K},{type:"bold",value:P.url}])});const G=X.length?X:[B],ue=await ae(l,G,[{kinds:[1],limit:$n}]),ee=ue.map(T=>T.pubkey),j=await l.querySync(G,{kinds:[0],authors:ee});let m=xt(ue,j);await Mt(m,G,l),w.clear(),i.updatePaginationEventsIds([]),m.forEach(T=>{w.add(T.id),i.pushToPaginationEventsIds(T.id)}),p.value=m,i.updateEvents(m),o.setConnectedReedRelayUrls(G),o.setConnectionToRelayStatus(!1),c=l.subscribeMany(G,[{kinds:[1],limit:1}],{onevent(T){if(w.has(T.id))return;const P=ze.parse(T);P.reply||P.root||(_.value.push({id:T.id,pubkey:T.pubkey}),i.pushToNewEventsToShow({id:T.id,pubkey:T.pubkey}))}}),u=setInterval(L,3e3)}const H=async()=>{const C=o.connectedReedRelayUrls;if(!C.length)return;t.push({path:`${n.path}`});let B=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(m=>!B.includes(m)));const J=B.map(m=>m.id),X=$n;i.updatePaginationEventsIds(i.paginationEventsIds.concat(J));const G=i.paginationEventsIds.slice(-X),ge=await l.querySync(C,{ids:G}),ue=ge.map(m=>m.pubkey),ee=await l.querySync(C,{kinds:[0],authors:ue});let j=xt(ge,ee);await Mt(j,C,l),j.forEach(m=>w.add(m.id)),i.updateEvents(j),i.setShowNewEventsBadge(!1),W([{type:"text",value:`loaded ${B.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedRelaysPrettyStr}])},x=async(C,B)=>{let J=o.writeRelays;if(B==="json"){const j=o.additionalRelaysUrlsForSignedEvent;let m=[];if(j.length){let T="Can't connect to these relays: ",P=!1;for(const ie of j)if(ie!=null&&ie.length){if(!await vo(ie)){P=!0,T+=`${ie}, `;continue}m.push(ie)}const K=o.currentRelay.url;if(await vo(K)||(P=!0,T+=`${K}`),P){T+=". Relays are unavailable or you are offline.",S.value=T,M.value=!1;return}}J=[o.currentRelay.url,...m],J=[...new Set(J)]}if(M.value)return;M.value=!0;const X=o.connectedReedRelayUrls;let G=null;if(X.length){const j=[{kinds:[1],ids:[C.id],limit:1}];G=l.subscribeMany(X,j,{async onevent(m){const T=setInterval(async()=>{_.value.some(P=>P.id==m.id)&&(clearInterval(T),await H(),G==null||G.close())},100)}})}const ge=await of(J,l,C);ge.forEach(j=>{j.success?W([{type:"text",value:" new event broadcasted to "},{type:"bold",value:j.relay}]):W([{type:"text",value:" failed to publish to "},{type:"bold",value:j.relay}])}),ge.every(j=>j.success===!1)&&B==="json"&&X.length&&(G==null||G.close()),ge.some(j=>j.success===!1)||(B==="text"&&i.updateMessageToBroadcast(""),B==="json"&&i.updateSignedJson("")),M.value=!1},I=()=>{if(!o.isConnectedToRelay)return;clearInterval(u),i.setShowNewEventsBadge(!1),_.value=[],i.updateNewEventsToShow([]);const C=o.currentRelay;C.close(),c==null||c.close(),o.setConnectedReedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),W([{type:"text",value:"disconnected from "},{type:"bold",value:C.url}])};return(C,B)=>{const J=Es("router-link"),X=Es("router-view");return $(),V(Re,null,[ve(c2,{onRelayConnect:de,onRelayDisconnect:I,wsError:N.value},null,8,["wsError"]),v("div",u2,[ve(J,{class:"tab-link",to:"/feed"},{default:Qe(()=>[ke("Feed")]),_:1}),ve(J,{class:"tab-link",to:q.value},{default:Qe(()=>[ke("User")]),_:1},8,["to"]),ve(J,{class:"tab-link",to:"/message"},{default:Qe(()=>[ke("Message")]),_:1}),ve(J,{class:"tab-link",to:"/help"},{default:Qe(()=>[ke("Help")]),_:1}),ve(J,{class:"tab-link",to:"/log"},{default:Qe(()=>[ke("Log")]),_:1}),ve(J,{class:"tab-link",to:"/settings"},{default:Qe(()=>[ke("Settings")]),_:1})]),ve(X,{name:"messageInput",onBroadcastEvent:x,isSendingMessage:M.value,sentEventIds:le(y),broadcastNotice:F.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),ve(X,{name:"signedEventInput",onBroadcastEvent:x,isSendingMessage:M.value,broadcastError:S.value},null,8,["isSendingMessage","broadcastError"]),ve(X,{onLoadNewRelayEvents:H,handleRelayConnect:de,eventsLog:A.value},null,8,["eventsLog"])],64)}}});const d2=Ce(f2,[["__scopeId","data-v-38b99887"]]),h2=Uh(d2),p2=Vh();h2.use(qE).use(p2).mount("#app");
//# sourceMappingURL=main.js.map
