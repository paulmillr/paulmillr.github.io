var Uf=Object.defineProperty;var Of=(e,t,n)=>t in e?Uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>(Of(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mf(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Hf=()=>{},Ff=Object.prototype.hasOwnProperty,er=(e,t)=>Ff.call(e,t),ln=Array.isArray,Gs=e=>Il(e)==="[object Map]",jf=e=>typeof e=="function",Vf=e=>typeof e=="string",yr=e=>typeof e=="symbol",vr=e=>e!==null&&typeof e=="object",Df=Object.prototype.toString,Il=e=>Df.call(e),qf=e=>Il(e).slice(8,-1),ri=e=>Vf(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ns=(e,t)=>!Object.is(e,t),Kf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class Pl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Tl(e){return new Pl(e)}function zf(e,t=rt){t&&t.active&&t.effects.push(e)}function Ll(){return rt}function Wf(e){rt&&rt.cleanups.push(e)}let $n;class oi{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,zf(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Gf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Bn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=cn,n=$n;try{return cn=!0,$n=this,this._runnings++,na(this),this.fn()}finally{sa(this),this._runnings--,$n=n,cn=t}}stop(){var t;this.active&&(na(this),sa(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Gf(e){return e.value}function na(e){e._trackId++,e._depsLength=0}function sa(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Nl(e.deps[t],e);e.deps.length=e._depsLength}}function Nl(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let cn=!0,$o=0;const Bl=[];function Nn(){Bl.push(cn),cn=!1}function Bn(){const e=Bl.pop();cn=e===void 0?!0:e}function ii(){$o++}function ai(){for($o--;!$o&&Co.length;)Co.shift()()}function Ul(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Nl(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Co=[];function Ol(e,t,n){ii();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&Co.push(s.scheduler)))}ai()}const Ml=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},tr=new WeakMap,Cn=Symbol(""),Ao=Symbol("");function tt(e,t,n){if(cn&&$n){let s=tr.get(e);s||tr.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Ml(()=>s.delete(n))),Ul($n,r)}}function Ht(e,t,n,s,r,o){const i=tr.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&ln(e)){const l=Number(s);i.forEach((c,u)=>{(u==="length"||!yr(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":ln(e)?ri(n)&&a.push(i.get("length")):(a.push(i.get(Cn)),Gs(e)&&a.push(i.get(Ao)));break;case"delete":ln(e)||(a.push(i.get(Cn)),Gs(e)&&a.push(i.get(Ao)));break;case"set":Gs(e)&&a.push(i.get(Cn));break}ii();for(const l of a)l&&Ol(l,4);ai()}function Jf(e,t){var n;return(n=tr.get(e))==null?void 0:n.get(t)}const Zf=Mf("__proto__,__v_isRef,__isVue"),Hl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yr)),ra=Yf();function Yf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=be(this);for(let o=0,i=this.length;o<i;o++)tt(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(be)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),ii();const s=be(this)[t].apply(this,n);return ai(),Bn(),s}}),e}function Qf(e){const t=be(this);return tt(t,"has",e),t.hasOwnProperty(e)}class Fl{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const r=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?fd:ql:o?Dl:Vl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=ln(t);if(!r){if(i&&er(ra,n))return Reflect.get(ra,n,s);if(n==="hasOwnProperty")return Qf}const a=Reflect.get(t,n,s);return(yr(n)?Hl.has(n):Zf(n))||(r||tt(t,"get",n),o)?a:He(a)?i&&ri(n)?a:a.value:vr(a)?r?zl(a):ss(a):a}}class jl extends Fl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._shallow){const l=Wn(o);if(!nr(s)&&!Wn(s)&&(o=be(o),s=be(s)),!ln(t)&&He(o)&&!He(s))return l?!1:(o.value=s,!0)}const i=ln(t)&&ri(n)?Number(n)<t.length:er(t,n),a=Reflect.set(t,n,s,r);return t===be(r)&&(i?ns(s,o)&&Ht(t,"set",n,s):Ht(t,"add",n,s)),a}deleteProperty(t,n){const s=er(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ht(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!yr(n)||!Hl.has(n))&&tt(t,"has",n),s}ownKeys(t){return tt(t,"iterate",ln(t)?"length":Cn),Reflect.ownKeys(t)}}class Xf extends Fl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ed=new jl,td=new Xf,nd=new jl(!0),li=e=>e,_r=e=>Reflect.getPrototypeOf(e);function Hs(e,t,n=!1,s=!1){e=e.__v_raw;const r=be(e),o=be(t);n||(ns(t,o)&&tt(r,"get",t),tt(r,"get",o));const{has:i}=_r(r),a=s?li:n?fi:bs;if(i.call(r,t))return a(e.get(t));if(i.call(r,o))return a(e.get(o));e!==r&&e.get(t)}function Fs(e,t=!1){const n=this.__v_raw,s=be(n),r=be(e);return t||(ns(e,r)&&tt(s,"has",e),tt(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function js(e,t=!1){return e=e.__v_raw,!t&&tt(be(e),"iterate",Cn),Reflect.get(e,"size",e)}function oa(e){e=be(e);const t=be(this);return _r(t).has.call(t,e)||(t.add(e),Ht(t,"add",e,e)),this}function ia(e,t){t=be(t);const n=be(this),{has:s,get:r}=_r(n);let o=s.call(n,e);o||(e=be(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?ns(t,i)&&Ht(n,"set",e,t):Ht(n,"add",e,t),this}function aa(e){const t=be(this),{has:n,get:s}=_r(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&Ht(t,"delete",e,void 0),o}function la(){const e=be(this),t=e.size!==0,n=e.clear();return t&&Ht(e,"clear",void 0,void 0),n}function Vs(e,t){return function(s,r){const o=this,i=o.__v_raw,a=be(i),l=t?li:e?fi:bs;return!e&&tt(a,"iterate",Cn),i.forEach((c,u)=>s.call(r,l(c),l(u),o))}}function Ds(e,t,n){return function(...s){const r=this.__v_raw,o=be(r),i=Gs(o),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=r[e](...s),u=n?li:t?fi:bs;return!t&&tt(o,"iterate",l?Ao:Cn),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function zt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(){const e={get(o){return Hs(this,o)},get size(){return js(this)},has:Fs,add:oa,set:ia,delete:aa,clear:la,forEach:Vs(!1,!1)},t={get(o){return Hs(this,o,!1,!0)},get size(){return js(this)},has:Fs,add:oa,set:ia,delete:aa,clear:la,forEach:Vs(!1,!0)},n={get(o){return Hs(this,o,!0)},get size(){return js(this,!0)},has(o){return Fs.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!1)},s={get(o){return Hs(this,o,!0,!0)},get size(){return js(this,!0)},has(o){return Fs.call(this,o,!0)},add:zt("add"),set:zt("set"),delete:zt("delete"),clear:zt("clear"),forEach:Vs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Ds(o,!1,!1),n[o]=Ds(o,!0,!1),t[o]=Ds(o,!1,!0),s[o]=Ds(o,!0,!0)}),[e,n,t,s]}const[rd,od,id,ad]=sd();function ci(e,t){const n=t?e?ad:id:e?od:rd;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(er(n,r)&&r in s?n:s,r,o)}const ld={get:ci(!1,!1)},cd={get:ci(!1,!0)},ud={get:ci(!0,!1)},Vl=new WeakMap,Dl=new WeakMap,ql=new WeakMap,fd=new WeakMap;function dd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hd(e){return e.__v_skip||!Object.isExtensible(e)?0:dd(qf(e))}function ss(e){return Wn(e)?e:ui(e,!1,ed,ld,Vl)}function Kl(e){return ui(e,!1,nd,cd,Dl)}function zl(e){return ui(e,!0,td,ud,ql)}function ui(e,t,n,s,r){if(!vr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=hd(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return r.set(e,a),a}function un(e){return Wn(e)?un(e.__v_raw):!!(e&&e.__v_isReactive)}function Wn(e){return!!(e&&e.__v_isReadonly)}function nr(e){return!!(e&&e.__v_isShallow)}function Wl(e){return un(e)||Wn(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function wr(e){return Object.isExtensible(e)&&Kf(e,"__v_skip",!0),e}const bs=e=>vr(e)?ss(e):e,fi=e=>vr(e)?zl(e):e;class Gl{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new oi(()=>t(this._value),()=>Js(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=be(this);return(!t._cacheable||t.effect.dirty)&&ns(t._value,t._value=t.effect.run())&&Js(t,4),Jl(t),t.effect._dirtyLevel>=2&&Js(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function pd(e,t,n=!1){let s,r;const o=jf(e);return o?(s=e,r=Hf):(s=e.get,r=e.set),new Gl(s,r,o||!r,n)}function Jl(e){var t;cn&&$n&&(e=be(e),Ul($n,(t=e.dep)!=null?t:e.dep=Ml(()=>e.dep=void 0,e instanceof Gl?e:void 0)))}function Js(e,t=4,n){e=be(e);const s=e.dep;s&&Ol(s,t)}function He(e){return!!(e&&e.__v_isRef===!0)}function K(e){return Zl(e,!1)}function gd(e){return Zl(e,!0)}function Zl(e,t){return He(e)?e:new yd(e,t)}class yd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:be(t),this._value=n?t:bs(t)}get value(){return Jl(this),this._value}set value(t){const n=this.__v_isShallow||nr(t)||Wn(t);t=n?t:be(t),ns(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:bs(t),Js(this,4))}}function ie(e){return He(e)?e.value:e}const vd={get:(e,t,n)=>ie(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Yl(e){return un(e)?e:new Proxy(e,vd)}function _d(e){const t=ln(e)?new Array(e.length):{};for(const n in e)t[n]=md(e,n);return t}class wd{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jf(be(this._object),this._key)}}function md(e,t,n){const s=e[t];return He(s)?s:new wd(e,t,n)}/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bd(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Pe={},Dn=[],lt=()=>{},Ed=()=>!1,di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ql=e=>e.startsWith("onUpdate:"),Je=Object.assign,hi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xd=Object.prototype.hasOwnProperty,ke=(e,t)=>xd.call(e,t),me=Array.isArray,Xl=e=>pi(e)==="[object Map]",ec=e=>pi(e)==="[object Set]",_e=e=>typeof e=="function",nt=e=>typeof e=="string",tc=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",nc=e=>(Oe(e)||_e(e))&&_e(e.then)&&_e(e.catch),sc=Object.prototype.toString,pi=e=>sc.call(e),rc=e=>pi(e)==="[object Object]",hs=bd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Rd=/-(\w)/g,It=mr(e=>e.replace(Rd,(t,n)=>n?n.toUpperCase():"")),Sd=/\B([A-Z])/g,br=mr(e=>e.replace(Sd,"-$1").toLowerCase()),gi=mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),to=mr(e=>e?`on${gi(e)}`:""),ca=(e,t)=>!Object.is(e,t),no=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Io=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},kd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ua;const oc=()=>ua||(ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yi(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=nt(s)?Id(s):yi(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(nt(e)||Oe(e))return e}const $d=/;(?![^(]*\))/g,Cd=/:([^]+)/,Ad=/\/\*[^]*?\*\//g;function Id(e){const t={};return e.replace(Ad,"").split($d).forEach(n=>{if(n){const s=n.split(Cd);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(nt(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ae=e=>nt(e)?e:e==null?"":me(e)||Oe(e)&&(e.toString===sc||!_e(e.toString))?JSON.stringify(e,ic,2):String(e),ic=(e,t)=>t&&t.__v_isRef?ic(e,t.value):Xl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[so(s,o)+" =>"]=r,n),{})}:ec(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>so(n))}:tc(t)?so(t):Oe(t)&&!me(t)&&!rc(t)?String(t):t,so=(e,t="")=>{var n;return tc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fn(e,t,n,s){try{return s?e(...s):e()}catch(r){Er(r,t,n)}}function ht(e,t,n,s){if(_e(e)){const o=fn(e,t,n,s);return o&&nc(o)&&o.catch(i=>{Er(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(ht(e[o],t,n,s));return r}function Er(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){fn(l,null,10,[e,i,a]);return}}Pd(e,n,r,s)}function Pd(e,t,n,s=!0){console.error(e)}let Es=!1,Po=!1;const ze=[];let kt=0;const qn=[];let en=null,xn=0;const ac=Promise.resolve();let vi=null;function xr(e){const t=vi||ac;return e?t.then(this?e.bind(this):e):t}function Td(e){let t=kt+1,n=ze.length;for(;t<n;){const s=t+n>>>1,r=ze[s],o=xs(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function _i(e){(!ze.length||!ze.includes(e,Es&&e.allowRecurse?kt+1:kt))&&(e.id==null?ze.push(e):ze.splice(Td(e.id),0,e),lc())}function lc(){!Es&&!Po&&(Po=!0,vi=ac.then(uc))}function Ld(e){const t=ze.indexOf(e);t>kt&&ze.splice(t,1)}function Nd(e){me(e)?qn.push(...e):(!en||!en.includes(e,e.allowRecurse?xn+1:xn))&&qn.push(e),lc()}function fa(e,t,n=Es?kt+1:0){for(;n<ze.length;n++){const s=ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s()}}}function cc(e){if(qn.length){const t=[...new Set(qn)].sort((n,s)=>xs(n)-xs(s));if(qn.length=0,en){en.push(...t);return}for(en=t,xn=0;xn<en.length;xn++)en[xn]();en=null,xn=0}}const xs=e=>e.id==null?1/0:e.id,Bd=(e,t)=>{const n=xs(e)-xs(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function uc(e){Po=!1,Es=!0,ze.sort(Bd);const t=lt;try{for(kt=0;kt<ze.length;kt++){const n=ze[kt];n&&n.active!==!1&&fn(n,null,14)}}finally{kt=0,ze.length=0,cc(),Es=!1,vi=null,(ze.length||qn.length)&&uc()}}function Ud(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Pe;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||Pe;d&&(r=n.map(p=>nt(p)?p.trim():p)),f&&(r=n.map(kd))}let a,l=s[a=to(t)]||s[a=to(It(t))];!l&&o&&(l=s[a=to(br(t))]),l&&ht(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ht(c,e,6,r)}}function fc(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},a=!1;if(!_e(e)){const l=c=>{const u=fc(c,t,!0);u&&(a=!0,Je(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Oe(e)&&s.set(e,null),null):(me(o)?o.forEach(l=>i[l]=null):Je(i,o),Oe(e)&&s.set(e,i),i)}function Rr(e,t){return!e||!di(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,br(t))||ke(e,t))}let Me=null,Sr=null;function sr(e){const t=Me;return Me=e,Sr=e&&e.type.__scopeId||null,t}function gt(e){Sr=e}function yt(){Sr=null}function Ye(e,t=Me,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Ea(-1);const o=sr(t);let i;try{i=e(...r)}finally{sr(o),s._d&&Ea(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ro(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:p,ctx:v,inheritAttrs:y}=e;let w,b;const E=sr(e);try{if(n.shapeFlag&4){const P=r||s,N=P;w=Rt(u.call(N,P,f,o,p,d,v)),b=l}else{const P=t;w=Rt(P.length>1?P(o,{attrs:l,slots:a,emit:c}):P(o,null)),b=t.props?l:Od(l)}}catch(P){ys.length=0,Er(P,e,1),w=ye(hn)}let k=w;if(b&&y!==!1){const P=Object.keys(b),{shapeFlag:N}=k;P.length&&N&7&&(i&&P.some(Ql)&&(b=Md(b,i)),k=Gn(k,b))}return n.dirs&&(k=Gn(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),w=k,sr(E),w}const Od=e=>{let t;for(const n in e)(n==="class"||n==="style"||di(n))&&((t||(t={}))[n]=e[n]);return t},Md=(e,t)=>{const n={};for(const s in e)(!Ql(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Hd(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?da(s,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!Rr(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?da(s,i,c):!0:!!i;return!1}function da(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Rr(n,o))return!0}return!1}function Fd({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const dc="components";function Rs(e,t){return Vd(dc,e,!0,t)||e}const jd=Symbol.for("v-ndc");function Vd(e,t,n=!0,s=!1){const r=Me||qe;if(r){const o=r.type;if(e===dc){const a=Bh(o,!1);if(a&&(a===t||a===It(t)||a===gi(It(t))))return o}const i=ha(r[e]||o[e],t)||ha(r.appContext[e],t);return!i&&s?o:i}}function ha(e,t){return e&&(e[t]||e[It(t)]||e[gi(It(t))])}const Dd=e=>e.__isSuspense;function qd(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Nd(e)}const Kd=Symbol.for("v-scx"),zd=()=>ct(Kd);function Wd(e,t){return wi(e,null,t)}const qs={};function At(e,t,n){return wi(e,t,n)}function wi(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:a}=Pe){if(t&&o){const C=t;t=(...F)=>{C(...F),N()}}const l=qe,c=C=>s===!0?C:Sn(C,s===!1?1:void 0);let u,f=!1,d=!1;if(He(e)?(u=()=>e.value,f=nr(e)):un(e)?(u=()=>c(e),f=!0):me(e)?(d=!0,f=e.some(C=>un(C)||nr(C)),u=()=>e.map(C=>{if(He(C))return C.value;if(un(C))return c(C);if(_e(C))return fn(C,l,2)})):_e(e)?t?u=()=>fn(e,l,2):u=()=>(p&&p(),ht(e,l,3,[v])):u=lt,t&&s){const C=u;u=()=>Sn(C())}let p,v=C=>{p=k.onStop=()=>{fn(C,l,4),p=k.onStop=void 0}},y;if(Ar)if(v=lt,t?n&&ht(t,l,3,[u(),d?[]:void 0,v]):u(),r==="sync"){const C=zd();y=C.__watcherHandles||(C.__watcherHandles=[])}else return lt;let w=d?new Array(e.length).fill(qs):qs;const b=()=>{if(!(!k.active||!k.dirty))if(t){const C=k.run();(s||f||(d?C.some((F,H)=>ca(F,w[H])):ca(C,w)))&&(p&&p(),ht(t,l,3,[C,w===qs?void 0:d&&w[0]===qs?[]:w,v]),w=C)}else k.run()};b.allowRecurse=!!t;let E;r==="sync"?E=b:r==="post"?E=()=>Qe(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),E=()=>_i(b));const k=new oi(u,lt,E),P=Ll(),N=()=>{k.stop(),P&&hi(P.effects,k)};return t?n?b():w=k.run():r==="post"?Qe(k.run.bind(k),l&&l.suspense):k.run(),y&&y.push(N),N}function Gd(e,t,n){const s=this.proxy,r=nt(e)?e.includes(".")?hc(s,e):()=>s[e]:e.bind(s,s);let o;_e(t)?o=t:(o=t.handler,n=t);const i=Ps(this),a=wi(r,o.bind(s),n);return i(),a}function hc(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Sn(e,t,n=0,s){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),He(e))Sn(e.value,t,n,s);else if(me(e))for(let r=0;r<e.length;r++)Sn(e[r],t,n,s);else if(ec(e)||Xl(e))e.forEach(r=>{Sn(r,t,n,s)});else if(rc(e))for(const r in e)Sn(e[r],t,n,s);return e}function An(e,t){if(Me===null)return e;const n=Ir(Me)||Me.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,a,l=Pe]=t[r];o&&(_e(o)&&(o={mounted:o,updated:o}),o.deep&&Sn(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function wn(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];o&&(a.oldValue=o[i].value);let l=a.dir[s];l&&(Nn(),ht(l,n,8,[e.el,a,e,t]),Bn())}}/*! #__NO_SIDE_EFFECTS__ */function Be(e,t){return _e(e)?(()=>Je({name:e.name},t,{setup:e}))():e}const ps=e=>!!e.type.__asyncLoader,pc=e=>e.type.__isKeepAlive;function Jd(e,t){gc(e,"a",t)}function Zd(e,t){gc(e,"da",t)}function gc(e,t,n=qe){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(kr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)pc(r.parent.vnode)&&Yd(s,t,n,r),r=r.parent}}function Yd(e,t,n,s){const r=kr(t,e,s,!0);vc(()=>{hi(s[t],r)},n)}function kr(e,t,n=qe,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Nn();const a=Ps(n),l=ht(t,n,e,i);return a(),Bn(),l});return s?r.unshift(o):r.push(o),o}}const Vt=e=>(t,n=qe)=>(!Ar||e==="sp")&&kr(e,(...s)=>t(...s),n),yc=Vt("bm"),Tt=Vt("m"),mi=Vt("bu"),Qd=Vt("u"),Xd=Vt("bum"),vc=Vt("um"),eh=Vt("sp"),th=Vt("rtg"),nh=Vt("rtc");function sh(e,t=qe){kr("ec",e,t)}function ot(e,t,n,s){let r;const o=n&&n[s];if(me(e)||nt(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(Oe(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,o&&o[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];r[a]=t(e[c],c,a,o&&o[a])}}else r=[];return n&&(n[s]=r),r}function rh(e,t,n={},s,r){if(Me.isCE||Me.parent&&ps(Me.parent)&&Me.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),A();const i=o&&_c(o(n)),a=Le(xe,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function _c(e){return e.some(t=>or(t)?!(t.type===hn||t.type===xe&&!_c(t.children)):!0)?e:null}const To=e=>e?Ic(e)?Ir(e)||e.proxy:To(e.parent):null,gs=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$emit:e=>e.emit,$options:e=>bi(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,_i(e.update)}),$nextTick:e=>e.n||(e.n=xr.bind(e.proxy)),$watch:e=>Gd.bind(e)}),oo=(e,t)=>e!==Pe&&!e.__isScriptSetup&&ke(e,t),oh={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=i[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(oo(s,t))return i[t]=1,s[t];if(r!==Pe&&ke(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&ke(c,t))return i[t]=3,o[t];if(n!==Pe&&ke(n,t))return i[t]=4,n[t];Lo&&(i[t]=0)}}const u=gs[t];let f,d;if(u)return t==="$attrs"&&tt(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==Pe&&ke(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,ke(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return oo(r,t)?(r[t]=n,!0):s!==Pe&&ke(s,t)?(s[t]=n,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let a;return!!n[i]||e!==Pe&&ke(e,i)||oo(t,i)||(a=o[0])&&ke(a,i)||ke(s,i)||ke(gs,i)||ke(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function pa(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lo=!0;function ih(e){const t=bi(e),n=e.proxy,s=e.ctx;Lo=!1,t.beforeCreate&&ga(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:v,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:E,destroyed:k,unmounted:P,render:N,renderTracked:C,renderTriggered:F,errorCaptured:H,serverPrefetch:Z,expose:ne,inheritAttrs:se,components:ue,directives:q,filters:V}=t;if(c&&ah(c,s,null),i)for(const S in i){const I=i[S];_e(I)&&(s[S]=I.bind(n))}if(r){const S=r.call(n,n);Oe(S)&&(e.data=ss(S))}if(Lo=!0,o)for(const S in o){const I=o[S],L=_e(I)?I.bind(n,n):_e(I.get)?I.get.bind(n,n):lt,X=!_e(I)&&_e(I.set)?I.set.bind(n):lt,re=$e({get:L,set:X});Object.defineProperty(s,S,{enumerable:!0,configurable:!0,get:()=>re.value,set:z=>re.value=z})}if(a)for(const S in a)wc(a[S],s,n,S);if(l){const S=_e(l)?l.call(n):l;Reflect.ownKeys(S).forEach(I=>{Zs(I,S[I])})}u&&ga(u,e,"c");function x(S,I){me(I)?I.forEach(L=>S(L.bind(n))):I&&S(I.bind(n))}if(x(yc,f),x(Tt,d),x(mi,p),x(Qd,v),x(Jd,y),x(Zd,w),x(sh,H),x(nh,C),x(th,F),x(Xd,E),x(vc,P),x(eh,Z),me(ne))if(ne.length){const S=e.exposed||(e.exposed={});ne.forEach(I=>{Object.defineProperty(S,I,{get:()=>n[I],set:L=>n[I]=L})})}else e.exposed||(e.exposed={});N&&e.render===lt&&(e.render=N),se!=null&&(e.inheritAttrs=se),ue&&(e.components=ue),q&&(e.directives=q)}function ah(e,t,n=lt){me(e)&&(e=No(e));for(const s in e){const r=e[s];let o;Oe(r)?"default"in r?o=ct(r.from||s,r.default,!0):o=ct(r.from||s):o=ct(r),He(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function ga(e,t,n){ht(me(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function wc(e,t,n,s){const r=s.includes(".")?hc(n,s):()=>n[s];if(nt(e)){const o=t[e];_e(o)&&At(r,o)}else if(_e(e))At(r,e.bind(n));else if(Oe(e))if(me(e))e.forEach(o=>wc(o,t,n,s));else{const o=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(o)&&At(r,o,e)}}function bi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>rr(l,c,i,!0)),rr(l,t,i)),Oe(t)&&o.set(t,l),l}function rr(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&rr(e,o,n,!0),r&&r.forEach(i=>rr(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=lh[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const lh={data:ya,props:va,emits:va,methods:ds,computed:ds,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:ds,directives:ds,watch:uh,provide:ya,inject:ch};function ya(e,t){return t?e?function(){return Je(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function ch(e,t){return ds(No(e),No(t))}function No(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function ds(e,t){return e?Je(Object.create(null),e,t):t}function va(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Je(Object.create(null),pa(e),pa(t??{})):t}function uh(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const s in t)n[s]=Ze(e[s],t[s]);return n}function mc(){return{app:null,config:{isNativeTag:Ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fh=0;function dh(e,t){return function(s,r=null){_e(s)||(s=Je({},s)),r!=null&&!Oe(r)&&(r=null);const o=mc(),i=new WeakSet;let a=!1;const l=o.app={_uid:fh++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Oh,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&_e(c.install)?(i.add(c),c.install(l,...u)):_e(c)&&(i.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!a){const d=ye(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Ir(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=Kn;Kn=l;try{return c()}finally{Kn=u}}};return l}}let Kn=null;function Zs(e,t){if(qe){let n=qe.provides;const s=qe.parent&&qe.parent.provides;s===n&&(n=qe.provides=Object.create(s)),n[e]=t}}function ct(e,t,n=!1){const s=qe||Me;if(s||Kn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Kn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function hh(){return!!(qe||Me||Kn)}function ph(e,t,n,s=!1){const r={},o={};Io(o,Cr,1),e.propsDefaults=Object.create(null),bc(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Kl(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function gh(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,a=be(r),[l]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Rr(e.emitsOptions,d))continue;const p=t[d];if(l)if(ke(o,d))p!==o[d]&&(o[d]=p,c=!0);else{const v=It(d);r[v]=Bo(l,a,v,p,e,!1)}else p!==o[d]&&(o[d]=p,c=!0)}}}else{bc(e,t,r,o)&&(c=!0);let u;for(const f in a)(!t||!ke(t,f)&&((u=br(f))===f||!ke(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Bo(l,a,f,void 0,e,!0)):delete r[f]);if(o!==a)for(const f in o)(!t||!ke(t,f))&&(delete o[f],c=!0)}c&&Ht(e,"set","$attrs")}function bc(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(hs(l))continue;const c=t[l];let u;r&&ke(r,u=It(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Rr(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,i=!0)}if(o){const l=be(n),c=a||Pe;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Bo(r,l,f,c[f],e,!ke(c,f))}}return i}function Bo(e,t,n,s,r,o){const i=e[n];if(i!=null){const a=ke(i,"default");if(a&&s===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&_e(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Ps(r);s=c[n]=l.call(null,t),u()}}else s=l}i[0]&&(o&&!a?s=!1:i[1]&&(s===""||s===br(n))&&(s=!0))}return s}function Ec(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},a=[];let l=!1;if(!_e(e)){const u=f=>{l=!0;const[d,p]=Ec(f,t,!0);Je(i,d),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return Oe(e)&&s.set(e,Dn),Dn;if(me(o))for(let u=0;u<o.length;u++){const f=It(o[u]);_a(f)&&(i[f]=Pe)}else if(o)for(const u in o){const f=It(u);if(_a(f)){const d=o[u],p=i[f]=me(d)||_e(d)?{type:d}:Je({},d);if(p){const v=ba(Boolean,p.type),y=ba(String,p.type);p[0]=v>-1,p[1]=y<0||v<y,(v>-1||ke(p,"default"))&&a.push(f)}}}const c=[i,a];return Oe(e)&&s.set(e,c),c}function _a(e){return e[0]!=="$"&&!hs(e)}function wa(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function ma(e,t){return wa(e)===wa(t)}function ba(e,t){return me(t)?t.findIndex(n=>ma(n,e)):_e(t)&&ma(t,e)?0:-1}const xc=e=>e[0]==="_"||e==="$stable",Ei=e=>me(e)?e.map(Rt):[Rt(e)],yh=(e,t,n)=>{if(t._n)return t;const s=Ye((...r)=>Ei(t(...r)),n);return s._c=!1,s},Rc=(e,t,n)=>{const s=e._ctx;for(const r in e){if(xc(r))continue;const o=e[r];if(_e(o))t[r]=yh(r,o,s);else if(o!=null){const i=Ei(o);t[r]=()=>i}}},Sc=(e,t)=>{const n=Ei(t);e.slots.default=()=>n},vh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=be(t),Io(t,"_",n)):Rc(t,e.slots={})}else e.slots={},t&&Sc(e,t);Io(e.slots,Cr,1)},_h=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=Pe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Je(r,t),!n&&a===1&&delete r._):(o=!t.$stable,Rc(t,r)),i=t}else t&&(Sc(e,t),i={default:1});if(o)for(const a in r)!xc(a)&&i[a]==null&&delete r[a]};function Uo(e,t,n,s,r=!1){if(me(e)){e.forEach((d,p)=>Uo(d,t&&(me(t)?t[p]:t),n,s,r));return}if(ps(s)&&!r)return;const o=s.shapeFlag&4?Ir(s.component)||s.component.proxy:s.el,i=r?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Pe?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(nt(c)?(u[c]=null,ke(f,c)&&(f[c]=null)):He(c)&&(c.value=null)),_e(l))fn(l,a,12,[i,u]);else{const d=nt(l),p=He(l);if(d||p){const v=()=>{if(e.f){const y=d?ke(f,l)?f[l]:u[l]:l.value;r?me(y)&&hi(y,o):me(y)?y.includes(o)||y.push(o):d?(u[l]=[o],ke(f,l)&&(f[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else d?(u[l]=i,ke(f,l)&&(f[l]=i)):p&&(l.value=i,e.k&&(u[e.k]=i))};i?(v.id=-1,Qe(v,n)):v()}}}const Qe=qd;function wh(e){return mh(e)}function mh(e,t){const n=oc();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=lt,insertStaticContent:v}=e,y=(h,g,m,$=null,T=null,W=null,ee=void 0,j=null,G=!!g.dynamicChildren)=>{if(h===g)return;h&&!ls(h,g)&&($=R(h),z(h,T,W,!0),h=null),g.patchFlag===-2&&(G=!1,g.dynamicChildren=null);const{type:D,ref:te,shapeFlag:ce}=g;switch(D){case $r:w(h,g,m,$);break;case hn:b(h,g,m,$);break;case Ys:h==null&&E(g,m,$,ee);break;case xe:ue(h,g,m,$,T,W,ee,j,G);break;default:ce&1?N(h,g,m,$,T,W,ee,j,G):ce&6?q(h,g,m,$,T,W,ee,j,G):(ce&64||ce&128)&&D.process(h,g,m,$,T,W,ee,j,G,J)}te!=null&&T&&Uo(te,h&&h.ref,W,g||h,!g)},w=(h,g,m,$)=>{if(h==null)s(g.el=a(g.children),m,$);else{const T=g.el=h.el;g.children!==h.children&&c(T,g.children)}},b=(h,g,m,$)=>{h==null?s(g.el=l(g.children||""),m,$):g.el=h.el},E=(h,g,m,$)=>{[h.el,h.anchor]=v(h.children,g,m,$,h.el,h.anchor)},k=({el:h,anchor:g},m,$)=>{let T;for(;h&&h!==g;)T=d(h),s(h,m,$),h=T;s(g,m,$)},P=({el:h,anchor:g})=>{let m;for(;h&&h!==g;)m=d(h),r(h),h=m;r(g)},N=(h,g,m,$,T,W,ee,j,G)=>{g.type==="svg"?ee="svg":g.type==="math"&&(ee="mathml"),h==null?C(g,m,$,T,W,ee,j,G):Z(h,g,T,W,ee,j,G)},C=(h,g,m,$,T,W,ee,j)=>{let G,D;const{props:te,shapeFlag:ce,transition:de,dirs:ge}=h;if(G=h.el=i(h.type,W,te&&te.is,te),ce&8?u(G,h.children):ce&16&&H(h.children,G,null,$,T,io(h,W),ee,j),ge&&wn(h,null,$,"created"),F(G,h,h.scopeId,ee,$),te){for(const Ce in te)Ce!=="value"&&!hs(Ce)&&o(G,Ce,null,te[Ce],W,h.children,$,T,Y);"value"in te&&o(G,"value",null,te.value,W),(D=te.onVnodeBeforeMount)&&wt(D,$,h)}ge&&wn(h,null,$,"beforeMount");const we=bh(T,de);we&&de.beforeEnter(G),s(G,g,m),((D=te&&te.onVnodeMounted)||we||ge)&&Qe(()=>{D&&wt(D,$,h),we&&de.enter(G),ge&&wn(h,null,$,"mounted")},T)},F=(h,g,m,$,T)=>{if(m&&p(h,m),$)for(let W=0;W<$.length;W++)p(h,$[W]);if(T){let W=T.subTree;if(g===W){const ee=T.vnode;F(h,ee,ee.scopeId,ee.slotScopeIds,T.parent)}}},H=(h,g,m,$,T,W,ee,j,G=0)=>{for(let D=G;D<h.length;D++){const te=h[D]=j?tn(h[D]):Rt(h[D]);y(null,te,g,m,$,T,W,ee,j)}},Z=(h,g,m,$,T,W,ee)=>{const j=g.el=h.el;let{patchFlag:G,dynamicChildren:D,dirs:te}=g;G|=h.patchFlag&16;const ce=h.props||Pe,de=g.props||Pe;let ge;if(m&&mn(m,!1),(ge=de.onVnodeBeforeUpdate)&&wt(ge,m,g,h),te&&wn(g,h,m,"beforeUpdate"),m&&mn(m,!0),D?ne(h.dynamicChildren,D,j,m,$,io(g,T),W):ee||I(h,g,j,null,m,$,io(g,T),W,!1),G>0){if(G&16)se(j,g,ce,de,m,$,T);else if(G&2&&ce.class!==de.class&&o(j,"class",null,de.class,T),G&4&&o(j,"style",ce.style,de.style,T),G&8){const we=g.dynamicProps;for(let Ce=0;Ce<we.length;Ce++){const Te=we[Ce],Fe=ce[Te],ut=de[Te];(ut!==Fe||Te==="value")&&o(j,Te,Fe,ut,T,h.children,m,$,Y)}}G&1&&h.children!==g.children&&u(j,g.children)}else!ee&&D==null&&se(j,g,ce,de,m,$,T);((ge=de.onVnodeUpdated)||te)&&Qe(()=>{ge&&wt(ge,m,g,h),te&&wn(g,h,m,"updated")},$)},ne=(h,g,m,$,T,W,ee)=>{for(let j=0;j<g.length;j++){const G=h[j],D=g[j],te=G.el&&(G.type===xe||!ls(G,D)||G.shapeFlag&70)?f(G.el):m;y(G,D,te,null,$,T,W,ee,!0)}},se=(h,g,m,$,T,W,ee)=>{if(m!==$){if(m!==Pe)for(const j in m)!hs(j)&&!(j in $)&&o(h,j,m[j],null,ee,g.children,T,W,Y);for(const j in $){if(hs(j))continue;const G=$[j],D=m[j];G!==D&&j!=="value"&&o(h,j,D,G,ee,g.children,T,W,Y)}"value"in $&&o(h,"value",m.value,$.value,ee)}},ue=(h,g,m,$,T,W,ee,j,G)=>{const D=g.el=h?h.el:a(""),te=g.anchor=h?h.anchor:a("");let{patchFlag:ce,dynamicChildren:de,slotScopeIds:ge}=g;ge&&(j=j?j.concat(ge):ge),h==null?(s(D,m,$),s(te,m,$),H(g.children||[],m,te,T,W,ee,j,G)):ce>0&&ce&64&&de&&h.dynamicChildren?(ne(h.dynamicChildren,de,m,T,W,ee,j),(g.key!=null||T&&g===T.subTree)&&kc(h,g,!0)):I(h,g,m,te,T,W,ee,j,G)},q=(h,g,m,$,T,W,ee,j,G)=>{g.slotScopeIds=j,h==null?g.shapeFlag&512?T.ctx.activate(g,m,$,ee,G):V(g,m,$,T,W,ee,G):U(h,g,G)},V=(h,g,m,$,T,W,ee)=>{const j=h.component=Ih(h,$,T);if(pc(h)&&(j.ctx.renderer=J),Ph(j),j.asyncDep){if(T&&T.registerDep(j,x),!h.el){const G=j.subTree=ye(hn);b(null,G,g,m)}}else x(j,h,g,m,T,W,ee)},U=(h,g,m)=>{const $=g.component=h.component;if(Hd(h,g,m))if($.asyncDep&&!$.asyncResolved){S($,g,m);return}else $.next=g,Ld($.update),$.effect.dirty=!0,$.update();else g.el=h.el,$.vnode=g},x=(h,g,m,$,T,W,ee)=>{const j=()=>{if(h.isMounted){let{next:te,bu:ce,u:de,parent:ge,vnode:we}=h;{const Mn=$c(h);if(Mn){te&&(te.el=we.el,S(h,te,ee)),Mn.asyncDep.then(()=>{h.isUnmounted||j()});return}}let Ce=te,Te;mn(h,!1),te?(te.el=we.el,S(h,te,ee)):te=we,ce&&no(ce),(Te=te.props&&te.props.onVnodeBeforeUpdate)&&wt(Te,ge,te,we),mn(h,!0);const Fe=ro(h),ut=h.subTree;h.subTree=Fe,y(ut,Fe,f(ut.el),R(ut),h,T,W),te.el=Fe.el,Ce===null&&Fd(h,Fe.el),de&&Qe(de,T),(Te=te.props&&te.props.onVnodeUpdated)&&Qe(()=>wt(Te,ge,te,we),T)}else{let te;const{el:ce,props:de}=g,{bm:ge,m:we,parent:Ce}=h,Te=ps(g);if(mn(h,!1),ge&&no(ge),!Te&&(te=de&&de.onVnodeBeforeMount)&&wt(te,Ce,g),mn(h,!0),ce&&fe){const Fe=()=>{h.subTree=ro(h),fe(ce,h.subTree,h,T,null)};Te?g.type.__asyncLoader().then(()=>!h.isUnmounted&&Fe()):Fe()}else{const Fe=h.subTree=ro(h);y(null,Fe,m,$,h,T,W),g.el=Fe.el}if(we&&Qe(we,T),!Te&&(te=de&&de.onVnodeMounted)){const Fe=g;Qe(()=>wt(te,Ce,Fe),T)}(g.shapeFlag&256||Ce&&ps(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&h.a&&Qe(h.a,T),h.isMounted=!0,g=m=$=null}},G=h.effect=new oi(j,lt,()=>_i(D),h.scope),D=h.update=()=>{G.dirty&&G.run()};D.id=h.uid,mn(h,!0),D()},S=(h,g,m)=>{g.component=h;const $=h.vnode.props;h.vnode=g,h.next=null,gh(h,g.props,$,m),_h(h,g.children,m),Nn(),fa(h),Bn()},I=(h,g,m,$,T,W,ee,j,G=!1)=>{const D=h&&h.children,te=h?h.shapeFlag:0,ce=g.children,{patchFlag:de,shapeFlag:ge}=g;if(de>0){if(de&128){X(D,ce,m,$,T,W,ee,j,G);return}else if(de&256){L(D,ce,m,$,T,W,ee,j,G);return}}ge&8?(te&16&&Y(D,T,W),ce!==D&&u(m,ce)):te&16?ge&16?X(D,ce,m,$,T,W,ee,j,G):Y(D,T,W,!0):(te&8&&u(m,""),ge&16&&H(ce,m,$,T,W,ee,j,G))},L=(h,g,m,$,T,W,ee,j,G)=>{h=h||Dn,g=g||Dn;const D=h.length,te=g.length,ce=Math.min(D,te);let de;for(de=0;de<ce;de++){const ge=g[de]=G?tn(g[de]):Rt(g[de]);y(h[de],ge,m,null,T,W,ee,j,G)}D>te?Y(h,T,W,!0,!1,ce):H(g,m,$,T,W,ee,j,G,ce)},X=(h,g,m,$,T,W,ee,j,G)=>{let D=0;const te=g.length;let ce=h.length-1,de=te-1;for(;D<=ce&&D<=de;){const ge=h[D],we=g[D]=G?tn(g[D]):Rt(g[D]);if(ls(ge,we))y(ge,we,m,null,T,W,ee,j,G);else break;D++}for(;D<=ce&&D<=de;){const ge=h[ce],we=g[de]=G?tn(g[de]):Rt(g[de]);if(ls(ge,we))y(ge,we,m,null,T,W,ee,j,G);else break;ce--,de--}if(D>ce){if(D<=de){const ge=de+1,we=ge<te?g[ge].el:$;for(;D<=de;)y(null,g[D]=G?tn(g[D]):Rt(g[D]),m,we,T,W,ee,j,G),D++}}else if(D>de)for(;D<=ce;)z(h[D],T,W,!0),D++;else{const ge=D,we=D,Ce=new Map;for(D=we;D<=de;D++){const st=g[D]=G?tn(g[D]):Rt(g[D]);st.key!=null&&Ce.set(st.key,D)}let Te,Fe=0;const ut=de-we+1;let Mn=!1,Xi=0;const as=new Array(ut);for(D=0;D<ut;D++)as[D]=0;for(D=ge;D<=ce;D++){const st=h[D];if(Fe>=ut){z(st,T,W,!0);continue}let _t;if(st.key!=null)_t=Ce.get(st.key);else for(Te=we;Te<=de;Te++)if(as[Te-we]===0&&ls(st,g[Te])){_t=Te;break}_t===void 0?z(st,T,W,!0):(as[_t-we]=D+1,_t>=Xi?Xi=_t:Mn=!0,y(st,g[_t],m,null,T,W,ee,j,G),Fe++)}const ea=Mn?Eh(as):Dn;for(Te=ea.length-1,D=ut-1;D>=0;D--){const st=we+D,_t=g[st],ta=st+1<te?g[st+1].el:$;as[D]===0?y(null,_t,m,ta,T,W,ee,j,G):Mn&&(Te<0||D!==ea[Te]?re(_t,m,ta,2):Te--)}}},re=(h,g,m,$,T=null)=>{const{el:W,type:ee,transition:j,children:G,shapeFlag:D}=h;if(D&6){re(h.component.subTree,g,m,$);return}if(D&128){h.suspense.move(g,m,$);return}if(D&64){ee.move(h,g,m,J);return}if(ee===xe){s(W,g,m);for(let ce=0;ce<G.length;ce++)re(G[ce],g,m,$);s(h.anchor,g,m);return}if(ee===Ys){k(h,g,m);return}if($!==2&&D&1&&j)if($===0)j.beforeEnter(W),s(W,g,m),Qe(()=>j.enter(W),T);else{const{leave:ce,delayLeave:de,afterLeave:ge}=j,we=()=>s(W,g,m),Ce=()=>{ce(W,()=>{we(),ge&&ge()})};de?de(W,we,Ce):Ce()}else s(W,g,m)},z=(h,g,m,$=!1,T=!1)=>{const{type:W,props:ee,ref:j,children:G,dynamicChildren:D,shapeFlag:te,patchFlag:ce,dirs:de}=h;if(j!=null&&Uo(j,null,m,h,!0),te&256){g.ctx.deactivate(h);return}const ge=te&1&&de,we=!ps(h);let Ce;if(we&&(Ce=ee&&ee.onVnodeBeforeUnmount)&&wt(Ce,g,h),te&6)Q(h.component,m,$);else{if(te&128){h.suspense.unmount(m,$);return}ge&&wn(h,null,g,"beforeUnmount"),te&64?h.type.remove(h,g,m,T,J,$):D&&(W!==xe||ce>0&&ce&64)?Y(D,g,m,!1,!0):(W===xe&&ce&384||!T&&te&16)&&Y(G,g,m),$&&pe(h)}(we&&(Ce=ee&&ee.onVnodeUnmounted)||ge)&&Qe(()=>{Ce&&wt(Ce,g,h),ge&&wn(h,null,g,"unmounted")},m)},pe=h=>{const{type:g,el:m,anchor:$,transition:T}=h;if(g===xe){he(m,$);return}if(g===Ys){P(h);return}const W=()=>{r(m),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:ee,delayLeave:j}=T,G=()=>ee(m,W);j?j(h.el,W,G):G()}else W()},he=(h,g)=>{let m;for(;h!==g;)m=d(h),r(h),h=m;r(g)},Q=(h,g,m)=>{const{bum:$,scope:T,update:W,subTree:ee,um:j}=h;$&&no($),T.stop(),W&&(W.active=!1,z(ee,h,g,m)),j&&Qe(j,g),Qe(()=>{h.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Y=(h,g,m,$=!1,T=!1,W=0)=>{for(let ee=W;ee<h.length;ee++)z(h[ee],g,m,$,T)},R=h=>h.shapeFlag&6?R(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let M=!1;const O=(h,g,m)=>{h==null?g._vnode&&z(g._vnode,null,null,!0):y(g._vnode||null,h,g,null,null,null,m),M||(M=!0,fa(),cc(),M=!1),g._vnode=h},J={p:y,um:z,m:re,r:pe,mt:V,mc:H,pc:I,pbc:ne,n:R,o:e};let le,fe;return t&&([le,fe]=t(J)),{render:O,hydrate:le,createApp:dh(O,le)}}function io({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function mn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function kc(e,t,n=!1){const s=e.children,r=t.children;if(me(s)&&me(r))for(let o=0;o<s.length;o++){const i=s[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=tn(r[o]),a.el=i.el),n||kc(i,a)),a.type===$r&&(a.el=i.el)}}function Eh(e){const t=e.slice(),n=[0];let s,r,o,i,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<c?o=a+1:i=a;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function $c(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$c(t)}const xh=e=>e.__isTeleport,xe=Symbol.for("v-fgt"),$r=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),Ys=Symbol.for("v-stc"),ys=[];let dt=null;function A(e=!1){ys.push(dt=e?null:[])}function Rh(){ys.pop(),dt=ys[ys.length-1]||null}let Ss=1;function Ea(e){Ss+=e}function Cc(e){return e.dynamicChildren=Ss>0?dt||Dn:null,Rh(),Ss>0&&dt&&dt.push(e),e}function B(e,t,n,s,r,o){return Cc(_(e,t,n,s,r,o,!0))}function Le(e,t,n,s,r){return Cc(ye(e,t,n,s,r,!0))}function or(e){return e?e.__v_isVNode===!0:!1}function ls(e,t){return e.type===t.type&&e.key===t.key}const Cr="__vInternal",Ac=({key:e})=>e??null,Qs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||He(e)||_e(e)?{i:Me,r:e,k:t,f:!!n}:e:null);function _(e,t=null,n=null,s=0,r=null,o=e===xe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ac(t),ref:t&&Qs(t),scopeId:Sr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Me};return a?(Ri(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=nt(n)?8:16),Ss>0&&!i&&dt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&dt.push(l),l}const ye=Sh;function Sh(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===jd)&&(e=hn),or(e)){const a=Gn(e,t,!0);return n&&Ri(a,n),Ss>0&&!o&&dt&&(a.shapeFlag&6?dt[dt.indexOf(e)]=a:dt.push(a)),a.patchFlag|=-2,a}if(Uh(e)&&(e=e.__vccOpts),t){t=kh(t);let{class:a,style:l}=t;a&&!nt(a)&&(t.class=Ie(a)),Oe(l)&&(Wl(l)&&!me(l)&&(l=Je({},l)),t.style=yi(l))}const i=nt(e)?1:Dd(e)?128:xh(e)?64:Oe(e)?4:_e(e)?2:0;return _(e,t,n,s,r,i,o,!0)}function kh(e){return e?Wl(e)||Cr in e?Je({},e):e:null}function Gn(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,a=t?$h(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ac(a),ref:t&&t.ref?n&&r?me(r)?r.concat(Qs(t)):[r,Qs(t)]:Qs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gn(e.ssContent),ssFallback:e.ssFallback&&Gn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Re(e=" ",t=0){return ye($r,null,e,t)}function xi(e,t){const n=ye(Ys,null,e);return n.staticCount=t,n}function oe(e="",t=!1){return t?(A(),Le(hn,null,e)):ye(hn,null,e)}function Rt(e){return e==null||typeof e=="boolean"?ye(hn):me(e)?ye(xe,null,e.slice()):typeof e=="object"?tn(e):ye($r,null,String(e))}function tn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gn(e)}function Ri(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ri(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Cr in t)?t._ctx=Me:r===3&&Me&&(Me.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Me},n=32):(t=String(t),s&64?(n=16,t=[Re(t)]):n=8);e.children=t,e.shapeFlag|=n}function $h(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=yi([t.style,s.style]);else if(di(r)){const o=t[r],i=s[r];i&&o!==i&&!(me(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function wt(e,t,n,s=null){ht(e,t,7,[n,s])}const Ch=mc();let Ah=0;function Ih(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Ch,o={uid:Ah++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ec(s,r),emitsOptions:fc(s,r),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:s.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ud.bind(null,o),e.ce&&e.ce(o),o}let qe=null,ir,Oo;{const e=oc(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};ir=t("__VUE_INSTANCE_SETTERS__",n=>qe=n),Oo=t("__VUE_SSR_SETTERS__",n=>Ar=n)}const Ps=e=>{const t=qe;return ir(e),e.scope.on(),()=>{e.scope.off(),ir(t)}},xa=()=>{qe&&qe.scope.off(),ir(null)};function Ic(e){return e.vnode.shapeFlag&4}let Ar=!1;function Ph(e,t=!1){t&&Oo(t);const{props:n,children:s}=e.vnode,r=Ic(e);ph(e,n,r,t),vh(e,s);const o=r?Th(e,t):void 0;return t&&Oo(!1),o}function Th(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=wr(new Proxy(e.ctx,oh));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Nh(e):null,o=Ps(e);Nn();const i=fn(s,e,0,[e.props,r]);if(Bn(),o(),nc(i)){if(i.then(xa,xa),t)return i.then(a=>{Ra(e,a,t)}).catch(a=>{Er(a,e,0)});e.asyncDep=i}else Ra(e,i,t)}else Pc(e,t)}function Ra(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Yl(t)),Pc(e,n)}let Sa;function Pc(e,t,n){const s=e.type;if(!e.render){if(!t&&Sa&&!s.render){const r=s.template||bi(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Je(Je({isCustomElement:o,delimiters:a},i),l);s.render=Sa(r,c)}}e.render=s.render||lt}{const r=Ps(e);Nn();try{ih(e)}finally{Bn(),r()}}}function Lh(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tt(e,"get","$attrs"),t[n]}}))}function Nh(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Lh(e)},slots:e.slots,emit:e.emit,expose:t}}function Ir(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yl(wr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in gs)return gs[n](e)},has(t,n){return n in t||n in gs}}))}function Bh(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function Uh(e){return _e(e)&&"__vccOpts"in e}const $e=(e,t)=>pd(e,t,Ar);function Tc(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!me(t)?or(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&or(n)&&(n=[n]),ye(e,t,n))}const Oh="3.4.19";/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mh(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Hh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fh=e=>e.startsWith("onUpdate:"),jh=Object.assign,pn=Array.isArray,Pr=e=>Nc(e)==="[object Set]",ka=e=>Nc(e)==="[object Date]",Lc=e=>typeof e=="function",ar=e=>typeof e=="string",$a=e=>typeof e=="symbol",Ca=e=>e!==null&&typeof e=="object",Vh=Object.prototype.toString,Nc=e=>Vh.call(e),Bc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Dh=/\B([A-Z])/g,Uc=Bc(e=>e.replace(Dh,"-$1").toLowerCase()),qh=Bc(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},lr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wh=Mh(zh);function Oc(e){return!!e||e===""}function Gh(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Ts(e[s],t[s]);return n}function Ts(e,t){if(e===t)return!0;let n=ka(e),s=ka(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=$a(e),s=$a(t),n||s)return e===t;if(n=pn(e),s=pn(t),n||s)return n&&s?Gh(e,t):!1;if(n=Ca(e),s=Ca(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Ts(e[i],t[i]))return!1}}return String(e)===String(t)}function Si(e,t){return e.findIndex(n=>Ts(n,t))}/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Jh="http://www.w3.org/2000/svg",Zh="http://www.w3.org/1998/Math/MathML",nn=typeof document<"u"?document:null,Aa=nn&&nn.createElement("template"),Yh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?nn.createElementNS(Jh,e):t==="mathml"?nn.createElementNS(Zh,e):nn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>nn.createTextNode(e),createComment:e=>nn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Aa.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=Aa.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Qh=Symbol("_vtc");function Xh(e,t,n){const s=e[Qh];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ia=Symbol("_vod"),ep=Symbol(""),tp=/(^|;)\s*display\s*:/;function np(e,t,n){const s=e.style,r=ar(n),o=s.display;let i=!1;if(n&&!r){if(t&&!ar(t))for(const a in t)n[a]==null&&Mo(s,a,"");for(const a in n)a==="display"&&(i=!0),Mo(s,a,n[a])}else if(r){if(t!==n){const a=s[ep];a&&(n+=";"+a),s.cssText=n,i=tp.test(n)}}else t&&e.removeAttribute("style");Ia in e&&(e[Ia]=i?s.display:"",s.display=o)}const Pa=/\s*!important$/;function Mo(e,t,n){if(pn(n))n.forEach(s=>Mo(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=sp(e,t);Pa.test(n)?e.setProperty(Uc(s),n.replace(Pa,""),"important"):e[s]=n}}const Ta=["Webkit","Moz","ms"],ao={};function sp(e,t){const n=ao[t];if(n)return n;let s=It(t);if(s!=="filter"&&s in e)return ao[t]=s;s=qh(s);for(let r=0;r<Ta.length;r++){const o=Ta[r]+s;if(o in e)return ao[t]=o}return t}const La="http://www.w3.org/1999/xlink";function rp(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,n);else{const o=Wh(t);n==null||o&&!Oc(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function op(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Oc(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function rn(e,t,n,s){e.addEventListener(t,n,s)}function ip(e,t,n,s){e.removeEventListener(t,n,s)}const Na=Symbol("_vei");function ap(e,t,n,s,r=null){const o=e[Na]||(e[Na]={}),i=o[t];if(s&&i)i.value=s;else{const[a,l]=lp(t);if(s){const c=o[t]=fp(s,r);rn(e,a,c,l)}else i&&(ip(e,a,i,l),o[t]=void 0)}}const Ba=/(?:Once|Passive|Capture)$/;function lp(e){let t;if(Ba.test(e)){t={};let s;for(;s=e.match(Ba);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Uc(e.slice(2)),t]}let lo=0;const cp=Promise.resolve(),up=()=>lo||(cp.then(()=>lo=0),lo=Date.now());function fp(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ht(dp(s,n.value),t,5,[s])};return n.value=e,n.attached=up(),n}function dp(e,t){if(pn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const Ua=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hp=(e,t,n,s,r,o,i,a,l)=>{const c=r==="svg";t==="class"?Xh(e,s,c):t==="style"?np(e,n,s):Hh(t)?Fh(t)||ap(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pp(e,t,s,c))?op(e,t,s,o,i,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),rp(e,t,s,c))};function pp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ua(t)&&Lc(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ua(t)&&ar(n)?!1:t in e}const Jn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pn(t)?n=>Kh(t,n):t};function gp(e){e.target.composing=!0}function Oa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ft=Symbol("_assign"),ks={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ft]=Jn(r);const o=s||r.props&&r.props.type==="number";rn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=lr(a)),e[Ft](a)}),n&&rn(e,"change",()=>{e.value=e.value.trim()}),t||(rn(e,"compositionstart",gp),rn(e,"compositionend",Oa),rn(e,"change",Oa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Ft]=Jn(o),e.composing)return;const i=r||e.type==="number"?lr(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},yp={deep:!0,created(e,t,n){e[Ft]=Jn(n),rn(e,"change",()=>{const s=e._modelValue,r=$s(e),o=e.checked,i=e[Ft];if(pn(s)){const a=Si(s,r),l=a!==-1;if(o&&!l)i(s.concat(r));else if(!o&&l){const c=[...s];c.splice(a,1),i(c)}}else if(Pr(s)){const a=new Set(s);o?a.add(r):a.delete(r),i(a)}else i(Mc(e,o))})},mounted:Ma,beforeUpdate(e,t,n){e[Ft]=Jn(n),Ma(e,t,n)}};function Ma(e,{value:t,oldValue:n},s){e._modelValue=t,pn(t)?e.checked=Si(t,s.props.value)>-1:Pr(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Ts(t,Mc(e,!0)))}const vp={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=Pr(t);rn(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?lr($s(i)):$s(i));e[Ft](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,xr(()=>{e._assigning=!1})}),e[Ft]=Jn(s)},mounted(e,{value:t,oldValue:n,modifiers:{number:s}}){Ha(e,t,n,s)},beforeUpdate(e,t,n){e[Ft]=Jn(n)},updated(e,{value:t,oldValue:n,modifiers:{number:s}}){e._assigning||Ha(e,t,n,s)}};function Ha(e,t,n,s){const r=e.multiple,o=pn(t);if(!(r&&!o&&!Pr(t))){for(let i=0,a=e.options.length;i<a;i++){const l=e.options[i],c=$s(l);if(r)if(o){const u=typeof c;u==="string"||u==="number"?l.selected=t.includes(s?lr(c):c):l.selected=Si(t,c)>-1}else l.selected=t.has(c);else if(Ts($s(l),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $s(e){return"_value"in e?e._value:e.value}function Mc(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const _p=["ctrl","shift","alt","meta"],wp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_p.some(n=>e[`${n}Key`]&&!t.includes(n))},Ho=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const a=wp[t[i]];if(a&&a(r,t))return}return e(r,...o)})},mp=jh({patchProp:hp},Yh);let Fa;function bp(){return Fa||(Fa=wh(mp))}const Ep=(...e)=>{const t=bp().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Rp(s);if(!r)return;const o=t._component;!Lc(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,xp(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function xp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rp(e){return ar(e)?document.querySelector(e):e}var Sp=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Hc;const Tr=e=>Hc=e,Fc=Symbol();function Fo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(vs||(vs={}));function kp(){const e=Tl(!0),t=e.run(()=>K({}));let n=[],s=[];const r=wr({install(o){Tr(r),r._a=o,o.provide(Fc,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!Sp?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const jc=()=>{};function ja(e,t,n,s=jc){e.push(t);const r=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),s())};return!n&&Ll()&&Wf(r),r}function Hn(e,...t){e.slice().forEach(n=>{n(...t)})}const $p=e=>e();function jo(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],r=e[n];Fo(r)&&Fo(s)&&e.hasOwnProperty(n)&&!He(s)&&!un(s)?e[n]=jo(r,s):e[n]=s}return e}const Cp=Symbol();function Ap(e){return!Fo(e)||!e.hasOwnProperty(Cp)}const{assign:Xt}=Object;function Ip(e){return!!(He(e)&&e.effect)}function Pp(e,t,n,s){const{state:r,actions:o,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=r?r():{});const u=_d(n.state.value[e]);return Xt(u,o,Object.keys(i||{}).reduce((f,d)=>(f[d]=wr($e(()=>{Tr(n);const p=n._s.get(e);return i[d].call(p,p)})),f),{}))}return l=Vc(e,c,t,n,s,!0),l}function Vc(e,t,n={},s,r,o){let i;const a=Xt({actions:{}},n),l={deep:!0};let c,u,f=[],d=[],p;const v=s.state.value[e];!o&&!v&&(s.state.value[e]={}),K({});let y;function w(H){let Z;c=u=!1,typeof H=="function"?(H(s.state.value[e]),Z={type:vs.patchFunction,storeId:e,events:p}):(jo(s.state.value[e],H),Z={type:vs.patchObject,payload:H,storeId:e,events:p});const ne=y=Symbol();xr().then(()=>{y===ne&&(c=!0)}),u=!0,Hn(f,Z,s.state.value[e])}const b=o?function(){const{state:Z}=n,ne=Z?Z():{};this.$patch(se=>{Xt(se,ne)})}:jc;function E(){i.stop(),f=[],d=[],s._s.delete(e)}function k(H,Z){return function(){Tr(s);const ne=Array.from(arguments),se=[],ue=[];function q(x){se.push(x)}function V(x){ue.push(x)}Hn(d,{args:ne,name:H,store:N,after:q,onError:V});let U;try{U=Z.apply(this&&this.$id===e?this:N,ne)}catch(x){throw Hn(ue,x),x}return U instanceof Promise?U.then(x=>(Hn(se,x),x)).catch(x=>(Hn(ue,x),Promise.reject(x))):(Hn(se,U),U)}}const P={_p:s,$id:e,$onAction:ja.bind(null,d),$patch:w,$reset:b,$subscribe(H,Z={}){const ne=ja(f,H,Z.detached,()=>se()),se=i.run(()=>At(()=>s.state.value[e],ue=>{(Z.flush==="sync"?u:c)&&H({storeId:e,type:vs.direct,events:p},ue)},Xt({},l,Z)));return ne},$dispose:E},N=ss(P);s._s.set(e,N);const F=(s._a&&s._a.runWithContext||$p)(()=>s._e.run(()=>(i=Tl()).run(t)));for(const H in F){const Z=F[H];if(He(Z)&&!Ip(Z)||un(Z))o||(v&&Ap(Z)&&(He(Z)?Z.value=v[H]:jo(Z,v[H])),s.state.value[e][H]=Z);else if(typeof Z=="function"){const ne=k(H,Z);F[H]=ne,a.actions[H]=Z}}return Xt(N,F),Xt(be(N),F),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:H=>{w(Z=>{Xt(Z,H)})}}),s._p.forEach(H=>{Xt(N,i.run(()=>H({store:N,app:s._a,pinia:s,options:a})))}),v&&o&&n.hydrate&&n.hydrate(N.$state,v),c=!0,u=!0,N}function yn(e,t,n){let s,r;const o=typeof t=="function";typeof e=="string"?(s=e,r=o?n:t):(r=e,s=e.id);function i(a,l){const c=hh();return a=a||(c?ct(Fc,null):null),a&&Tr(a),a=Hc,a._s.has(s)||(o?Vc(s,t,r,a):Pp(s,r,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof window<"u";function Tp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Se=Object.assign;function co(e,t){const n={};for(const s in t){const r=t[s];n[s]=pt(r)?r.map(e):e(r)}return n}const _s=()=>{},pt=Array.isArray,Lp=/\/$/,Np=e=>e.replace(Lp,"");function uo(e,t,n="/"){let s,r={},o="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),r=e(o)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=Mp(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:i}}function Bp(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Va(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Up(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zn(t.matched[s],n.matched[r])&&Dc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Zn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Dc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Op(e[n],t[n]))return!1;return!0}function Op(e,t){return pt(e)?Da(e,t):pt(t)?Da(t,e):e===t}function Da(e,t){return pt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Mp(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Cs;(function(e){e.pop="pop",e.push="push"})(Cs||(Cs={}));var ws;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ws||(ws={}));function Hp(e){if(!e)if(Fn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Np(e)}const Fp=/^[^#]+#/;function jp(e,t){return e.replace(Fp,"#")+t}function Vp(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Lr=()=>({left:window.pageXOffset,top:window.pageYOffset});function Dp(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Vp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function qa(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function qp(e,t){Vo.set(e,t)}function Kp(e){const t=Vo.get(e);return Vo.delete(e),t}let zp=()=>location.protocol+"//"+location.host;function qc(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let a=r.includes(e.slice(o))?e.slice(o).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Va(l,"")}return Va(n,e)+s+r}function Wp(e,t,n,s){let r=[],o=[],i=null;const a=({state:d})=>{const p=qc(e,location),v=n.value,y=t.value;let w=0;if(d){if(n.value=p,t.value=d,i&&i===v){i=null;return}w=y?d.position-y.position:0}else s(p);r.forEach(b=>{b(n.value,v,{delta:w,type:Cs.pop,direction:w?w>0?ws.forward:ws.back:ws.unknown})})};function l(){i=n.value}function c(d){r.push(d);const p=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return o.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(Se({},d.state,{scroll:Lr()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function Ka(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Lr():null}}function Gp(e){const{history:t,location:n}=window,s={value:qc(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:zp()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](d)}}function i(l,c){const u=Se({},t.state,Ka(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Se({},r.value,t.state,{forward:l,scroll:Lr()});o(u.current,u,!0);const f=Se({},Ka(s.value,l,null),{position:u.position+1},c);o(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:i}}function Jp(e){e=Hp(e);const t=Gp(e),n=Wp(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=Se({location:"",base:e,go:s,createHref:jp.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Zp(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Jp(e)}function Yp(e){return typeof e=="string"||e&&typeof e=="object"}function Kc(e){return typeof e=="string"||typeof e=="symbol"}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},zc=Symbol("");var za;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(za||(za={}));function Yn(e,t){return Se(new Error,{type:e,[zc]:!0},t)}function Nt(e,t){return e instanceof Error&&zc in e&&(t==null||!!(e.type&t))}const Wa="[^/]+?",Qp={sensitive:!1,strict:!1,start:!0,end:!0},Xp=/[.+*?^${}()[\]/\\]/g;function eg(e,t){const n=Se({},Qp,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let p=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Xp,"\\$&"),p+=40;else if(d.type===1){const{value:v,repeatable:y,optional:w,regexp:b}=d;o.push({name:v,repeatable:y,optional:w});const E=b||Wa;if(E!==Wa){p+=10;try{new RegExp(`(${E})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${E}): `+P.message)}}let k=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(k=w&&c.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),r+=k,p+=20,w&&(p+=-8),y&&(p+=-20),E===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",v=o[d-1];f[v.name]=p&&v.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:v,repeatable:y,optional:w}=p,b=v in c?c[v]:"";if(pt(b)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const E=pt(b)?b.join("/"):b;if(!E)if(w)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=E}}return u||"/"}return{re:i,score:s,keys:o,parse:a,stringify:l}}function tg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ng(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=tg(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(Ga(s))return 1;if(Ga(r))return-1}return r.length-s.length}function Ga(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const sg={type:0,value:""},rg=/[a-zA-Z0-9_]/;function og(e){if(!e)return[[]];if(e==="/")return[[sg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let a=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),i()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:rg.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function ig(e,t,n){const s=eg(og(e.path),n),r=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function ag(e,t){const n=[],s=new Map;t=Ya({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const p=!d,v=lg(u);v.aliasOf=d&&d.record;const y=Ya(t,u),w=[v];if("alias"in u){const k=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of k)w.push(Se({},v,{components:d?d.record.components:v.components,path:P,aliasOf:d?d.record:v}))}let b,E;for(const k of w){const{path:P}=k;if(f&&P[0]!=="/"){const N=f.record.path,C=N[N.length-1]==="/"?"":"/";k.path=f.record.path+(P&&C+P)}if(b=ig(k,f,y),d?d.alias.push(b):(E=E||b,E!==b&&E.alias.push(b),p&&u.name&&!Za(b)&&i(u.name)),v.children){const N=v.children;for(let C=0;C<N.length;C++)o(N[C],b,d&&d.children[C])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return E?()=>{i(E)}:_s}function i(u){if(Kc(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&ng(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Wc(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Za(u)&&s.set(u.record.name,u)}function c(u,f){let d,p={},v,y;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Yn(1,{location:u});y=d.record.name,p=Se(Ja(f.params,d.keys.filter(E=>!E.optional).map(E=>E.name)),u.params&&Ja(u.params,d.keys.map(E=>E.name))),v=d.stringify(p)}else if("path"in u)v=u.path,d=n.find(E=>E.re.test(v)),d&&(p=d.parse(v),y=d.record.name);else{if(d=f.name?s.get(f.name):n.find(E=>E.re.test(f.path)),!d)throw Yn(1,{location:u,currentLocation:f});y=d.record.name,p=Se({},f.params,u.params),v=d.stringify(p)}const w=[];let b=d;for(;b;)w.unshift(b.record),b=b.parent;return{name:y,path:v,params:p,matched:w,meta:ug(w)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:a,getRecordMatcher:r}}function Ja(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function lg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:cg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function cg(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Za(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ug(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function Ya(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Wc(e,t){return t.children.some(n=>n===e||Wc(e,n))}const Gc=/#/g,fg=/&/g,dg=/\//g,hg=/=/g,pg=/\?/g,Jc=/\+/g,gg=/%5B/g,yg=/%5D/g,Zc=/%5E/g,vg=/%60/g,Yc=/%7B/g,_g=/%7C/g,Qc=/%7D/g,wg=/%20/g;function ki(e){return encodeURI(""+e).replace(_g,"|").replace(gg,"[").replace(yg,"]")}function mg(e){return ki(e).replace(Yc,"{").replace(Qc,"}").replace(Zc,"^")}function Do(e){return ki(e).replace(Jc,"%2B").replace(wg,"+").replace(Gc,"%23").replace(fg,"%26").replace(vg,"`").replace(Yc,"{").replace(Qc,"}").replace(Zc,"^")}function bg(e){return Do(e).replace(hg,"%3D")}function Eg(e){return ki(e).replace(Gc,"%23").replace(pg,"%3F")}function xg(e){return e==null?"":Eg(e).replace(dg,"%2F")}function cr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Rg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(Jc," "),i=o.indexOf("="),a=cr(i<0?o:o.slice(0,i)),l=i<0?null:cr(o.slice(i+1));if(a in t){let c=t[a];pt(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Qa(e){let t="";for(let n in e){const s=e[n];if(n=bg(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(pt(s)?s.map(o=>o&&Do(o)):[s&&Do(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Sg(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=pt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const kg=Symbol(""),Xa=Symbol(""),Nr=Symbol(""),$i=Symbol(""),qo=Symbol("");function cs(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function sn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((i,a)=>{const l=f=>{f===!1?a(Yn(4,{from:n,to:t})):f instanceof Error?a(f):Yp(f)?a(Yn(2,{from:t,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),i())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function fo(e,t,n,s){const r=[];for(const o of e)for(const i in o.components){let a=o.components[i];if(!(t!=="beforeRouteEnter"&&!o.instances[i]))if($g(a)){const c=(a.__vccOpts||a)[t];c&&r.push(sn(c,n,s,o,i))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=Tp(c)?c.default:c;o.components[i]=u;const d=(u.__vccOpts||u)[t];return d&&sn(d,n,s,o,i)()}))}}return r}function $g(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function el(e){const t=ct(Nr),n=ct($i),s=$e(()=>t.resolve(ie(e.to))),r=$e(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Zn.bind(null,u));if(d>-1)return d;const p=tl(l[c-2]);return c>1&&tl(u)===p&&f[f.length-1].path!==p?f.findIndex(Zn.bind(null,l[c-2])):d}),o=$e(()=>r.value>-1&&Pg(n.params,s.value.params)),i=$e(()=>r.value>-1&&r.value===n.matched.length-1&&Dc(n.params,s.value.params));function a(l={}){return Ig(l)?t[ie(e.replace)?"replace":"push"](ie(e.to)).catch(_s):Promise.resolve()}return{route:s,href:$e(()=>s.value.href),isActive:o,isExactActive:i,navigate:a}}const Cg=Be({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:el,setup(e,{slots:t}){const n=ss(el(e)),{options:s}=ct(Nr),r=$e(()=>({[nl(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[nl(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Tc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),Ag=Cg;function Ig(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Pg(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!pt(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function tl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const nl=(e,t,n)=>e??t??n,Tg=Be({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ct(qo),r=$e(()=>e.route||s.value),o=ct(Xa,0),i=$e(()=>{let c=ie(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=$e(()=>r.value.matched[i.value]);Zs(Xa,$e(()=>i.value+1)),Zs(kg,a),Zs(qo,r);const l=K();return At(()=>[l.value,a.value,e.name],([c,u,f],[d,p,v])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Zn(u,p)||!d)&&(u.enterCallbacks[f]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=a.value,d=f&&f.components[u];if(!d)return sl(n.default,{Component:d,route:c});const p=f.props[u],v=p?p===!0?c.params:typeof p=="function"?p(c):p:null,w=Tc(d,Se({},v,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return sl(n.default,{Component:w,route:c})||w}}});function sl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lg=Tg;function Ng(e){const t=ag(e.routes,e),n=e.parseQuery||Rg,s=e.stringifyQuery||Qa,r=e.history,o=cs(),i=cs(),a=cs(),l=gd(Wt);let c=Wt;Fn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=co.bind(null,R=>""+R),f=co.bind(null,xg),d=co.bind(null,cr);function p(R,M){let O,J;return Kc(R)?(O=t.getRecordMatcher(R),J=M):J=R,t.addRoute(J,O)}function v(R){const M=t.getRecordMatcher(R);M&&t.removeRoute(M)}function y(){return t.getRoutes().map(R=>R.record)}function w(R){return!!t.getRecordMatcher(R)}function b(R,M){if(M=Se({},M||l.value),typeof R=="string"){const g=uo(n,R,M.path),m=t.resolve({path:g.path},M),$=r.createHref(g.fullPath);return Se(g,m,{params:d(m.params),hash:cr(g.hash),redirectedFrom:void 0,href:$})}let O;if("path"in R)O=Se({},R,{path:uo(n,R.path,M.path).path});else{const g=Se({},R.params);for(const m in g)g[m]==null&&delete g[m];O=Se({},R,{params:f(g)}),M.params=f(M.params)}const J=t.resolve(O,M),le=R.hash||"";J.params=u(d(J.params));const fe=Bp(s,Se({},R,{hash:mg(le),path:J.path})),h=r.createHref(fe);return Se({fullPath:fe,hash:le,query:s===Qa?Sg(R.query):R.query||{}},J,{redirectedFrom:void 0,href:h})}function E(R){return typeof R=="string"?uo(n,R,l.value.path):Se({},R)}function k(R,M){if(c!==R)return Yn(8,{from:M,to:R})}function P(R){return F(R)}function N(R){return P(Se(E(R),{replace:!0}))}function C(R){const M=R.matched[R.matched.length-1];if(M&&M.redirect){const{redirect:O}=M;let J=typeof O=="function"?O(R):O;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=E(J):{path:J},J.params={}),Se({query:R.query,hash:R.hash,params:"path"in J?{}:R.params},J)}}function F(R,M){const O=c=b(R),J=l.value,le=R.state,fe=R.force,h=R.replace===!0,g=C(O);if(g)return F(Se(E(g),{state:typeof g=="object"?Se({},le,g.state):le,force:fe,replace:h}),M||O);const m=O;m.redirectedFrom=M;let $;return!fe&&Up(s,J,O)&&($=Yn(16,{to:m,from:J}),re(J,J,!0,!1)),($?Promise.resolve($):ne(m,J)).catch(T=>Nt(T)?Nt(T,2)?T:X(T):I(T,m,J)).then(T=>{if(T){if(Nt(T,2))return F(Se({replace:h},E(T.to),{state:typeof T.to=="object"?Se({},le,T.to.state):le,force:fe}),M||m)}else T=ue(m,J,!0,h,le);return se(m,J,T),T})}function H(R,M){const O=k(R,M);return O?Promise.reject(O):Promise.resolve()}function Z(R){const M=he.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(R):R()}function ne(R,M){let O;const[J,le,fe]=Bg(R,M);O=fo(J.reverse(),"beforeRouteLeave",R,M);for(const g of J)g.leaveGuards.forEach(m=>{O.push(sn(m,R,M))});const h=H.bind(null,R,M);return O.push(h),Y(O).then(()=>{O=[];for(const g of o.list())O.push(sn(g,R,M));return O.push(h),Y(O)}).then(()=>{O=fo(le,"beforeRouteUpdate",R,M);for(const g of le)g.updateGuards.forEach(m=>{O.push(sn(m,R,M))});return O.push(h),Y(O)}).then(()=>{O=[];for(const g of fe)if(g.beforeEnter)if(pt(g.beforeEnter))for(const m of g.beforeEnter)O.push(sn(m,R,M));else O.push(sn(g.beforeEnter,R,M));return O.push(h),Y(O)}).then(()=>(R.matched.forEach(g=>g.enterCallbacks={}),O=fo(fe,"beforeRouteEnter",R,M),O.push(h),Y(O))).then(()=>{O=[];for(const g of i.list())O.push(sn(g,R,M));return O.push(h),Y(O)}).catch(g=>Nt(g,8)?g:Promise.reject(g))}function se(R,M,O){a.list().forEach(J=>Z(()=>J(R,M,O)))}function ue(R,M,O,J,le){const fe=k(R,M);if(fe)return fe;const h=M===Wt,g=Fn?history.state:{};O&&(J||h?r.replace(R.fullPath,Se({scroll:h&&g&&g.scroll},le)):r.push(R.fullPath,le)),l.value=R,re(R,M,O,h),X()}let q;function V(){q||(q=r.listen((R,M,O)=>{if(!Q.listening)return;const J=b(R),le=C(J);if(le){F(Se(le,{replace:!0}),J).catch(_s);return}c=J;const fe=l.value;Fn&&qp(qa(fe.fullPath,O.delta),Lr()),ne(J,fe).catch(h=>Nt(h,12)?h:Nt(h,2)?(F(h.to,J).then(g=>{Nt(g,20)&&!O.delta&&O.type===Cs.pop&&r.go(-1,!1)}).catch(_s),Promise.reject()):(O.delta&&r.go(-O.delta,!1),I(h,J,fe))).then(h=>{h=h||ue(J,fe,!1),h&&(O.delta&&!Nt(h,8)?r.go(-O.delta,!1):O.type===Cs.pop&&Nt(h,20)&&r.go(-1,!1)),se(J,fe,h)}).catch(_s)}))}let U=cs(),x=cs(),S;function I(R,M,O){X(R);const J=x.list();return J.length?J.forEach(le=>le(R,M,O)):console.error(R),Promise.reject(R)}function L(){return S&&l.value!==Wt?Promise.resolve():new Promise((R,M)=>{U.add([R,M])})}function X(R){return S||(S=!R,V(),U.list().forEach(([M,O])=>R?O(R):M()),U.reset()),R}function re(R,M,O,J){const{scrollBehavior:le}=e;if(!Fn||!le)return Promise.resolve();const fe=!O&&Kp(qa(R.fullPath,0))||(J||!O)&&history.state&&history.state.scroll||null;return xr().then(()=>le(R,M,fe)).then(h=>h&&Dp(h)).catch(h=>I(h,R,M))}const z=R=>r.go(R);let pe;const he=new Set,Q={currentRoute:l,listening:!0,addRoute:p,removeRoute:v,hasRoute:w,getRoutes:y,resolve:b,options:e,push:P,replace:N,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:x.add,isReady:L,install(R){const M=this;R.component("RouterLink",Ag),R.component("RouterView",Lg),R.config.globalProperties.$router=M,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>ie(l)}),Fn&&!pe&&l.value===Wt&&(pe=!0,P(r.location).catch(le=>{}));const O={};for(const le in Wt)Object.defineProperty(O,le,{get:()=>l.value[le],enumerable:!0});R.provide(Nr,M),R.provide($i,Kl(O)),R.provide(qo,l);const J=R.unmount;he.add(R),R.unmount=function(){he.delete(R),he.size<1&&(c=Wt,q&&q(),q=null,l.value=Wt,pe=!1,S=!1),J()}}};function Y(R){return R.reduce((M,O)=>M.then(()=>Z(O)),Promise.resolve())}return Q}function Bg(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(c=>Zn(c,a))?s.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(c=>Zn(c,l))||r.push(l))}return[n,s,r]}function Br(){return ct(Nr)}function Ls(){return ct($i)}function rl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Xc(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ug(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rl(e.outputLen),rl(e.blockLen)}function ur(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Og(e,t){Xc(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ho=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eu=e=>e instanceof Uint8Array,po=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mt=(e,t)=>e<<32-t|e>>>t,Mg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Mg)throw new Error("Non little-endian hardware is not supported");function Hg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ci(e){if(typeof e=="string"&&(e=Hg(e)),!eu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Fg(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!eu(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let tu=class{clone(){return this._cloneInto()}};function jg(e){const t=s=>e().update(Ci(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function nu(e=32){if(ho&&typeof ho.getRandomValues=="function")return ho.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Vg(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}let Dg=class extends tu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=po(this.buffer)}update(t){ur(this);const{view:n,buffer:s,blockLen:r}=this;t=Ci(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=po(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ur(this),Og(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Vg(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=po(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}};const qg=(e,t,n)=>e&t^~e&n,Kg=(e,t,n)=>e&t^e&n^t&n,zg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=new Uint32Array(64);let Wg=class extends Dg{constructor(){super(64,32,8,!1),this.A=Gt[0]|0,this.B=Gt[1]|0,this.C=Gt[2]|0,this.D=Gt[3]|0,this.E=Gt[4]|0,this.F=Gt[5]|0,this.G=Gt[6]|0,this.H=Gt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Jt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Jt[f-15],p=Jt[f-2],v=mt(d,7)^mt(d,18)^d>>>3,y=mt(p,17)^mt(p,19)^p>>>10;Jt[f]=y+Jt[f-7]+v+Jt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=mt(a,6)^mt(a,11)^mt(a,25),p=u+d+qg(a,l,c)+zg[f]+Jt[f]|0,y=(mt(s,2)^mt(s,13)^mt(s,22))+Kg(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ko=jg(()=>new Wg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const su=BigInt(0),Ur=BigInt(1),Gg=BigInt(2),Or=e=>e instanceof Uint8Array,Jg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qn(e){if(!Or(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Jg[e[n]];return t}function ru(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ai(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Xn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function et(e){return Ai(Qn(e))}function Ii(e){if(!Or(e))throw new Error("Uint8Array expected");return Ai(Qn(Uint8Array.from(e).reverse()))}function gn(e,t){return Xn(e.toString(16).padStart(t*2,"0"))}function Pi(e,t){return gn(e,t).reverse()}function Zg(e){return Xn(ru(e))}function Ke(e,t,n){let s;if(typeof t=="string")try{s=Xn(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(Or(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const r=s.length;if(typeof n=="number"&&r!==n)throw new Error(`${e} expected ${n} bytes, got ${r}`);return s}function Tn(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Or(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function Yg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Qg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Xg(e){let t;for(t=0;e>su;e>>=Ur,t+=1);return t}function ey(e,t){return e>>BigInt(t)&Ur}const ty=(e,t,n)=>e|(n?Ur:su)<<BigInt(t),Ti=e=>(Gg<<BigInt(e-1))-Ur,go=e=>new Uint8Array(e),ol=e=>Uint8Array.from(e);function ou(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=go(e),r=go(e),o=0;const i=()=>{s.fill(1),r.fill(0),o=0},a=(...f)=>n(r,s,...f),l=(f=go())=>{r=a(ol([0]),f),s=a(),f.length!==0&&(r=a(ol([1]),f),s=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){s=a();const p=s.slice();d.push(p),f+=s.length}return Tn(...d)};return(f,d)=>{i(),l(f);let p;for(;!(p=d(c()));)l();return i(),p}}const ny={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ns(e,t,n={}){const s=(r,o,i)=>{const a=ny[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[r];if(!(i&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(r)}=${l} (${typeof l}), expected ${o}`)};for(const[r,o]of Object.entries(t))s(r,o,!1);for(const[r,o]of Object.entries(n))s(r,o,!0);return e}const sy=Object.freeze(Object.defineProperty({__proto__:null,bitGet:ey,bitLen:Xg,bitMask:Ti,bitSet:ty,bytesToHex:Qn,bytesToNumberBE:et,bytesToNumberLE:Ii,concatBytes:Tn,createHmacDrbg:ou,ensureBytes:Ke,equalBytes:Yg,hexToBytes:Xn,hexToNumber:Ai,numberToBytesBE:gn,numberToBytesLE:Pi,numberToHexUnpadded:ru,numberToVarBytesBE:Zg,utf8ToBytes:Qg,validateObject:Ns},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const je=BigInt(0),Ne=BigInt(1),Rn=BigInt(2),ry=BigInt(3),zo=BigInt(4),il=BigInt(5),al=BigInt(8);BigInt(9);BigInt(16);function De(e,t){const n=e%t;return n>=je?n:t+n}function oy(e,t,n){if(n<=je||t<je)throw new Error("Expected power/modulo > 0");if(n===Ne)return je;let s=Ne;for(;t>je;)t&Ne&&(s=s*e%n),e=e*e%n,t>>=Ne;return s}function it(e,t,n){let s=e;for(;t-- >je;)s*=s,s%=n;return s}function Wo(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=De(e,t),s=t,r=je,o=Ne;for(;n!==je;){const a=s/n,l=s%n,c=r-o*a;s=n,n=l,r=o,o=c}if(s!==Ne)throw new Error("invert: does not exist");return De(r,t)}function iy(e){const t=(e-Ne)/Rn;let n,s,r;for(n=e-Ne,s=0;n%Rn===je;n/=Rn,s++);for(r=Rn;r<e&&oy(r,t,e)!==e-Ne;r++);if(s===1){const i=(e+Ne)/zo;return function(l,c){const u=l.pow(c,i);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const o=(n+Ne)/Rn;return function(a,l){if(a.pow(l,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=s,u=a.pow(a.mul(a.ONE,r),n),f=a.pow(l,o),d=a.pow(l,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(d);p<c&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const v=a.pow(u,Ne<<BigInt(c-p-1));u=a.sqr(v),f=a.mul(f,v),d=a.mul(d,u),c=p}return f}}function ay(e){if(e%zo===ry){const t=(e+Ne)/zo;return function(s,r){const o=s.pow(r,t);if(!s.eql(s.sqr(o),r))throw new Error("Cannot find square root");return o}}if(e%al===il){const t=(e-il)/al;return function(s,r){const o=s.mul(r,Rn),i=s.pow(o,t),a=s.mul(r,i),l=s.mul(s.mul(a,Rn),i),c=s.mul(a,s.sub(l,s.ONE));if(!s.eql(s.sqr(c),r))throw new Error("Cannot find square root");return c}}return iy(e)}const ly=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cy(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=ly.reduce((s,r)=>(s[r]="function",s),t);return Ns(e,n)}function uy(e,t,n){if(n<je)throw new Error("Expected power > 0");if(n===je)return e.ONE;if(n===Ne)return t;let s=e.ONE,r=t;for(;n>je;)n&Ne&&(s=e.mul(s,r)),r=e.sqr(r),n>>=Ne;return s}function fy(e,t){const n=new Array(t.length),s=t.reduce((o,i,a)=>e.is0(i)?o:(n[a]=o,e.mul(o,i)),e.ONE),r=e.inv(s);return t.reduceRight((o,i,a)=>e.is0(i)?o:(n[a]=e.mul(o,n[a]),e.mul(o,i)),r),n}function iu(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function dy(e,t,n=!1,s={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:r,nByteLength:o}=iu(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=ay(e),a=Object.freeze({ORDER:e,BITS:r,BYTES:o,MASK:Ti(r),ZERO:je,ONE:Ne,create:l=>De(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return je<=l&&l<e},is0:l=>l===je,isOdd:l=>(l&Ne)===Ne,neg:l=>De(-l,e),eql:(l,c)=>l===c,sqr:l=>De(l*l,e),add:(l,c)=>De(l+c,e),sub:(l,c)=>De(l-c,e),mul:(l,c)=>De(l*c,e),pow:(l,c)=>uy(a,l,c),div:(l,c)=>De(l*Wo(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Wo(l,e),sqrt:s.sqrt||(l=>i(a,l)),invertBatch:l=>fy(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>n?Pi(l,o):gn(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ii(l):et(l)}});return Object.freeze(a)}function au(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function lu(e){const t=au(e);return t+Math.ceil(t/2)}function hy(e,t,n=!1){const s=e.length,r=au(t),o=lu(t);if(s<16||s<o||s>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${s}`);const i=n?et(e):Ii(e),a=De(i,t-Ne)+Ne;return n?Pi(a,r):gn(a,r)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const py=BigInt(0),yo=BigInt(1);function gy(e,t){const n=(r,o)=>{const i=o.negate();return r?i:o},s=r=>{const o=Math.ceil(t/r)+1,i=2**(r-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(r,o){let i=e.ZERO,a=r;for(;o>py;)o&yo&&(i=i.add(a)),a=a.double(),o>>=yo;return i},precomputeWindow(r,o){const{windows:i,windowSize:a}=s(o),l=[];let c=r,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<a;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(r,o,i){const{windows:a,windowSize:l}=s(r);let c=e.ZERO,u=e.BASE;const f=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let v=0;v<a;v++){const y=v*l;let w=Number(i&f);i>>=p,w>l&&(w-=d,i+=yo);const b=y,E=y+Math.abs(w)-1,k=v%2!==0,P=w<0;w===0?u=u.add(n(k,o[b])):c=c.add(n(P,o[E]))}return{p:c,f:u}},wNAFCached(r,o,i,a){const l=r._WINDOW_SIZE||1;let c=o.get(r);return c||(c=this.precomputeWindow(r,l),l!==1&&o.set(r,a(c))),this.wNAF(l,c,i)}}}function cu(e){return cy(e.Fp),Ns(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yy(e){const t=cu(e);Ns(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:r}=t;if(n){if(!s.eql(r,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:vy,hexToBytes:_y}=sy,kn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=kn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:vy(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=kn,n=typeof e=="string"?_y(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:r,l:o}=kn._parseInt(n.subarray(2)),{d:i,l:a}=kn._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r,s:i}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},s=t(n(e.s)),r=t(n(e.r)),o=s.length/2,i=r.length/2,a=n(o),l=n(i);return`30${n(i+o+4)}02${l}${r}02${a}${s}`}},Ut=BigInt(0),at=BigInt(1);BigInt(2);const ll=BigInt(3);BigInt(4);function wy(e){const t=yy(e),{Fp:n}=t,s=t.toBytes||((v,y,w)=>{const b=y.toAffine();return Tn(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),r=t.fromBytes||(v=>{const y=v.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}});function o(v){const{a:y,b:w}=t,b=n.sqr(v),E=n.mul(b,v);return n.add(n.add(E,n.mul(v,y)),w)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(v){return typeof v=="bigint"&&Ut<v&&v<t.n}function a(v){if(!i(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(v){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:b,n:E}=t;if(y&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=Qn(v)),typeof v!="string"||!y.includes(v.length))throw new Error("Invalid key");v=v.padStart(w*2,"0")}let k;try{k=typeof v=="bigint"?v:et(Ke("private key",v,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof v}`)}return b&&(k=De(k,E)),a(k),k}const c=new Map;function u(v){if(!(v instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,w,b){if(this.px=y,this.py=w,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(y){const{x:w,y:b}=y||{};if(!y||!n.isValid(w)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const E=k=>n.eql(k,n.ZERO);return E(w)&&E(b)?f.ZERO:new f(w,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(b=>b.pz));return y.map((b,E)=>b.toAffine(w[E])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(r(Ke("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const b=n.sqr(w),E=o(y);if(!n.eql(b,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:w,py:b,pz:E}=this,{px:k,py:P,pz:N}=y,C=n.eql(n.mul(w,N),n.mul(k,E)),F=n.eql(n.mul(b,N),n.mul(P,E));return C&&F}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=t,b=n.mul(w,ll),{px:E,py:k,pz:P}=this;let N=n.ZERO,C=n.ZERO,F=n.ZERO,H=n.mul(E,E),Z=n.mul(k,k),ne=n.mul(P,P),se=n.mul(E,k);return se=n.add(se,se),F=n.mul(E,P),F=n.add(F,F),N=n.mul(y,F),C=n.mul(b,ne),C=n.add(N,C),N=n.sub(Z,C),C=n.add(Z,C),C=n.mul(N,C),N=n.mul(se,N),F=n.mul(b,F),ne=n.mul(y,ne),se=n.sub(H,ne),se=n.mul(y,se),se=n.add(se,F),F=n.add(H,H),H=n.add(F,H),H=n.add(H,ne),H=n.mul(H,se),C=n.add(C,H),ne=n.mul(k,P),ne=n.add(ne,ne),H=n.mul(ne,se),N=n.sub(N,H),F=n.mul(ne,Z),F=n.add(F,F),F=n.add(F,F),new f(N,C,F)}add(y){u(y);const{px:w,py:b,pz:E}=this,{px:k,py:P,pz:N}=y;let C=n.ZERO,F=n.ZERO,H=n.ZERO;const Z=t.a,ne=n.mul(t.b,ll);let se=n.mul(w,k),ue=n.mul(b,P),q=n.mul(E,N),V=n.add(w,b),U=n.add(k,P);V=n.mul(V,U),U=n.add(se,ue),V=n.sub(V,U),U=n.add(w,E);let x=n.add(k,N);return U=n.mul(U,x),x=n.add(se,q),U=n.sub(U,x),x=n.add(b,E),C=n.add(P,N),x=n.mul(x,C),C=n.add(ue,q),x=n.sub(x,C),H=n.mul(Z,U),C=n.mul(ne,q),H=n.add(C,H),C=n.sub(ue,H),H=n.add(ue,H),F=n.mul(C,H),ue=n.add(se,se),ue=n.add(ue,se),q=n.mul(Z,q),U=n.mul(ne,U),ue=n.add(ue,q),q=n.sub(se,q),q=n.mul(Z,q),U=n.add(U,q),se=n.mul(ue,U),F=n.add(F,se),se=n.mul(x,U),C=n.mul(V,C),C=n.sub(C,se),se=n.mul(V,ue),H=n.mul(x,H),H=n.add(H,se),new f(C,F,H)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return p.wNAFCached(this,c,y,w=>{const b=n.invertBatch(w.map(E=>E.pz));return w.map((E,k)=>E.toAffine(b[k])).map(f.fromAffine)})}multiplyUnsafe(y){const w=f.ZERO;if(y===Ut)return w;if(a(y),y===at)return this;const{endo:b}=t;if(!b)return p.unsafeLadder(this,y);let{k1neg:E,k1:k,k2neg:P,k2:N}=b.splitScalar(y),C=w,F=w,H=this;for(;k>Ut||N>Ut;)k&at&&(C=C.add(H)),N&at&&(F=F.add(H)),H=H.double(),k>>=at,N>>=at;return E&&(C=C.negate()),P&&(F=F.negate()),F=new f(n.mul(F.px,b.beta),F.py,F.pz),C.add(F)}multiply(y){a(y);let w=y,b,E;const{endo:k}=t;if(k){const{k1neg:P,k1:N,k2neg:C,k2:F}=k.splitScalar(w);let{p:H,f:Z}=this.wNAF(N),{p:ne,f:se}=this.wNAF(F);H=p.constTimeNegate(P,H),ne=p.constTimeNegate(C,ne),ne=new f(n.mul(ne.px,k.beta),ne.py,ne.pz),b=H.add(ne),E=Z.add(se)}else{const{p:P,f:N}=this.wNAF(w);b=P,E=N}return f.normalizeZ([b,E])[0]}multiplyAndAddUnsafe(y,w,b){const E=f.BASE,k=(N,C)=>C===Ut||C===at||!N.equals(E)?N.multiplyUnsafe(C):N.multiply(C),P=k(this,w).add(k(y,b));return P.is0()?void 0:P}toAffine(y){const{px:w,py:b,pz:E}=this,k=this.is0();y==null&&(y=k?n.ONE:n.inv(E));const P=n.mul(w,y),N=n.mul(b,y),C=n.mul(E,y);if(k)return{x:n.ZERO,y:n.ZERO};if(!n.eql(C,n.ONE))throw new Error("invZ was invalid");return{x:P,y:N}}isTorsionFree(){const{h:y,isTorsionFree:w}=t;if(y===at)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=t;return y===at?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),s(f,this,y)}toHex(y=!0){return Qn(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=gy(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:i}}function my(e){const t=cu(e);return Ns(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function by(e){const t=my(e),{Fp:n,n:s}=t,r=n.BYTES+1,o=2*n.BYTES+1;function i(U){return Ut<U&&U<n.ORDER}function a(U){return De(U,s)}function l(U){return Wo(U,s)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=wy({...t,toBytes(U,x,S){const I=x.toAffine(),L=n.toBytes(I.x),X=Tn;return S?X(Uint8Array.from([x.hasEvenY()?2:3]),L):X(Uint8Array.from([4]),L,n.toBytes(I.y))},fromBytes(U){const x=U.length,S=U[0],I=U.subarray(1);if(x===r&&(S===2||S===3)){const L=et(I);if(!i(L))throw new Error("Point is not on curve");const X=f(L);let re=n.sqrt(X);const z=(re&at)===at;return(S&1)===1!==z&&(re=n.neg(re)),{x:L,y:re}}else if(x===o&&S===4){const L=n.fromBytes(I.subarray(0,n.BYTES)),X=n.fromBytes(I.subarray(n.BYTES,2*n.BYTES));return{x:L,y:X}}else throw new Error(`Point of length ${x} was invalid. Expected ${r} compressed bytes or ${o} uncompressed bytes`)}}),p=U=>Qn(gn(U,t.nByteLength));function v(U){const x=s>>at;return U>x}function y(U){return v(U)?a(-U):U}const w=(U,x,S)=>et(U.slice(x,S));class b{constructor(x,S,I){this.r=x,this.s=S,this.recovery=I,this.assertValidity()}static fromCompact(x){const S=t.nByteLength;return x=Ke("compactSignature",x,S*2),new b(w(x,0,S),w(x,S,2*S))}static fromDER(x){const{r:S,s:I}=kn.toSig(Ke("DER",x));return new b(S,I)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(x){return new b(this.r,this.s,x)}recoverPublicKey(x){const{r:S,s:I,recovery:L}=this,X=F(Ke("msgHash",x));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const re=L===2||L===3?S+t.n:S;if(re>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const z=L&1?"03":"02",pe=c.fromHex(z+p(re)),he=l(re),Q=a(-X*he),Y=a(I*he),R=c.BASE.multiplyAndAddUnsafe(pe,Q,Y);if(!R)throw new Error("point at infinify");return R.assertValidity(),R}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Xn(this.toDERHex())}toDERHex(){return kn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xn(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const E={isValidPrivateKey(U){try{return u(U),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const U=lu(t.n);return hy(t.randomBytes(U),t.n)},precompute(U=8,x=c.BASE){return x._setWindowSize(U),x.multiply(BigInt(3)),x}};function k(U,x=!0){return c.fromPrivateKey(U).toRawBytes(x)}function P(U){const x=U instanceof Uint8Array,S=typeof U=="string",I=(x||S)&&U.length;return x?I===r||I===o:S?I===2*r||I===2*o:U instanceof c}function N(U,x,S=!0){if(P(U))throw new Error("first arg must be private key");if(!P(x))throw new Error("second arg must be public key");return c.fromHex(x).multiply(u(U)).toRawBytes(S)}const C=t.bits2int||function(U){const x=et(U),S=U.length*8-t.nBitLength;return S>0?x>>BigInt(S):x},F=t.bits2int_modN||function(U){return a(C(U))},H=Ti(t.nBitLength);function Z(U){if(typeof U!="bigint")throw new Error("bigint expected");if(!(Ut<=U&&U<H))throw new Error(`bigint expected < 2^${t.nBitLength}`);return gn(U,t.nByteLength)}function ne(U,x,S=se){if(["recovered","canonical"].some(O=>O in S))throw new Error("sign() legacy options not supported");const{hash:I,randomBytes:L}=t;let{lowS:X,prehash:re,extraEntropy:z}=S;X==null&&(X=!0),U=Ke("msgHash",U),re&&(U=Ke("prehashed msgHash",I(U)));const pe=F(U),he=u(x),Q=[Z(he),Z(pe)];if(z!=null){const O=z===!0?L(n.BYTES):z;Q.push(Ke("extraEntropy",O))}const Y=Tn(...Q),R=pe;function M(O){const J=C(O);if(!d(J))return;const le=l(J),fe=c.BASE.multiply(J).toAffine(),h=a(fe.x);if(h===Ut)return;const g=a(le*a(R+h*he));if(g===Ut)return;let m=(fe.x===h?0:2)|Number(fe.y&at),$=g;return X&&v(g)&&($=y(g),m^=1),new b(h,$,m)}return{seed:Y,k2sig:M}}const se={lowS:t.lowS,prehash:!1},ue={lowS:t.lowS,prehash:!1};function q(U,x,S=se){const{seed:I,k2sig:L}=ne(U,x,S),X=t;return ou(X.hash.outputLen,X.nByteLength,X.hmac)(I,L)}c.BASE._setWindowSize(8);function V(U,x,S,I=ue){var fe;const L=U;if(x=Ke("msgHash",x),S=Ke("publicKey",S),"strict"in I)throw new Error("options.strict was renamed to lowS");const{lowS:X,prehash:re}=I;let z,pe;try{if(typeof L=="string"||L instanceof Uint8Array)try{z=b.fromDER(L)}catch(h){if(!(h instanceof kn.Err))throw h;z=b.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:h,s:g}=L;z=new b(h,g)}else throw new Error("PARSE");pe=c.fromHex(S)}catch(h){if(h.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(X&&z.hasHighS())return!1;re&&(x=t.hash(x));const{r:he,s:Q}=z,Y=F(x),R=l(Q),M=a(Y*R),O=a(he*R),J=(fe=c.BASE.multiplyAndAddUnsafe(pe,M,O))==null?void 0:fe.toAffine();return J?a(J.x)===he:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:N,sign:q,verify:V,ProjectivePoint:c,Signature:b,utils:E}}let uu=class extends tu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Ug(t);const s=Ci(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return ur(this),this.iHash.update(t),this}digestInto(t){ur(this),Xc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fu=(e,t,n)=>new uu(e,t).update(n).digest();fu.create=(e,t)=>new uu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ey(e){return{hash:e,hmac:(t,...n)=>fu(e,t,Fg(...n)),randomBytes:nu}}function xy(e,t){const n=s=>by({...e,...Ey(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),du=BigInt(1),dr=BigInt(2),cl=(e,t)=>(e+t/dr)/t;function hu(e){const t=Mr,n=BigInt(3),s=BigInt(6),r=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,f=it(u,n,t)*u%t,d=it(f,n,t)*u%t,p=it(d,dr,t)*c%t,v=it(p,r,t)*p%t,y=it(v,o,t)*v%t,w=it(y,a,t)*y%t,b=it(w,l,t)*w%t,E=it(b,a,t)*y%t,k=it(E,n,t)*u%t,P=it(k,i,t)*v%t,N=it(P,s,t)*c%t,C=it(N,dr,t);if(!Go.eql(Go.sqr(C),e))throw new Error("Cannot find square root");return C}const Go=dy(Mr,void 0,void 0,{sqrt:hu}),rs=xy({a:BigInt(0),b:BigInt(7),Fp:Go,n:fr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-du*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=cl(o*e,t),l=cl(-s*e,t);let c=De(e-a*n-l*r,t),u=De(-a*s-l*o,t);const f=c>i,d=u>i;if(f&&(c=t-c),d&&(u=t-u),c>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:u}}}},Ko),Hr=BigInt(0),pu=e=>typeof e=="bigint"&&Hr<e&&e<Mr,Ry=e=>typeof e=="bigint"&&Hr<e&&e<fr,ul={};function hr(e,...t){let n=ul[e];if(n===void 0){const s=Ko(Uint8Array.from(e,r=>r.charCodeAt(0)));n=Tn(s,s),ul[e]=n}return Ko(Tn(n,...t))}const Li=e=>e.toRawBytes(!0).slice(1),Jo=e=>gn(e,32),vo=e=>De(e,Mr),As=e=>De(e,fr),Ni=rs.ProjectivePoint,Sy=(e,t,n)=>Ni.BASE.multiplyAndAddUnsafe(e,t,n);function Zo(e){let t=rs.utils.normPrivateKeyToScalar(e),n=Ni.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:As(-t),bytes:Li(n)}}function gu(e){if(!pu(e))throw new Error("bad x: need 0 < x < p");const t=vo(e*e),n=vo(t*e+BigInt(7));let s=hu(n);s%dr!==Hr&&(s=vo(-s));const r=new Ni(e,s,du);return r.assertValidity(),r}function yu(...e){return As(et(hr("BIP0340/challenge",...e)))}function ky(e){return Zo(e).bytes}function $y(e,t,n=nu(32)){const s=Ke("message",e),{bytes:r,scalar:o}=Zo(t),i=Ke("auxRand",n,32),a=Jo(o^et(hr("BIP0340/aux",i))),l=hr("BIP0340/nonce",a,r,s),c=As(et(l));if(c===Hr)throw new Error("sign failed: k is zero");const{bytes:u,scalar:f}=Zo(c),d=yu(u,r,s),p=new Uint8Array(64);if(p.set(u,0),p.set(Jo(As(f+d*o)),32),!vu(p,s,r))throw new Error("sign: Invalid signature produced");return p}function vu(e,t,n){const s=Ke("signature",e,64),r=Ke("message",t),o=Ke("publicKey",n,32);try{const i=gu(et(o)),a=et(s.subarray(0,32));if(!pu(a))return!1;const l=et(s.subarray(32,64));if(!Ry(l))return!1;const c=yu(Jo(a),Li(i),r),u=Sy(i,l,As(-c));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}const us=(()=>({getPublicKey:ky,sign:$y,verify:vu,utils:{randomPrivateKey:rs.utils.randomPrivateKey,lift_x:gu,pointToBytes:Li,numberToBytesBE:gn,bytesToNumberBE:et,taggedHash:hr,mod:De}}))(),_o=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bi=e=>e instanceof Uint8Array,wo=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),bt=(e,t)=>e<<32-t|e>>>t,Cy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Cy)throw new Error("Non little-endian hardware is not supported");const Ay=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xe(e){if(!Bi(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Ay[e[n]];return t}function es(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const r=s*2,o=e.slice(r,r+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function _u(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Is(e){if(typeof e=="string"&&(e=_u(e)),!Bi(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function pr(...e){const t=new Uint8Array(e.reduce((s,r)=>s+r.length,0));let n=0;return e.forEach(s=>{if(!Bi(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}class wu{clone(){return this._cloneInto()}}function mu(e){const t=s=>e().update(Is(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function bu(e=32){if(_o&&typeof _o.getRandomValues=="function")return _o.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Yo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Iy(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Eu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Py(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Yo(e.outputLen),Yo(e.blockLen)}function Ty(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ly(e,t){Eu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $t={number:Yo,bool:Iy,bytes:Eu,hash:Py,exists:Ty,output:Ly};function Ny(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const r=BigInt(32),o=BigInt(4294967295),i=Number(n>>r&o),a=Number(n&o),l=s?4:0,c=s?0:4;e.setUint32(t+l,i,s),e.setUint32(t+c,a,s)}class By extends wu{constructor(t,n,s,r){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=wo(this.buffer)}update(t){$t.exists(this);const{view:n,buffer:s,blockLen:r}=this;t=Is(t);const o=t.length;for(let i=0;i<o;){const a=Math.min(r-this.pos,o-i);if(a===r){const l=wo(t);for(;r<=o-i;i+=r)this.process(l,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$t.exists(this),$t.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:r,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(s,0),i=0);for(let f=i;f<r;f++)n[f]=0;Ny(s,r-8,BigInt(this.length*8),o),this.process(s,0);const a=wo(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,u[f],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:r,finished:o,destroyed:i,pos:a}=this;return t.length=r,t.pos=a,t.finished=o,t.destroyed=i,r%n&&t.buffer.set(s),t}}const Uy=(e,t,n)=>e&t^~e&n,Oy=(e,t,n)=>e&t^e&n^t&n,My=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=new Uint32Array(64);class xu extends By{constructor(){super(64,32,8,!1),this.A=Zt[0]|0,this.B=Zt[1]|0,this.C=Zt[2]|0,this.D=Zt[3]|0,this.E=Zt[4]|0,this.F=Zt[5]|0,this.G=Zt[6]|0,this.H=Zt[7]|0}get(){const{A:t,B:n,C:s,D:r,E:o,F:i,G:a,H:l}=this;return[t,n,s,r,o,i,a,l]}set(t,n,s,r,o,i,a,l){this.A=t|0,this.B=n|0,this.C=s|0,this.D=r|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=l|0}process(t,n){for(let f=0;f<16;f++,n+=4)Yt[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Yt[f-15],p=Yt[f-2],v=bt(d,7)^bt(d,18)^d>>>3,y=bt(p,17)^bt(p,19)^p>>>10;Yt[f]=y+Yt[f-7]+v+Yt[f-16]|0}let{A:s,B:r,C:o,D:i,E:a,F:l,G:c,H:u}=this;for(let f=0;f<64;f++){const d=bt(a,6)^bt(a,11)^bt(a,25),p=u+d+Uy(a,l,c)+My[f]+Yt[f]|0,y=(bt(s,2)^bt(s,13)^bt(s,22))+Oy(s,r,o)|0;u=c,c=l,l=a,a=i+p|0,i=o,o=r,r=s,s=p+y|0}s=s+this.A|0,r=r+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(s,r,o,i,a,l,c,u)}roundClean(){Yt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Hy extends xu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ms=mu(()=>new xu);mu(()=>new Hy);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function os(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Dt(...e){const t=(r,o)=>i=>r(o(i)),n=Array.from(e).reverse().reduce((r,o)=>r?t(r,o.encode):o.encode,void 0),s=e.reduce((r,o)=>r?t(r,o.decode):o.decode,void 0);return{encode:n,decode:s}}function qt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(os(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function Kt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Fr(e,t="="){if(os(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.decode: non-string input=${r}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function Ru(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function fl(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const r=[],o=Array.from(e);for(o.forEach(i=>{if(os(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let l=s;l<o.length;l++){const c=o[l],u=t*i+c;if(!Number.isSafeInteger(u)||t*i/t!==i||u-c!==t*i)throw new Error("convertRadix: carry overflow");if(i=u%n,o[l]=Math.floor(u/n),!Number.isSafeInteger(o[l])||o[l]*n+i!==u)throw new Error("convertRadix: carry overflow");if(a)o[l]?a=!1:s=l;else continue}if(r.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)r.push(0);return r.reverse()}const Su=(e,t)=>t?Su(t,e%t):e,gr=(e,t)=>e+(t-Su(e,t));function Qo(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(gr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${gr(t,n)}`);let r=0,o=0;const i=2**n-1,a=[];for(const l of e){if(os(l),l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(r=r<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((r>>o-n&i)>>>0);r&=2**o-1}if(r=r<<n-o&i,!s&&o>=t)throw new Error("Excess padding");if(!s&&r)throw new Error(`Non-zero padding: ${r}`);return s&&o>0&&a.push(r>>>0),a}function Fy(e){return os(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return fl(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(fl(t,e,2**8))}}}function vn(e,t=!1){if(os(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(gr(8,e)>32||gr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Qo(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Qo(n,e,8,t))}}}function dl(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const jy=Dt(vn(4),qt("0123456789ABCDEF"),Kt("")),Vy=Dt(vn(5),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fr(5),Kt(""));Dt(vn(5),qt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fr(5),Kt(""));Dt(vn(5),qt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Kt(""),Ru(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const jt=Dt(vn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fr(6),Kt("")),Dy=Dt(vn(6),qt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fr(6),Kt("")),Ui=e=>Dt(Fy(58),qt(e),Kt("")),Xo=Ui("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ui("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ui("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const hl=[0,2,3,5,6,7,9,10,11],qy={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Xo.encode(s).padStart(hl[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),r=hl.indexOf(s.length),o=Xo.decode(s);for(let i=0;i<o.length-r;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-r)))}return Uint8Array.from(t)}},ei=Dt(qt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Kt("")),pl=[996825010,642813549,513874426,1027748829,705979059];function fs(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<pl.length;s++)(t>>s&1)===1&&(n^=pl[s]);return n}function gl(e,t,n=1){const s=e.length;let r=1;for(let o=0;o<s;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);r=fs(r)^i>>5}r=fs(r);for(let o=0;o<s;o++)r=fs(r)^e.charCodeAt(o)&31;for(let o of t)r=fs(r)^o;for(let o=0;o<6;o++)r=fs(r);return r^=n,ei.encode(Qo([r%2**30],30,5,!1))}function ku(e){const t=e==="bech32"?1:734539939,n=vn(5),s=n.decode,r=n.encode,o=dl(s);function i(u,f,d=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=u.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return u=u.toLowerCase(),`${u}1${ei.encode(f)}${gl(u,f,t)}`}function a(u,f=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||f!==!1&&u.length>f)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${f})`);const d=u.toLowerCase();if(u!==d&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=d;const p=u.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=u.slice(0,p),y=u.slice(p+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const w=ei.decode(y).slice(0,-6),b=gl(v,w,t);if(!y.endsWith(b))throw new Error(`Invalid checksum in ${u}: expected "${b}"`);return{prefix:v,words:w}}const l=dl(a);function c(u){const{prefix:f,words:d}=a(u,!1);return{prefix:f,words:d,bytes:s(d)}}return{encode:i,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:s,fromWordsUnsafe:o,toWords:r}}const ts=ku("bech32");ku("bech32m");const Ky={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},zy=Dt(vn(4),qt("0123456789abcdef"),Kt(""),Ru(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),Wy={utf8:Ky,hex:zy,base16:jy,base32:Vy,base64:jt,base64url:Dy,base58:Xo,base58xmr:qy};`${Object.keys(Wy).join(", ")}`;function mo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function yl(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Gy(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Mt(e,...t){if(!Gy(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const We=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Jy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Jy)throw new Error("Non little-endian hardware is not supported");function $u(e){if(typeof e!="string")throw new Error(`string expected, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Zy(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Yy(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const Qy=(e,t)=>(Object.assign(t,e),t),dn=16,Xy=283;function Oi(e){return e<<1^Xy&-(e>>7)}function jn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Oi(e);return n}const ti=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Oi(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),e0=ti.map((e,t)=>ti.indexOf(t)),t0=e=>e<<24|e>>>8,bo=e=>e<<8|e>>>24;function Cu(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((c,u)=>t(e[u])),s=n.map(bo),r=s.map(bo),o=r.map(bo),i=new Uint32Array(256*256),a=new Uint32Array(256*256),l=new Uint16Array(256*256);for(let c=0;c<256;c++)for(let u=0;u<256;u++){const f=c*256+u;i[f]=n[c]^s[u],a[f]=r[c]^o[u],l[f]=e[c]<<8|e[u]}return{sbox:e,sbox2:l,T0:n,T1:s,T2:r,T3:o,T01:i,T23:a}}const Mi=Cu(ti,e=>jn(e,3)<<24|e<<16|e<<8|jn(e,2)),Au=Cu(e0,e=>jn(e,11)<<24|jn(e,13)<<16|jn(e,9)<<8|jn(e,14)),n0=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Oi(n))e[t]=n;return e})();function Iu(e){Mt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Mi,s=We(e),r=s.length,o=a=>Ct(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=r;a<i.length;a++){let l=i[a-1];a%r===0?l=o(t0(l))^n0[a/r-1]:r>6&&a%r===4&&(l=o(l)),i[a]=i[a-r]^l}return i}function s0(e){const t=Iu(e),n=t.slice(),s=t.length,{sbox2:r}=Mi,{T0:o,T1:i,T2:a,T3:l}=Au;for(let c=0;c<s;c+=4)for(let u=0;u<4;u++)n[c+u]=t[s-c-4+u];t.fill(0);for(let c=4;c<s-4;c++){const u=n[c],f=Ct(r,u,u,u,u);n[c]=o[f&255]^i[f>>>8&255]^a[f>>>16&255]^l[f>>>24]}return n}function on(e,t,n,s,r,o){return e[n<<8&65280|s>>>8&255]^t[r>>>8&65280|o>>>24&255]}function Ct(e,t,n,s,r){return e[t&255|n&65280]|e[s>>>16&255|r>>>16&65280]<<16}function vl(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Mi;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let v=0;v<c;v++){const y=e[l++]^on(i,a,t,n,s,r),w=e[l++]^on(i,a,n,s,r,t),b=e[l++]^on(i,a,s,r,t,n),E=e[l++]^on(i,a,r,t,n,s);t=y,n=w,s=b,r=E}const u=e[l++]^Ct(o,t,n,s,r),f=e[l++]^Ct(o,n,s,r,t),d=e[l++]^Ct(o,s,r,t,n),p=e[l++]^Ct(o,r,t,n,s);return{s0:u,s1:f,s2:d,s3:p}}function r0(e,t,n,s,r){const{sbox2:o,T01:i,T23:a}=Au;let l=0;t^=e[l++],n^=e[l++],s^=e[l++],r^=e[l++];const c=e.length/4-2;for(let v=0;v<c;v++){const y=e[l++]^on(i,a,t,r,s,n),w=e[l++]^on(i,a,n,t,r,s),b=e[l++]^on(i,a,s,n,t,r),E=e[l++]^on(i,a,r,s,n,t);t=y,n=w,s=b,r=E}const u=e[l++]^Ct(o,t,r,s,n),f=e[l++]^Ct(o,n,t,r,s),d=e[l++]^Ct(o,s,n,t,r),p=e[l++]^Ct(o,r,s,n,t);return{s0:u,s1:f,s2:d,s3:p}}function Pu(e,t){if(!t)return new Uint8Array(e);if(Mt(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function o0(e){if(Mt(e),e.length%dn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${dn}`)}function i0(e,t,n){let s=e.length;const r=s%dn;if(!t&&r!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const o=We(e);if(t){let l=dn-r;l||(l=dn),s=s+l}const i=Pu(s,n),a=We(i);return{b:o,o:a,out:i}}function a0(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const r=e.subarray(0,-s);for(let o=0;o<s;o++)if(e[n-o-1]!==s)throw new Error("aes/pcks5: wrong padding");return r}function l0(e){const t=new Uint8Array(16),n=We(t);t.set(e);const s=dn-e.length;for(let r=dn-s;r<dn;r++)t[r]=s;return n}const Tu=Qy({blockSize:16,nonceLength:16},function(t,n,s={}){Mt(t),Mt(n,16);const r=!s.disablePadding;return{encrypt:(o,i)=>{const a=Iu(t),{b:l,o:c,out:u}=i0(o,r,i),f=We(n);let d=f[0],p=f[1],v=f[2],y=f[3],w=0;for(;w+4<=l.length;)d^=l[w+0],p^=l[w+1],v^=l[w+2],y^=l[w+3],{s0:d,s1:p,s2:v,s3:y}=vl(a,d,p,v,y),c[w++]=d,c[w++]=p,c[w++]=v,c[w++]=y;if(r){const b=l0(o.subarray(w*4));d^=b[0],p^=b[1],v^=b[2],y^=b[3],{s0:d,s1:p,s2:v,s3:y}=vl(a,d,p,v,y),c[w++]=d,c[w++]=p,c[w++]=v,c[w++]=y}return a.fill(0),u},decrypt:(o,i)=>{o0(o);const a=s0(t),l=We(n),c=Pu(o.length,i),u=We(o),f=We(c);let d=l[0],p=l[1],v=l[2],y=l[3];for(let w=0;w+4<=u.length;){const b=d,E=p,k=v,P=y;d=u[w+0],p=u[w+1],v=u[w+2],y=u[w+3];const{s0:N,s1:C,s2:F,s3:H}=r0(a,d,p,v,y);f[w++]=N^b,f[w++]=C^E,f[w++]=F^k,f[w++]=H^P}return a.fill(0),a0(c,r)}}}),c0=$u("expand 16-byte k"),u0=$u("expand 32-byte k"),f0=We(c0),d0=We(u0);function Ee(e,t){return e<<t|e>>>32-t}function ni(e){return e.byteOffset%4===0}const Ks=64,h0=16,Lu=2**32-1,_l=new Uint32Array;function p0(e,t,n,s,r,o,i,a){const l=r.length,c=new Uint8Array(Ks),u=We(c),f=ni(r)&&ni(o),d=f?We(r):_l,p=f?We(o):_l;for(let v=0;v<l;i++){if(e(t,n,s,u,i,a),i>=Lu)throw new Error("arx: counter overflow");const y=Math.min(Ks,l-v);if(f&&y===Ks){const w=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<h0;b++)E=w+b,p[E]=d[E]^u[b];v+=Ks;continue}for(let w=0,b;w<y;w++)b=v+w,o[b]=r[b]^c[w];v+=y}}function g0(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:r,counterRight:o,rounds:i}=Zy({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return mo(r),mo(i),yl(o),yl(n),(a,l,c,u,f=0)=>{Mt(a),Mt(l),Mt(c);const d=c.length;if(u||(u=new Uint8Array(d)),Mt(u),mo(f),f<0||f>=Lu)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const p=[];let v=a.length,y,w;if(v===32)y=a.slice(),p.push(y),w=d0;else if(v===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),w=f0,p.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);ni(l)||(l=l.slice(),p.push(l));const b=We(y);if(s){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(w,b,We(l.subarray(0,16)),b),l=l.subarray(16)}const E=16-r;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const P=new Uint8Array(12);P.set(l,o?0:12-l.length),l=P,p.push(l)}const k=We(l);for(p0(e,w,b,k,c,u,f,i);p.length>0;)p.pop().fill(0);return u}}function y0(e,t,n,s,r,o=20){let i=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],d=t[2],p=t[3],v=t[4],y=t[5],w=t[6],b=t[7],E=r,k=n[0],P=n[1],N=n[2],C=i,F=a,H=l,Z=c,ne=u,se=f,ue=d,q=p,V=v,U=y,x=w,S=b,I=E,L=k,X=P,re=N;for(let pe=0;pe<o;pe+=2)C=C+ne|0,I=Ee(I^C,16),V=V+I|0,ne=Ee(ne^V,12),C=C+ne|0,I=Ee(I^C,8),V=V+I|0,ne=Ee(ne^V,7),F=F+se|0,L=Ee(L^F,16),U=U+L|0,se=Ee(se^U,12),F=F+se|0,L=Ee(L^F,8),U=U+L|0,se=Ee(se^U,7),H=H+ue|0,X=Ee(X^H,16),x=x+X|0,ue=Ee(ue^x,12),H=H+ue|0,X=Ee(X^H,8),x=x+X|0,ue=Ee(ue^x,7),Z=Z+q|0,re=Ee(re^Z,16),S=S+re|0,q=Ee(q^S,12),Z=Z+q|0,re=Ee(re^Z,8),S=S+re|0,q=Ee(q^S,7),C=C+se|0,re=Ee(re^C,16),x=x+re|0,se=Ee(se^x,12),C=C+se|0,re=Ee(re^C,8),x=x+re|0,se=Ee(se^x,7),F=F+ue|0,I=Ee(I^F,16),S=S+I|0,ue=Ee(ue^S,12),F=F+ue|0,I=Ee(I^F,8),S=S+I|0,ue=Ee(ue^S,7),H=H+q|0,L=Ee(L^H,16),V=V+L|0,q=Ee(q^V,12),H=H+q|0,L=Ee(L^H,8),V=V+L|0,q=Ee(q^V,7),Z=Z+ne|0,X=Ee(X^Z,16),U=U+X|0,ne=Ee(ne^U,12),Z=Z+ne|0,X=Ee(X^Z,8),U=U+X|0,ne=Ee(ne^U,7);let z=0;s[z++]=i+C|0,s[z++]=a+F|0,s[z++]=l+H|0,s[z++]=c+Z|0,s[z++]=u+ne|0,s[z++]=f+se|0,s[z++]=d+ue|0,s[z++]=p+q|0,s[z++]=v+V|0,s[z++]=y+U|0,s[z++]=w+x|0,s[z++]=b+S|0,s[z++]=E+I|0,s[z++]=k+L|0,s[z++]=P+X|0,s[z++]=N+re|0}const wl=g0(y0,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Nu extends wu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,$t.hash(t);const s=Is(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(s.length>r?t.create().update(s).digest():s);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return $t.exists(this),this.iHash.update(t),this}digestInto(t){$t.exists(this),$t.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:r,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=r,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jr=(e,t,n)=>new Nu(e,t).update(n).digest();jr.create=(e,t)=>new Nu(e,t);function v0(e,t,n){return $t.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),jr(e,Is(n),Is(t))}const Eo=new Uint8Array([0]),ml=new Uint8Array;function _0(e,t,n,s=32){if($t.hash(e),$t.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const r=Math.ceil(s/e.outputLen);n===void 0&&(n=ml);const o=new Uint8Array(r*e.outputLen),i=jr.create(e,t),a=i._cloneInto(),l=new Uint8Array(i.outputLen);for(let c=0;c<r;c++)Eo[0]=c+1,a.update(c===0?ml:l).update(n).update(Eo).digestInto(l),o.set(l,e.outputLen*c),i._cloneInto(a);return i.destroy(),a.destroy(),l.fill(0),Eo.fill(0),o.slice(0,s)}var Bu=Object.defineProperty,w0=(e,t,n)=>t in e?Bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t)Bu(e,n,{get:t[n],enumerable:!0})},Vr=(e,t,n)=>(w0(e,typeof t!="symbol"?t+"":t,n),n),En=Symbol("verified"),m0=e=>e instanceof Object;function Uu(e){if(!m0(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var In={};Ue(In,{Queue:()=>Mu,QueueNode:()=>Ou,binarySearch:()=>Hi,insertEventIntoAscendingList:()=>E0,insertEventIntoDescendingList:()=>b0,normalizeURL:()=>Vn,utf8Decoder:()=>Ot,utf8Encoder:()=>Pt});var Ot=new TextDecoder("utf-8"),Pt=new TextEncoder;function Vn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function b0(e,t){const[n,s]=Hi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:r.created_at-t.created_at);return s||e.splice(n,0,t),e}function E0(e,t){const[n,s]=Hi(e,r=>t.id===r.id?0:t.created_at===r.created_at?-1:t.created_at-r.created_at);return s||e.splice(n,0,t),e}function Hi(e,t){let n=0,s=e.length-1;for(;n<=s;){const r=Math.floor((n+s)/2),o=t(e[r]);if(o===0)return[r,!0];o<0?s=r-1:n=r+1}return[n,!1]}var Ou=class{constructor(e){ve(this,"value");ve(this,"next",null);ve(this,"prev",null);this.value=e}},Mu=class{constructor(){ve(this,"first");ve(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Ou(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},x0=class{generateSecretKey(){return us.utils.randomPrivateKey()}getPublicKey(e){return Xe(us.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Xe(us.getPublicKey(t)),n.id=Xs(n),n.sig=Xe(us.sign(Xs(n),t)),n[En]=!0,n}verifyEvent(e){if(typeof e[En]=="boolean")return e[En];const t=Xs(e);if(t!==e.id)return e[En]=!1,!1;try{const n=us.verify(e.sig,t,e.pubkey);return e[En]=n,n}catch{return e[En]=!1,!1}}};function R0(e){if(!Uu(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Xs(e){let t=ms(Pt.encode(R0(e)));return Xe(t)}var Dr=new x0,S0=Dr.generateSecretKey,k0=Dr.getPublicKey,vt=Dr.finalizeEvent,Un=Dr.verifyEvent,$0={};Ue($0,{Application:()=>$v,BadgeAward:()=>U0,BadgeDefinition:()=>mv,BlockedRelaysList:()=>ov,BookmarkList:()=>nv,Bookmarksets:()=>vv,Calendar:()=>Nv,CalendarEventRSVP:()=>Bv,ChannelCreation:()=>Du,ChannelHideMessage:()=>zu,ChannelMessage:()=>Ku,ChannelMetadata:()=>qu,ChannelMuteUser:()=>Wu,ClassifiedListing:()=>Iv,ClientAuth:()=>Gu,CommunitiesList:()=>sv,CommunityDefinition:()=>Mv,CommunityPostApproval:()=>K0,Contacts:()=>T0,CreateOrUpdateProduct:()=>xv,CreateOrUpdateStall:()=>Ev,Curationsets:()=>_v,Date:()=>Tv,DraftClassifiedListing:()=>Pv,DraftLong:()=>Sv,Emojisets:()=>kv,EncryptedDirectMessage:()=>L0,EncryptedDirectMessages:()=>N0,EventDeletion:()=>B0,FileMetadata:()=>H0,FileServerPreference:()=>cv,Followsets:()=>pv,GenericRepost:()=>O0,Genericlists:()=>gv,HTTPAuth:()=>Vi,Handlerinformation:()=>Ov,Handlerrecommendation:()=>Uv,Highlights:()=>Q0,InterestsList:()=>av,Interestsets:()=>bv,JobFeedback:()=>G0,JobRequest:()=>z0,JobResult:()=>W0,Label:()=>q0,LightningPubRPC:()=>fv,LiveChatMessage:()=>F0,LiveEvent:()=>Cv,LongFormArticle:()=>Rv,Metadata:()=>A0,Mutelist:()=>X0,NWCWalletInfo:()=>uv,NWCWalletRequest:()=>Ju,NWCWalletResponse:()=>dv,NostrConnect:()=>hv,OpenTimestamps:()=>M0,Pinlist:()=>ev,ProblemTracker:()=>j0,ProfileBadges:()=>wv,PublicChatsList:()=>rv,Reaction:()=>ji,RecommendRelay:()=>P0,RelayList:()=>tv,Relaysets:()=>yv,Report:()=>V0,Reporting:()=>D0,Repost:()=>Fi,SearchRelaysList:()=>iv,ShortTextNote:()=>I0,Time:()=>Lv,UserEmojiList:()=>lv,UserStatuses:()=>Av,Zap:()=>Y0,ZapGoal:()=>J0,ZapRequest:()=>Z0,classifyKind:()=>C0,isEphemeralKind:()=>ju,isParameterizedReplaceableKind:()=>Vu,isRegularKind:()=>Hu,isReplaceableKind:()=>Fu});function Hu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Fu(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function ju(e){return 2e4<=e&&e<3e4}function Vu(e){return 3e4<=e&&e<4e4}function C0(e){return Hu(e)?"regular":Fu(e)?"replaceable":ju(e)?"ephemeral":Vu(e)?"parameterized":"unknown"}var A0=0,I0=1,P0=2,T0=3,L0=4,N0=4,B0=5,Fi=6,ji=7,U0=8,O0=16,Du=40,qu=41,Ku=42,zu=43,Wu=44,M0=1040,H0=1063,F0=1311,j0=1971,V0=1984,D0=1984,q0=1985,K0=4550,z0=5999,W0=6999,G0=7e3,J0=9041,Z0=9734,Y0=9735,Q0=9802,X0=1e4,ev=10001,tv=10002,nv=10003,sv=10004,rv=10005,ov=10006,iv=10007,av=10015,lv=10030,cv=10096,uv=13194,fv=21e3,Gu=22242,Ju=23194,dv=23195,hv=24133,Vi=27235,pv=3e4,gv=30001,yv=30002,vv=30003,_v=30004,wv=30008,mv=30009,bv=30015,Ev=30017,xv=30018,Rv=30023,Sv=30024,kv=30030,$v=30078,Cv=30311,Av=30315,Iv=30402,Pv=30403,Tv=31922,Lv=31923,Nv=31924,Bv=31925,Uv=31989,Ov=31990,Mv=34550;function Hv(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1&&!e.ids.some(n=>t.id.startsWith(n))||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1&&!e.authors.some(n=>t.pubkey.startsWith(n)))return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),r=e[`#${s}`];if(r&&!t.tags.find(([o,i])=>o===n.slice(1)&&r.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Fv(e,t){for(let n=0;n<e.length;n++)if(Hv(e[n],t))return!0;return!1}var jv={};Ue(jv,{getHex64:()=>qr,getInt:()=>Zu,getSubscriptionId:()=>Yu,matchEventId:()=>Vv,matchEventKind:()=>qv,matchEventPubkey:()=>Dv});function qr(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,r=e.slice(s).indexOf('"')+s+1;return e.slice(r,r+64)}function Zu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,r=e.slice(s),o=Math.min(r.indexOf(","),r.indexOf("}"));return parseInt(r.slice(0,o),10)}function Yu(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,r=e.slice(s+1,80).indexOf('"');if(r===-1)return null;let o=s+1+r;return e.slice(s+1,o)}function Vv(e,t){return t===qr(e,"id")}function Dv(e,t){return t===qr(e,"pubkey")}function qv(e,t){return t===Zu(e,"kind")}var Kv={};Ue(Kv,{makeAuthEvent:()=>Qu});function Qu(e,t){return{kind:Gu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function zv(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var Wv=e=>(e[En]=!0,!0),Xu;try{Xu=WebSocket}catch{}var Di=class{constructor(e,t){ve(this,"url");ve(this,"_connected",!1);ve(this,"onclose",null);ve(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ve(this,"_onauth",null);ve(this,"baseEoseTimeout",4400);ve(this,"connectionTimeout",4400);ve(this,"openSubs",new Map);ve(this,"connectionTimeoutHandle");ve(this,"connectionPromise");ve(this,"openCountRequests",new Map);ve(this,"openEventPublishes",new Map);ve(this,"ws");ve(this,"incomingMessageQueue",new Mu);ve(this,"queueRunning",!1);ve(this,"challenge");ve(this,"serial",0);ve(this,"verifyEvent");this.url=Vn(e),this.verifyEvent=t.verifyEvent}static async connect(e,t){const n=new Di(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new Xu(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await zv();this.queueRunning=!1}handleNext(){var n,s,r;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=Yu(e);if(t){const o=this.openSubs.get(t);if(!o)return;const i=qr(e,"id"),a=(n=o.alreadyHaveEvent)==null?void 0:n.call(o,i);if((s=o.receivedEvent)==null||s.call(o,this,i),a)return}try{let o=JSON.parse(e);switch(o[0]){case"EVENT":{const i=this.openSubs.get(o[1]),a=o[2];this.verifyEvent(a)&&Fv(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=o[1],a=o[2],l=this.openCountRequests.get(i);l&&(l.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(o[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=o[1],a=o[2],l=o[3],c=this.openEventPublishes.get(i);a?c.resolve(l):c.reject(new Error(l)),this.openEventPublishes.delete(i);return}case"CLOSED":{const i=o[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(o[2]);return}case"NOTICE":this.onnotice(o[1]);return;case"AUTH":{this.challenge=o[1],(r=this._onauth)==null||r.call(this,o[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(Qu(this.url,this.challenge)),n=new Promise((s,r)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:r})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((r,o)=>{this.openCountRequests.set(n,{resolve:r,reject:o})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e)+"]"),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new Gv(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Gv=class{constructor(e,t,n,s){ve(this,"relay");ve(this,"id");ve(this,"closed",!1);ve(this,"eosed",!1);ve(this,"filters");ve(this,"alreadyHaveEvent");ve(this,"receivedEvent");ve(this,"onevent");ve(this,"oneose");ve(this,"onclose");ve(this,"eoseTimeout");ve(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(r=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,r)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},si=class extends Di{constructor(e){super(e,{verifyEvent:Un})}static async connect(e){const t=new si(e);return await t.connect(),t}},Jv=class{constructor(e){ve(this,"relays",new Map);ve(this,"seenOn",new Map);ve(this,"trackRelays",!1);ve(this,"verifyEvent");ve(this,"trustedRelayURLs",new Set);this.verifyEvent=e.verifyEvent}async ensureRelay(e,t){e=Vn(e);let n=this.relays.get(e);return n||(n=new Di(e,{verifyEvent:this.trustedRelayURLs.has(e)?Wv:this.verifyEvent}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Vn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(s=>[s,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(f,d)=>{let p=this.seenOn.get(d);p||(p=new Set,this.seenOn.set(d,p)),p.add(f)});const n=new Set,s=[],r=Object.keys(e).length,o=[];let i=f=>{var d;o[f]=!0,o.filter(p=>p).length===r&&((d=t.oneose)==null||d.call(t),i=()=>{})};const a=[];let l=(f,d)=>{var p;i(f),a[f]=d,a.filter(v=>v).length===r&&((p=t.onclose)==null||p.call(t,a),l=()=>{})};const c=f=>{var p;if((p=t.alreadyHaveEvent)!=null&&p.call(t,f))return!0;const d=n.has(f);return n.add(f),d},u=Promise.all(Object.entries(e).map(async(f,d,p)=>{if(p.indexOf(f)!==d){l(d,"duplicate url");return}let[v,y]=f;v=Vn(v);let w;try{w=await this.ensureRelay(v,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(E){l(d,(E==null?void 0:E.message)||String(E));return}let b=w.subscribe(y,{...t,oneose:()=>i(d),onclose:E=>l(d,E),alreadyHaveEvent:c,eoseTimeout:t.maxWait});s.push(b)}));return{async close(){await u,s.forEach(f=>{f.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const r=[];this.subscribeManyEose(e,[t],{...n,onevent(o){r.push(o)},onclose(o){s(r)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((r,o)=>o.created_at-r.created_at),s[0]||null}publish(e,t){return e.map(Vn).map(async(n,s,r)=>r.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},Ln=class extends Jv{constructor(){super({verifyEvent:Un})}},Ve={};Ue(Ve,{BECH32_REGEX:()=>ef,Bech32MaxSize:()=>qi,decode:()=>Bs,encodeBytes:()=>Kr,naddrEncode:()=>n_,neventEncode:()=>t_,noteEncode:()=>Xv,nprofileEncode:()=>e_,npubEncode:()=>Qv,nrelayEncode:()=>s_,nsecEncode:()=>Yv});var qi=5e3,ef=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function Zv(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function Bs(e){var r,o,i,a,l,c,u,f;let{prefix:t,words:n}=ts.decode(e,qi),s=new Uint8Array(ts.fromWords(n));switch(t){case"nprofile":{let d=zs(s);if(!((r=d[0])!=null&&r[0]))throw new Error("missing TLV 0 for nprofile");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Xe(d[0][0]),relays:d[1]?d[1].map(p=>Ot.decode(p)):[]}}}case"nevent":{let d=zs(s);if(!((o=d[0])!=null&&o[0]))throw new Error("missing TLV 0 for nevent");if(d[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(d[2]&&d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(d[3]&&d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Xe(d[0][0]),relays:d[1]?d[1].map(p=>Ot.decode(p)):[],author:(i=d[2])!=null&&i[0]?Xe(d[2][0]):void 0,kind:(a=d[3])!=null&&a[0]?parseInt(Xe(d[3][0]),16):void 0}}}case"naddr":{let d=zs(s);if(!((l=d[0])!=null&&l[0]))throw new Error("missing TLV 0 for naddr");if(!((c=d[2])!=null&&c[0]))throw new Error("missing TLV 2 for naddr");if(d[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((u=d[3])!=null&&u[0]))throw new Error("missing TLV 3 for naddr");if(d[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ot.decode(d[0][0]),pubkey:Xe(d[2][0]),kind:parseInt(Xe(d[3][0]),16),relays:d[1]?d[1].map(p=>Ot.decode(p)):[]}}}case"nrelay":{let d=zs(s);if(!((f=d[0])!=null&&f[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Ot.decode(d[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:Xe(s)};default:throw new Error(`unknown prefix ${t}`)}}function zs(e){let t={},n=e;for(;n.length>0;){let s=n[0],r=n[1],o=n.slice(2,2+r);if(n=n.slice(2+r),o.length<r)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(o)}return t}function Yv(e){return Kr("nsec",e)}function Qv(e){return Kr("npub",es(e))}function Xv(e){return Kr("note",es(e))}function Us(e,t){let n=ts.toWords(t);return ts.encode(e,n,qi)}function Kr(e,t){return Us(e,t)}function e_(e){let t=zr({0:[es(e.pubkey)],1:(e.relays||[]).map(n=>Pt.encode(n))});return Us("nprofile",t)}function t_(e){let t;e.kind!==void 0&&(t=Zv(e.kind));let n=zr({0:[es(e.id)],1:(e.relays||[]).map(s=>Pt.encode(s)),2:e.author?[es(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Us("nevent",n)}function n_(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=zr({0:[Pt.encode(e.identifier)],1:(e.relays||[]).map(s=>Pt.encode(s)),2:[es(e.pubkey)],3:[new Uint8Array(t)]});return Us("naddr",n)}function s_(e){let t=zr({0:[Pt.encode(e)]});return Us("nrelay",t)}function zr(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(r=>{let o=new Uint8Array(r.length+2);o.set([parseInt(n)],0),o.set([r.length],1),o.set(r,2),t.push(o)})}),pr(...t)}var r_=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function Wr(e){let t=[];for(let n of e.content.matchAll(r_))if(n[2])try{let{type:s,data:r}=Bs(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:r,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:r});break}case"note":{t.push({text:n[0],event:{id:r,relays:[]}});break}case"nevent":{t.push({text:n[0],event:r});break}case"naddr":{t.push({text:n[0],address:r});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),r=e.tags[s];if(!r)continue;switch(r[0]){case"p":{t.push({text:n[0],profile:{pubkey:r[1],relays:r[2]?[r[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:r[1],relays:r[2]?[r[2]]:[]}});break}case"a":{try{let[o,i,a]=r[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(o,10),relays:r[2]?[r[2]]:[]}})}catch{}break}}}return t}var o_={};Ue(o_,{decrypt:()=>i_,encrypt:()=>tf});async function tf(e,t,n){const s=e instanceof Uint8Array?Xe(e):e,r=rs.getSharedSecret(s,"02"+t),o=nf(r);let i=Uint8Array.from(bu(16)),a=Pt.encode(n),l=Tu(o,i).encrypt(a),c=jt.encode(new Uint8Array(l)),u=jt.encode(new Uint8Array(i.buffer));return`${c}?iv=${u}`}async function i_(e,t,n){const s=e instanceof Uint8Array?Xe(e):e;let[r,o]=n.split("?iv="),i=rs.getSharedSecret(s,"02"+t),a=nf(i),l=jt.decode(o),c=jt.decode(r),u=Tu(a,l).decrypt(c);return Ot.decode(u)}function nf(e){return e.slice(1,33)}var sf={};Ue(sf,{NIP05_REGEX:()=>rf,isValid:()=>c_,queryProfile:()=>of,searchDomain:()=>l_,useFetchImplementation:()=>a_});var rf=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Gr;try{Gr=fetch}catch{}function a_(e){Gr=e}async function l_(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Gr(n,{redirect:"error"})).json()).names}catch{return{}}}async function of(e){var o;const t=e.match(rf);if(!t)return null;const[n,s="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${s}`,a=await(await Gr(i,{redirect:"error"})).json();let l=a.names[s];return l?{pubkey:l,relays:(o=a.relays)==null?void 0:o[l]}:null}catch{return null}}async function c_(e,t){let n=await of(t);return n?n.pubkey===e:!1}var Ge={};Ue(Ge,{parse:()=>u_});function u_(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const r=n[s],[o,i,a,l]=r,c={id:i,relays:a?[a]:[]},u=s===0,f=s===n.length-1;if(l==="root"){t.root=c;continue}if(l==="reply"){t.reply=c;continue}if(l==="mention"){t.mentions.push(c);continue}if(u){t.root=c;continue}if(f){t.reply=c;continue}t.mentions.push(c)}return t}var f_={};Ue(f_,{fetchRelayInformation:()=>h_,useFetchImplementation:()=>d_});var af;try{af=fetch}catch{}function d_(e){af=e}async function h_(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var p_={};Ue(p_,{getPow:()=>lf,minePow:()=>g_});function lf(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function g_(e,t){let n=0;const s=e,r=["nonce",n.toString(),t.toString()];for(s.tags.push(r);;){const o=Math.floor(new Date().getTime()/1e3);if(o!==s.created_at&&(n=0,s.created_at=o),r[1]=(++n).toString(),s.id=Xs(s),lf(s.id)>=t)break}return s}var y_={};Ue(y_,{finishRepostEvent:()=>v_,getRepostedEvent:()=>__,getRepostedEventPointer:()=>cf});function v_(e,t,n,s){return vt({kind:Fi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function cf(e){if(e.kind!==Fi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function __(e,{skipVerification:t}={}){const n=cf(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Un(s)))return s}var w_={};Ue(w_,{NOSTR_URI_REGEX:()=>Jr,parse:()=>b_,test:()=>m_});var Jr=new RegExp(`nostr:(${ef.source})`);function m_(e){return typeof e=="string"&&new RegExp(`^${Jr.source}$`).test(e)}function b_(e){const t=e.match(new RegExp(`^${Jr.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Bs(t[1])}}var E_={};Ue(E_,{finishReactionEvent:()=>x_,getReactedEventPointer:()=>R_});function x_(e,t,n){const s=t.tags.filter(r=>r.length>=2&&(r[0]==="e"||r[0]==="p"));return vt({...e,kind:ji,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function R_(e){if(e.kind!==ji)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const r=e.tags[s];r.length>=2&&(r[0]==="e"&&t===void 0?t=r:r[0]==="p"&&n===void 0&&(n=r))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var S_={};Ue(S_,{matchAll:()=>k_,regex:()=>Ki,replaceAll:()=>$_});var Ki=()=>new RegExp(`\\b${Jr.source}\\b`,"g");function*k_(e){const t=e.matchAll(Ki());for(const n of t)try{const[s,r]=n;yield{uri:s,value:r,decoded:Bs(r),start:n.index,end:n.index+s.length}}catch{}}function $_(e,t){return e.replaceAll(Ki(),(n,s)=>t({uri:n,value:s,decoded:Bs(s)}))}var C_={};Ue(C_,{channelCreateEvent:()=>A_,channelHideMessageEvent:()=>T_,channelMessageEvent:()=>P_,channelMetadataEvent:()=>I_,channelMuteUserEvent:()=>L_});var A_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Du,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},I_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:qu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},P_=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),vt({kind:Ku,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},T_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:zu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},L_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return vt({kind:Wu,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},N_={};Ue(N_,{EMOJI_SHORTCODE_REGEX:()=>uf,matchAll:()=>B_,regex:()=>zi,replaceAll:()=>U_});var uf=/:(\w+):/,zi=()=>new RegExp(`\\B${uf.source}\\B`,"g");function*B_(e){const t=e.matchAll(zi());for(const n of t)try{const[s,r]=n;yield{shortcode:s,name:r,start:n.index,end:n.index+s.length}}catch{}}function U_(e,t){return e.replaceAll(zi(),(n,s)=>t({shortcode:n,name:s}))}var O_={};Ue(O_,{useFetchImplementation:()=>M_,validateGithub:()=>H_});var Wi;try{Wi=fetch}catch{}function M_(e){Wi=e}async function H_(e,t,n){try{return await(await Wi(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var F_={};Ue(F_,{default:()=>V_,v2:()=>Gi});var j_=new TextDecoder,xt=class{static utf8Decode(e){return j_.decode(e)}static getConversationKey(e,t){const n=rs.getSharedSecret(e,"02"+t).subarray(1,33);return v0(ms,n,"nip44-v2")}static getMessageKeys(e,t){const n=_0(ms,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}static calcPaddedLen(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}static writeU16BE(e){if(!Number.isSafeInteger(e)||e<xt.minPlaintextSize||e>xt.maxPlaintextSize)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}static pad(e){const t=xt.utf8Encode(e),n=t.length,s=xt.writeU16BE(n),r=new Uint8Array(xt.calcPaddedLen(n)-n);return pr(s,t,r)}static unpad(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<xt.minPlaintextSize||t>xt.maxPlaintextSize||n.length!==t||e.length!==2+xt.calcPaddedLen(t))throw new Error("invalid padding");return xt.utf8Decode(n)}static hmacAad(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=pr(n,t);return jr(ms,e,s)}static decodePayload(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=jt.decode(e)}catch(o){throw new Error("invalid base64: "+o.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const r=n[0];if(r!==2)throw new Error("unknown encryption version "+r);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}},ft=xt;Vr(ft,"minPlaintextSize",1);Vr(ft,"maxPlaintextSize",65535);Vr(ft,"utf8Encode",_u);var Gi=class{static encrypt(e,t,n=bu(32)){const{chacha_key:s,chacha_nonce:r,hmac_key:o}=ft.getMessageKeys(t,n),i=ft.pad(e),a=wl(s,r,i),l=ft.hmacAad(o,a,n);return jt.encode(pr(new Uint8Array([2]),n,a,l))}static decrypt(e,t){const{nonce:n,ciphertext:s,mac:r}=ft.decodePayload(e),{chacha_key:o,chacha_nonce:i,hmac_key:a}=ft.getMessageKeys(t,n),l=ft.hmacAad(a,s,n);if(!Yy(l,r))throw new Error("invalid MAC");const c=wl(o,i,s);return ft.unpad(c)}};Vr(Gi,"utils",ft);var V_={v2:Gi},D_={};Ue(D_,{makeNwcRequestEvent:()=>K_,parseConnectionString:()=>q_});function q_(e){const{pathname:t,searchParams:n}=new URL(e),s=t,r=n.get("relay"),o=n.get("secret");if(!s||!r||!o)throw new Error("invalid connection string");return{pubkey:s,relay:r,secret:o}}async function K_(e,t,n){const r=await tf(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),o={kind:Ju,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e]]};return vt(o,t)}var z_={};Ue(z_,{getZapEndpoint:()=>G_,makeZapReceipt:()=>Y_,makeZapRequest:()=>J_,useFetchImplementation:()=>W_,validateZapRequest:()=>Z_});var Ji;try{Ji=fetch}catch{}function W_(e){Ji=e}async function G_(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=ts.decode(n,1e3),a=ts.fromWords(i);t=Ot.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let o=await(await Ji(t)).json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch{}return null}function J_({profile:e,event:t,amount:n,relays:s,comment:r=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:r,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&o.tags.push(["e",t]),o}function Z_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Uu(t))return"Zap request is not a valid Nostr event.";if(!Un(t))return"Invalid signature on zap request.";let n=t.tags.find(([o,i])=>o==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([o,i])=>o==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([o,i])=>o==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function Y_({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let r=JSON.parse(e),o=r.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...o,["P",r.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var Q_={};Ue(Q_,{getToken:()=>X_,hashPayload:()=>Zi,unpackEventFromToken:()=>df,validateEvent:()=>_f,validateEventKind:()=>pf,validateEventMethodTag:()=>yf,validateEventPayloadTag:()=>vf,validateEventTimestamp:()=>hf,validateEventUrlTag:()=>gf,validateToken:()=>e1});var ff="Nostr ";async function X_(e,t,n,s=!1,r){const o={kind:Vi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};r&&o.tags.push(["payload",Zi(r)]);const i=await n(o);return(s?ff:"")+jt.encode(Pt.encode(JSON.stringify(i)))}async function e1(e,t,n){const s=await df(e).catch(o=>{throw o});return await _f(s,t,n).catch(o=>{throw o})}async function df(e){if(!e)throw new Error("Missing token");e=e.replace(ff,"");const t=Ot.decode(jt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function hf(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function pf(e){return e.kind===Vi}function gf(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function yf(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Zi(e){const t=ms(Pt.encode(JSON.stringify(e)));return Xe(t)}function vf(e,t){const n=e.tags.find(r=>r[0]==="payload");if(!n)return!1;const s=Zi(t);return n.length>0&&n[1]===s}async function _f(e,t,n,s){if(!Un(e))throw new Error("Invalid nostr event, signature invalid");if(!pf(e))throw new Error("Invalid nostr event, kind invalid");if(!hf(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!gf(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!yf(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!vf(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const wf=e=>(gt("data-v-393546d0"),e=e(),yt(),e),t1={class:"event-details"},n1={key:0},s1={class:"highlight"},r1={key:1},o1={key:0,class:"highlight"},i1={key:1,class:"event-details__no-user"},a1=wf(()=>_("div",null,"No info about author on this relay.",-1)),l1={class:"highlight"},c1={key:2},u1={key:0,class:"highlight"},f1={key:1,class:"event-details__no-user"},d1=wf(()=>_("div",null,"No info about author on this relay.",-1)),h1={class:"highlight"},p1=Be({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=K(1),s=K(!0),r=K(),o=K({});Tt(()=>{const{event:l,authorEvent:c}=t;r.value=i(l),c&&(o.value=i(c)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=l=>{const{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:v,sig:y}=l;return{id:c,pubkey:u,created_at:f,kind:d,tags:p,content:v,sig:y}},a=l=>{n.value=l};return(l,c)=>(A(),B("div",t1,[_("div",{class:Ie(["event-details__header",{"event-details__header_user":l.isUserEvent}])},[_("span",{onClick:c[0]||(c[0]=()=>a(1)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(A(),B("span",{key:0,onClick:c[1]||(c[1]=()=>a(2)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):oe("",!0),_("span",{onClick:c[2]||(c[2]=()=>a(3)),class:Ie(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(A(),B("div",n1,[_("pre",s1,ae(JSON.stringify(r.value,null,2)),1)])):oe("",!0),s.value&&n.value===2?(A(),B("div",r1,[l.authorEvent?(A(),B("pre",o1,ae(JSON.stringify(o.value,null,2)),1)):(A(),B("div",i1,[a1,_("pre",l1,"pubkey: "+ae(l.event.pubkey)+` 
npub: `+ae(ie(Ve).npubEncode(l.event.pubkey)),1)]))])):oe("",!0),n.value===3?(A(),B("div",c1,[l.event.author?(A(),B("pre",u1,ae(JSON.stringify(l.event.author,null,2)),1)):(A(),B("div",f1,[d1,_("pre",h1,"pubkey: "+ae(l.event.pubkey)+`
npub: `+ae(ie(Ve).npubEncode(l.event.pubkey)),1)]))])):oe("",!0)]))}});const Ae=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},mf=Ae(p1,[["__scopeId","data-v-393546d0"]]),g1={},y1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},v1=_("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),_1=[v1];function w1(e,t){return A(),B("svg",y1,_1)}const m1=Ae(g1,[["render",w1]]),b1={},E1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},x1=_("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),R1=[x1];function S1(e,t){return A(),B("svg",E1,R1)}const k1=Ae(b1,[["render",S1]]),$1={},C1={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},A1=_("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),I1=[A1];function P1(e,t){return A(),B("svg",C1,I1)}const T1=Ae($1,[["render",P1]]),L1={},N1={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},B1=_("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),U1=[B1];function O1(e,t){return A(),B("svg",N1,U1)}const M1=Ae(L1,[["render",O1]]),H1={class:"actions-bar"},F1={class:"actions-bar__action actions-bar__num"},j1={class:"actions_bar-number"},V1={class:"actions-bar__action actions-bar__num"},D1={class:"actions_bar-number"},q1={class:"actions_bar-number"},K1=Be({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},r=()=>{n("handleShowReplies")};return(o,i)=>(A(),B("div",H1,[_("span",F1,[ye(m1,{class:"actions-bar__icon"}),_("span",j1,ae(o.likes),1)]),_("span",V1,[ye(k1,{class:"actions-bar__icon"}),_("span",D1,ae(o.reposts),1)]),o.hasReplyBtn?(A(),B("span",{key:0,onClick:r,class:"actions-bar__action actions-bar__num actions-bar__replies"},[ye(M1,{class:"actions-bar__icon"}),_("span",q1,ae(o.replies),1)])):oe("",!0),o.hasReplyBtn?(A(),B("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[ye(T1,{class:"actions-bar__icon"})])):oe("",!0)]))}});const Zr=yn("npub",()=>{const e=K(""),t=K("");function n(r){e.value=r}function s(r){t.value=r}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:n,updateCachedUrl:s}}),Yi=yn("user",()=>{const e=K(!1);function t(n){e.value=n}return{isRoutingUser:e,updateRoutingStatus:t}}),z1={class:"event-content"},W1={key:0},G1={key:1},J1=["onClick"],Z1=Be({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=Br(),s=Zr(),r=Yi(),o=K([]);Tt(()=>{o.value=a(t.event,t.slice)}),mi(()=>{o.value=a(t.event,t.slice)});const i=(f,d)=>{let p=[],v="";for(const y of f){const w=v.length;if(v+=y.value,v.length<=d)p.push(y);else{if(y.type==="text"){const b=d-w;y.value=y.value.slice(0,b)}p.push(y),p.push({type:"text",value:"..."});break}}return p},a=(f,d)=>{const p=f.content,v=f.references;let y=[];if(!(v!=null&&v.length))return y.push({type:"text",value:p}),y;const w=[];v.forEach(E=>{let k=p.indexOf(E.text);if(w.includes(k))for(const P of w){if(!w.includes(k))break;k=p.indexOf(E.text,k+E.text.length)}E.textIndex=k,w.push(k)}),v.sort((E,k)=>E.textIndex-k.textIndex);let b=p;return v.forEach(E=>{const k=b.indexOf(E.text),P=b.slice(0,k),N=b.slice(k+E.text.length),C=l(E);y.push({type:"text",value:P}),y.push({type:"profile",value:C,npub:c(E.profile.pubkey)}),b=N}),y.push({type:"text",value:b}),d&&(y=i(y,d)),y},l=f=>{const d=f.profile_details,p=c(f.profile.pubkey);return`@${d.name||d.username||d.display_name||`${p.slice(0,15)}...`}`},c=f=>Ve.npubEncode(f),u=f=>{f&&(s.updateNpubInput(f),r.updateRoutingStatus(!0),n.push({path:`/user/${f}`}))};return(f,d)=>(A(),B("div",z1,[(A(!0),B(xe,null,ot(o.value,p=>(A(),B("span",null,[p.type==="text"?(A(),B("span",W1,ae(p.value),1)):oe("",!0),p.type==="profile"?(A(),B("span",G1,[_("a",{onClick:Ho(()=>u(p.npub),["prevent"]),href:"#"},ae(p.value),9,J1)])):oe("",!0)]))),256))]))}});const Y1=Ae(Z1,[["__scopeId","data-v-2c0eedfd"]]);function Q1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function X1(e,...t){if(!Q1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */new Uint8Array(new Uint32Array([287454020]).buffer)[0];const ew=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tw(e){X1(e);let t="";for(let n=0;n<e.length;n++)t+=ew[e[n]];return t}const Bt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function bl(e){if(e>=Bt._0&&e<=Bt._9)return e-Bt._0;if(e>=Bt._A&&e<=Bt._F)return e-(Bt._A-10);if(e>=Bt._a&&e<=Bt._f)return e-(Bt._a-10)}function El(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let r=0,o=0;r<n;r++,o+=2){const i=bl(e.charCodeAt(o)),a=bl(e.charCodeAt(o+1));if(i===void 0||a===void 0){const l=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}s[r]=i*16+a}return s}const _n=yn("nsec",()=>{const e=K(""),t=K(!1),n=K("");function s(v){e.value=v}function r(v){n.value=v}function o(v){t.value=v}function i(){try{const v=a();if(!v)throw new Error("Invalid private key");return k0(v)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?El(e.value):Ve.decode(e.value).data}catch{return null}}function l(){const v=a();if(!v)return"";try{return tw(v)}catch{return""}}function c(){try{return e.value.indexOf("nsec")===-1?Ve.nsecEncode(El(e.value)):e.value}catch{return""}}function u(){return e.value.length>0&&d()}function f(){return e.value.length>0&&!d()}function d(){return e.value.length===0?!1:i().length>0}const p=$e(()=>d());return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:o,isNsecValid:d,isValidNsecPresented:u,isNotValidNsecPresented:f,getPubkey:i,cachedNsec:n,updateCachedNsec:r,getPrivkeyBytes:a,getPrivkeyHex:l,getPrivkey:c,isNsecValidTemp:p}}),Yr=yn("images",()=>{const e=K(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:Qt}=In,On=yn("relay",()=>{const e=K({}),t=K(!1),n=K(""),s=K(""),r=K(0),o=K([]),i=K([]),a=K([]),l=K([]),c=K([]),u=$e(()=>{const q=new Set([...a.value,...l.value]),V=[],U=[];return q.forEach(x=>{a.value.includes(x)&&!l.value.includes(x)?V.push({url:x,type:"read"}):U.push({url:x,type:"write"})}),[...V,...U].sort((x,S)=>x.url.localeCompare(S.url))}),f=$e(()=>u.value.map(q=>q.url)),d=$e(()=>{const q=e.value.url,V=f.value;return V.includes(q)?V:[q,...V]}),p=$e(()=>{const q=a.value,V=l.value,U=new Set([...q,...V]),x=[];return U.forEach(S=>{q.includes(S)&&V.includes(S)?x.push(["r",S]):q.includes(S)?x.push(["r",S,"read"]):V.includes(S)&&x.push(["r",S,"write"])}),x}),v=$e(()=>c.value.map(q=>q.replace("wss://","").replace("/","")).join(", ")),y=$e(()=>e.value.connected);function w(q){e.value=q}function b(q){t.value=q}function E(q){i.value=q.map(V=>Qt(V))}function k(q){c.value=q.map(V=>Qt(V))}function P(q){a.value=q.map(V=>Qt(V))}function N(q){l.value=q.map(V=>Qt(V))}function C(q){l.value.includes(q)||l.value.push(Qt(q))}function F(q){const V=Qt(q);if(!V||f.value.includes(V))return!1;a.value.push(V)}function H(q){l.value=l.value.filter(V=>V!==q)}function Z(q){a.value=a.value.filter(V=>V!==q),l.value=l.value.filter(V=>V!==q),i.value=i.value.filter(V=>V!==q)}function ne(q){n.value=q==="custom"?"custom":Qt(q)}function se(q){r.value=q}function ue(q,V){o.value[q]=V.length?Qt(V):""}return{isConnectingToRelay:t,setConnectionToRelayStatus:b,connectedUserReadRelayUrls:i,setConnectedUserReadRelayUrls:E,selectInputRelayUrl:n,setSelectedRelay:ne,selectInputCustomRelayUrl:s,currentRelay:e,updateCurrentRelay:w,additionalRelaysCountForSignedEvent:r,updateAdditionalRelaysCountForSignedEvent:se,additionalRelaysUrlsForSignedEvent:o,updateRelayAdditionalRelaysUrlsForSignedEvent:ue,connectedFeedRelaysPrettyStr:v,reedRelays:a,writeRelays:l,setReedRelays:P,setWriteRelays:N,isConnectedToRelay:y,userReadWriteRelays:u,removeWriteRelay:H,addWriteRelay:C,removeUserRelay:Z,addUserRelay:F,nip65Tags:p,userReadWriteRelaysUrls:f,allRelaysUrlsWithSelectedRelay:d,connectedFeedRelaysUrls:c,setConnectedFeedRelayUrls:k}}),xo={META:0,REPLY:1,LIKE:7,REPOST:6},an=async(e,t=[],n,s)=>{const r=Ef(e,t,n),o=xf(e,t,n),i=bf(e,t,n,s),a=rw(e,t,n);return e.forEach(l=>l.isRoot=!0),Promise.all([r,o,i,a])},nw=(e,t=[])=>{(!t||!t.length)&&(t=[]);const n=[],s=[],r=[];for(const o of t)switch(o.kind){case xo.LIKE:n.push(o);break;case xo.REPOST:s.push(o);break;case xo.REPLY:r.push(o);break}uw(e,n),fw(e,s),ow(e,r)},zn=async(e,t,n=[],s)=>{const r=Ef(t,n,s),o=xf(t,n,s),i=bf(t,n,s),a=iw(t,n,s);return t.forEach(l=>l.isRoot=!1),e&&sw(e,t),Promise.all([r,o,i,a])},sw=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey,event:e}},rw=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ln,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=Ge.parse(c);!u.reply&&((i=u==null?void 0:u.root)==null?void 0:i.id)===a.id&&l++}a.replies=l}},ow=async(e,t)=>{var s;let n=0;for(const r of t){const o=Ge.parse(r);!o.reply&&((s=o==null?void 0:o.root)==null?void 0:s.id)===e.id&&n++}e.replies=n},iw=async(e,t=[],n)=>{var i;if(!t.length)return e;const s=n||new Ln,r=e.map(a=>a.id),o=await s.querySync(t,{kinds:[1],"#e":r});for(const a of e){let l=0;for(const c of o){const u=Ge.parse(c);((i=u==null?void 0:u.reply)==null?void 0:i.id)===a.id&&l++}a.replies=l}},St=(e,t)=>{const n=[...e],s=[];return n.forEach(r=>{let o=!1;t.forEach(i=>{if(!o&&r.pubkey===(i==null?void 0:i.pubkey)){const a=r;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(a),o=!0}}),o||s.push(r)}),s},bf=async(e,t=[],n,s)=>{var f;if(!t.length)return e;let r=n||new Ln;const o={},i=new Set;for(const d of e){if(!kf(d.content))continue;const p=Wr(d);for(let v=0;v<p.length;v++){let{profile:y}=p[v];y!=null&&y.pubkey&&i.add(y.pubkey)}o[d.id]=p}if(!i.size){e.forEach(d=>d.references=[]);return}const a=[];let l=[];if(s)for(const d of i){const p=(f=s[d])==null?void 0:f.event;p?a.push(p):l.push(d)}else l=[...i];const c=await Promise.all(l.map(async d=>r.get(t,{kinds:[0],authors:[d]}))),u=[...a,...c].sort((d,p)=>p.created_at-d.created_at);for(const d of e){const p=o[d.id];if(!p){d.references=[];continue}const v=[];for(let y=0;y<p.length;y++){let{profile:w}=p[y];w!=null&&w.pubkey&&u.forEach(b=>{if((b==null?void 0:b.pubkey)===w.pubkey){const E=p[y];E.profile_details=JSON.parse((b==null?void 0:b.content)||"{}"),v.push(E)}})}d.references=v}},aw=e=>{if(!kf(e.content))return[];const t=new Set,n=Wr(e);for(let s=0;s<n.length;s++){let{profile:r}=n[s];r!=null&&r.pubkey&&t.add(r.pubkey)}return t.size?[...t]:[]},lw=async(e,t)=>{if(!t.length){e.references=[];return}const n=Wr(e),s=[];for(let r=0;r<n.length;r++){let{profile:o}=n[r];o!=null&&o.pubkey&&t.forEach(i=>{if((i==null?void 0:i.pubkey)===(o==null?void 0:o.pubkey)){const a=n[r];a.profile_details=JSON.parse((i==null?void 0:i.content)||"{}"),s.push(a)}})}e.references=s},cw=e=>{const t=new Set,n=[];return e.sort((r,o)=>o.created_at-r.created_at).forEach(r=>{const{pubkey:o}=r;t.has(o)||(t.add(o),n.push(r))}),n},Ef=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ln).querySync(t,{kinds:[7],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.reverse().find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&l.content&&$f(l.content)&&a++}),i.likes=a})},uw=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.reverse().find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&s.content&&$f(s.content)&&n++}),e.likes=n},xf=async(e,t=[],n)=>{if(!t.length)return e;const s=e.map(i=>i.id),o=await(n||new Ln).querySync(t,{kinds:[6],"#e":s});e.forEach(i=>{let a=0;o.forEach(l=>{var u;const c=(u=l.tags.find(f=>f[0]==="e"))==null?void 0:u[1];c&&c===i.id&&a++}),i.reposts=a})},fw=(e,t)=>{let n=0;t.forEach(s=>{var o;const r=(o=s.tags.find(i=>i[0]==="e"))==null?void 0:o[1];r&&r===e.id&&n++}),e.reposts=n},Rf=(e,t)=>t.filter(n=>{var r;const s=Ge.parse(n);return!s.reply&&((r=s==null?void 0:s.root)==null?void 0:r.id)===e.id}),Sf=(e,t)=>t.filter(n=>{var r,o;const s=Ge.parse(n);return((r=s==null?void 0:s.reply)==null?void 0:r.id)===e.id||((o=s==null?void 0:s.root)==null?void 0:o.id)===e.id}),kf=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,$f=e=>!["-",""].includes(e),Ws=(e,t=3e3)=>{try{return new Promise(n=>{const s=new WebSocket(e),r=setTimeout(()=>{s.close(),n(!1)},t);s.onopen=()=>{clearTimeout(r),s.close(),n(!0)},s.onerror=()=>{clearTimeout(r),s.close(),n(!1)}})}catch{return Promise.resolve(!1)}},xl=e=>/^[a-f0-9]{64}$/.test(e),dw=(e,t,n)=>{const s=new Promise(o=>{setTimeout(()=>{o(null)},n)}),r=new Promise(o=>{const i=e.subscribe(t,{onevent(a){o(a)},oneose(){i.close()}})});return Promise.race([r,s])},Cf=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const o=In.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(o):i==="write"&&n.write.push(o):(n.read.push(o),n.write.push(o)),n.all.push({url:o,type:i||"write"})}}),n},Af=async(e,t,n)=>{const s=e.map(async r=>{const o=await t.publish([r],n),i=(await Promise.allSettled(o))[0];return{relay:r,success:i.status==="fulfilled"}});return await Promise.all(s)},If=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),hw={},pw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},gw=_("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),yw=_("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),vw=[gw,yw];function _w(e,t){return A(),B("svg",pw,vw)}const Rl=Ae(hw,[["render",_w]]),ww={},mw={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},bw=_("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),Ew=[bw];function xw(e,t){return A(),B("svg",mw,Ew)}const Sl=Ae(ww,[["render",xw]]),Rw={},Sw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},kw=_("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),$w=_("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),Cw=[kw,$w];function Aw(e,t){return A(),B("svg",Sw,Cw)}const Pf=Ae(Rw,[["render",Aw]]),Iw={},Pw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-diagram-2-fill",viewBox:"0 0 16 16"},Tw=_("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5zm-3 8A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5z"},null,-1),Lw=[Tw];function Nw(e,t){return A(),B("svg",Pw,Lw)}const Bw=Ae(Iw,[["render",Nw]]),Uw={},Ow={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},Mw=_("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),Hw=_("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),Fw=[Mw,Hw];function jw(e,t){return A(),B("svg",Ow,Fw)}const Tf=Ae(Uw,[["render",jw]]),Vw={class:"thread"},Dw={key:0,class:"loading-thread"},qw={class:"event-card"},Kw={key:0,class:"event-img"},zw=["src","title"],Ww={class:"event-content"},Gw={class:"event-header"},Jw=["href"],Zw={class:"event-username-text"},Yw={key:0,class:"event-replying-to"},Qw={key:1,class:"replying-to-separator"},Xw=["href"],em={class:"event-body"},tm={class:"event-footer"},nm={class:"event-footer__right-actions"},sm={class:"event-footer__link-wrapper"},rm={class:"event__raw-data"},om={class:"event-footer-code-wrapper"},im={class:"event-footer__signature-text"},am={class:"event-footer__right-actions"},lm={class:"event-footer__link-wrapper"},cm={key:0,class:"reply-field"},um={class:"reply-field__actions"},fm={class:"reply-field__error"},dm=["disabled"],hm={key:1,class:"loading-replies"},pm={key:2,class:"replies"},gm=Be({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},isMainEvent:{type:Boolean},currentReadRelays:{},threadDescender:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=K(""),r=K(""),o=e,i=Br(),a=Zr(),l=_n(),c=Yi(),u=Yr(),f=On(),d=K(!1),p=K(!1),v=K([]),y=K(!1),w=K(!1),b=K(!1),E=K(!1),k=K([]),P=K(!1),N=x=>{if(o.isMainEvent)return n("toggleRawData",x);o.event.showRawData=!o.event.showRawData},C=x=>`/user/${Ve.npubEncode(x)}`;Tt(()=>{Object.keys(o.event).length!==0&&(b.value=Un(o.event))});const F=(x,S)=>{if(x){let I="";if(x.name?I=x.name:x.username?I=x.username:I=x.display_name,I.length)return I}return Ve.npubEncode(S).slice(0,10)+"..."},H=()=>{d.value=!d.value,n("showReplyField")},Z=async()=>{if(p.value)return;if(!(l.nsec?l.nsec.trim():"").length){r.value="Please provide your private key or generate random key.";return}const S=s.value.trim();if(!S.length){r.value="Please provide message to broadcast.";return}let I,L;try{if(I=l.getPrivkeyBytes(),!I)throw new Error;if(L=l.getPubkey(),!L.length)throw new Error}catch{r.value="Invalid private key. Please check it and try again.";return}const X=f.writeRelays;if(!X.length){r.value="Please provide your write relays to broadcast event";return}const re={kind:1,pubkey:L,created_at:Math.floor(Date.now()/1e3),content:S,tags:[],id:"",sig:""},z=[],pe=[];o.event.tags.forEach(m=>{const $=[m[0],m[1]];m[2]&&$.push(m[2]),m[3]&&$.push(m[3]),$[0]==="e"?z.push($):$[0]==="p"&&pe.push($)});const he=[];if(z.length){const m=z.find($=>$[3]==="root");m?he.push(m):he.push(z[0]),he.push(["e",o.event.id,"","reply"])}else he.push(["e",o.event.id,"","root"]);const Q=Wr(re),Y=pe.map(m=>m[1]),R=[];Q.forEach(m=>{var T;const $=(T=m==null?void 0:m.profile)==null?void 0:T.pubkey;$&&!Y.includes($)&&(R.push(["p",$]),Y.push($))});const M=[...R,...pe];Y.includes(o.event.pubkey)||M.push(["p",o.event.pubkey]),re.tags=[...M,...he];const O=vt(re,I);r.value="",p.value=!0;const J=M.filter(m=>m[1]!==L).map(m=>m[1]);let le=[];const{pool:fe}=o;if(J.length){const m=[...f.reedRelays,...f.writeRelays,f.currentRelay.url],$=[...new Set(m)],T=await fe.querySync($,{kinds:[10002],authors:J}),W=new Set;T.forEach(ee=>{if(ee.tags.length){const{read:j}=Cf(ee);j.forEach(G=>{f.writeRelays.includes(G)||W.add(G)})}}),le=[...W]}if(!(await Af(X,fe,O)).some(m=>m.success)){r.value="Failed to broadcast reply";return}if(le.length)try{await fe.publish(le,O)}catch{console.error("Failed to broadcast reply to some additional relays")}if(p.value=!1,d.value=!1,s.value="",o.isMainEvent)return n("loadRootReplies");ne()},ne=async()=>{const{event:x,currentReadRelays:S,pool:I}=o;if(!(S!=null&&S.length)||!I)return;if(o.isMainEvent)return n("loadMoreReplies");E.value=!0;let L=await I.querySync(S,{kinds:[1],"#e":[x.id]});x.isRoot?L=Rf(x,L):L=Sf(x,L);const X=o.threadDescender;if(L.length==1&&(X==null?void 0:X.id)===L[0].id){E.value=!1;return}const re=L.map(he=>he.pubkey),z=[...new Set(re)],pe=await I.querySync(S,{kinds:[0],authors:z});L=St(L,pe),await zn(x,L,S,I),v.value=L,y.value=!0,E.value=!1},se=()=>{y.value=!1},ue=()=>{const{origin:x,pathname:S}=window.location;let I=Ve.noteEncode(o.event.id);const L=`${x}${S}#/event/${I}`;navigator.clipboard.writeText(L),w.value=!0,setTimeout(()=>{w.value=!1},2e3)},q=x=>{const S=Ve.npubEncode(x);a.updateNpubInput(S),c.updateRoutingStatus(!0),i.push({path:C(x)})},V=async x=>{var X,re;const{currentReadRelays:S,pool:I}=o;if(!(S!=null&&S.length)||!I)return[];const L=Ge.parse(x);if(!L.root&&!L.reply)return[];if(L.root&&!L.reply){let z=await I.get(S,{kinds:[1],ids:[L.root.id]});if(!z)return[];const pe=await I.get(S,{kinds:[0],authors:[z.pubkey]});return pe&&await St([z],[pe]),await an([z],S,I),[z]}if(L.reply){let z=await I.get(S,{kinds:[1],ids:[L.reply.id]});if(!z)return[];const pe=await I.get(S,{kinds:[0],authors:[z.pubkey]});pe&&await St([z],[pe]);const he=Ge.parse(z),Q=((X=he==null?void 0:he.reply)==null?void 0:X.id)||((re=he==null?void 0:he.root)==null?void 0:re.id),Y=await I.get(S,{kinds:[1],ids:[Q||""]});if(Y){const M=await I.get(S,{kinds:[0],authors:[Y.pubkey]});M&&await St([Y],[M])}await zn(Y,[z],S,I);const R=await V(z);return[z,...R]}return[]},U=async()=>{var he,Q;const{event:x,pool:S,currentReadRelays:I}=o;if(!(I!=null&&I.length)||!S||P.value)return;P.value=!0;const L=x.replyingTo.event,X=await S.get(I,{kinds:[0],authors:[L.pubkey]});X&&await St([L],[X]);const re=Ge.parse(L);if(!re.root&&!re.reply)await an([L],I,S);else{const Y=((he=re==null?void 0:re.reply)==null?void 0:he.id)||((Q=re==null?void 0:re.root)==null?void 0:Q.id),R=await S.get(I,{kinds:[1],ids:[Y||""]});if(R){const M=await S.get(I,{kinds:[0],authors:[R.pubkey]});M&&await St([R],[M])}await zn(R,[L],I,S)}const z=await V(L),pe=[L,...z].reverse();P.value=!1,k.value=pe};return(x,S)=>{const I=Rs("EventContent",!0);return A(),B(xe,null,[_("div",Vw,[(A(!0),B(xe,null,ot(k.value,(L,X)=>(A(),B("div",{class:"ancestor",key:x.event.id},[ye(I,{onToggleRawData:()=>N(L.id),event:L,currentReadRelays:x.currentReadRelays,pool:x.pool,hasReplyBtn:x.hasReplyBtn,threadDescender:k.value[X+1]?k.value[X+1]:x.event},null,8,["onToggleRawData","event","currentReadRelays","pool","hasReplyBtn","threadDescender"])]))),128)),P.value?(A(),B("div",Dw,"Loading thread...")):oe("",!0)]),_("div",qw,[_("div",{class:Ie(["event-card__content",{flipped:x.event.showRawData}])},[_("div",{class:Ie(["event-card__front","event__presentable-date",{"event-card__front_custom":x.pubKey===x.event.pubkey}])},[ie(u).showImages&&x.event.author?(A(),B("div",Kw,[_("img",{class:"author-pic",src:x.event.author.picture,alt:"user's avatar",title:`Avatar for ${x.event.author.name}`},null,8,zw)])):oe("",!0),_("div",Ww,[_("div",Gw,[_("div",null,[_("a",{class:"event-username-link",onClick:S[0]||(S[0]=Ho(()=>q(x.event.pubkey),["prevent"])),href:C(x.event.pubkey)},[_("b",Zw,ae(F(x.event.author,x.event.pubkey)),1)],8,Jw)]),_("div",null,ae(ie(If)(x.event.created_at)),1)]),x.event.replyingTo?(A(),B("div",Yw,[x.isMainEvent?(A(),B("span",{key:0,onClick:U,class:"view-thread event-username-link event-username-text"},[ye(Bw),Re(" View thread ")])):oe("",!0),x.isMainEvent?(A(),B("span",Qw," | ")):oe("",!0),_("span",null,[Re(" Replying to "),_("a",{onClick:S[1]||(S[1]=Ho(()=>q(x.event.replyingTo.pubkey),["prevent"])),href:C(x.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+ae(F(x.event.replyingTo.user,x.event.replyingTo.pubkey)),9,Xw)])])):oe("",!0),_("div",em,[ye(Y1,{event:x.event},null,8,["event"])]),_("div",tm,[ye(K1,{onShowReplyField:H,onHandleShowReplies:ne,onHandleHideReplies:se,hasReplyBtn:x.hasReplyBtn,likes:x.event.likes,reposts:x.event.reposts,replies:x.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),_("div",nm,[_("div",sm,[w.value?(A(),Le(Sl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):oe("",!0),w.value?oe("",!0):(A(),Le(Rl,{key:1,onClick:ue,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:S[2]||(S[2]=()=>N(x.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),_("div",{class:Ie(["event-card__back",{"event-card__back_custom":x.pubKey===x.event.pubkey,"event-details-first":x.index===0}])},[_("div",rm,[ye(mf,{event:x.event,authorEvent:x.event.authorEvent},null,8,["event","authorEvent"])]),_("div",om,[_("div",{class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!b.value}])},[b.value?(A(),Le(Pf,{key:0})):oe("",!0),b.value?oe("",!0):(A(),Le(Tf,{key:1})),_("span",im,ae(b.value?"Signature is valid":"Invalid signature"),1)],2),_("div",am,[_("div",lm,[w.value?(A(),Le(Sl,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):oe("",!0),w.value?oe("",!0):(A(),Le(Rl,{key:1,onClick:ue,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:S[3]||(S[3]=()=>N(x.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),d.value?(A(),B("div",cm,[An(_("textarea",{"onUpdate:modelValue":S[4]||(S[4]=L=>s.value=L),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[ks,s.value]]),_("div",um,[_("div",fm,ae(r.value),1),_("button",{disabled:p.value,onClick:Z,class:"reply-field__btn"},ae(p.value?"Sending reply...":"Reply"),9,dm)])])):oe("",!0),E.value?(A(),B("div",hm," Loading replies... ")):oe("",!0),y.value&&v.value.length?(A(),B("div",pm,[(A(!0),B(xe,null,ot(v.value,(L,X)=>(A(),B("div",{class:"reply",key:L.id},[ye(I,{onToggleRawData:S[5]||(S[5]=()=>N(x.event.id)),event:L,currentReadRelays:x.currentReadRelays,pool:x.pool,hasReplyBtn:x.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):oe("",!0)],64)}}});const Ro=Ae(gm,[["__scopeId","data-v-9a01161f"]]),ym={},vm={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},_m=_("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),wm=[_m];function mm(e,t){return A(),B("svg",vm,wm)}const bm=Ae(ym,[["render",mm]]),Os=yn("pool",()=>{const e=K(new Ln);function t(){e.value=new Ln}return{pool:e,resetPool:t}}),Lf=e=>(gt("data-v-4a71c53d"),e=e(),yt(),e),Em={class:"event"},xm={key:0},Rm={key:1,class:"replies"},Sm={class:"replies__other-link"},km=Lf(()=>_("span",{class:"replies__other-text"}," Show more replies ",-1)),$m={key:1,class:"replies__other"},Cm={key:2,class:"replies__other"},Am={class:"replies__other-text"},Im={key:4},Pm={key:5,class:"replies__list"},Tm={class:"replies__list-item"},Lm=Lf(()=>_("div",{class:"replies__list-item-line-horizontal"},null,-1)),Nm=Be({__name:"ParentEventView",props:{event:{},pubKey:{},index:{},showReplies:{type:Boolean},hasReplyBtn:{type:Boolean},showRootReplies:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const s=Os().pool,r=t,o=e,i=K(!1),a=K(!1),l=K(!1),c=K(!1),u=K(!1),f=K(null),d=K([]);Tt(async()=>{o.showReplies&&await p()});const p=async()=>{const{event:E,currentReadRelays:k}=o;if(!k.length)return;let P=await s.querySync(k,{kinds:[1],"#e":[E.id]});if(o.showRootReplies?P=P.filter(H=>{var ne;const Z=Ge.parse(H);return!Z.reply&&((ne=Z==null?void 0:Z.root)==null?void 0:ne.id)===E.id}):P=P.filter(H=>{var ne,se;const Z=Ge.parse(H);return((ne=Z==null?void 0:Z.reply)==null?void 0:ne.id)===E.id||((se=Z==null?void 0:Z.root)==null?void 0:se.id)===E.id}),!P.length)return;u.value=!0,a.value=P.length>1;let N=P[0],C=[N];await zn(E,C,k,s),N=C[0];const F=await s.get(k,{kinds:[0],limit:1,authors:[N.pubkey]});F&&(N.author=JSON.parse(F.content)),f.value=N,u.value=!1},v=(E,k=!1)=>{if(k)return r("toggleRawData",E)},y=()=>{i.value=!i.value},w=async()=>{const{event:E,currentReadRelays:k}=o;if(!k.length)return;c.value=!0;let P=await s.querySync(k,{kinds:[1],"#e":[E.id]});if(E.isRoot?P=Rf(E,P):P=Sf(E,P),!P.length){c.value=!1;return}const N=P.map(H=>H.pubkey),C=[...new Set(N)],F=await s.querySync(k,{kinds:[0],authors:C});P=St(P,F),await zn(E,P,k,s),d.value=P,l.value=!0,c.value=!1},b=async()=>{i.value=!1,l.value?await w():await p()};return(E,k)=>(A(),B("div",Em,[(A(),Le(Ro,{key:E.event.id,onLoadRootReplies:b,onShowReplyField:y,onToggleRawData:k[0]||(k[0]=P=>v(P,!0)),onLoadMoreReplies:w,event:E.event,pubKey:E.pubKey,isMainEvent:!0,currentReadRelays:E.currentReadRelays,pool:ie(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","pubKey","currentReadRelays","pool","hasReplyBtn"])),u.value?(A(),B("div",xm,"Loading replies...")):oe("",!0),E.showReplies&&f.value?(A(),B("div",Rm,[!l.value&&a.value&&!c.value?(A(),B("div",{key:0,onClick:w,class:"replies__other"},[_("span",Sm,[km,ye(bm)])])):oe("",!0),c.value?(A(),B("div",$m," Loading replies... ")):oe("",!0),l.value&&a.value?(A(),B("div",Cm,[_("span",Am," Loaded "+ae(d.value.length)+" replies ",1)])):oe("",!0),_("div",{class:Ie(["line-vertical",{"line-vertical_long":a.value,"line-vertical_reply-field":i.value&&!a.value,"line-vertical_reply-field_long":i.value&&a.value}])},null,2),l.value?oe("",!0):(A(),B("div",{key:3,class:Ie(["line-horizontal",{"line-horizontal_height":a.value}])},null,2)),l.value?oe("",!0):(A(),B("div",Im,[(A(),Le(Ro,{key:f.value.id,event:f.value,currentReadRelays:E.currentReadRelays,pool:ie(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?(A(),B("div",Pm,[(A(!0),B(xe,null,ot(d.value,(P,N)=>(A(),B("div",Tm,[Lm,_("div",{class:Ie(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":N===d.value.length-1}])},null,2),(A(),Le(Ro,{key:P.id,event:P,currentReadRelays:E.currentReadRelays,pool:ie(s),hasReplyBtn:E.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):oe("",!0)])):oe("",!0)]))}});const Nf=Ae(Nm,[["__scopeId","data-v-4a71c53d"]]),Bm=Be({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=r=>{n("toggleRawData",r)};return(r,o)=>(A(),B("div",null,[(A(!0),B(xe,null,ot(r.events,(i,a)=>(A(),Le(Nf,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:r.currentReadRelays,event:i,pubKey:r.pubKey,index:a,showRootReplies:!0,showReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const Um=Ae(Bm,[["__scopeId","data-v-68b94602"]]),Om={key:0,class:"pagination"},Mm={key:0},Hm={key:1},Fm={key:1},jm={key:4},Vm=Be({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=Ls(),r=o=>({path:s.path,query:{...s.query,page:o}});return At(()=>s.query.page,async o=>{const i=parseInt(o);i&&n("showPage",i)}),(o,i)=>{const a=Rs("router-link");return o.pagesCount>1?(A(),B("div",Om,[Re(" Pages: "),o.pagesCount<5?(A(),B("span",Mm,[(A(!0),B(xe,null,ot(o.pagesCount,l=>(A(),Le(a,{key:l,class:Ie(["pagination__link",{pagination__link_active:o.currentPage==l}]),to:r(l)},{default:Ye(()=>[Re(ae(l),1)]),_:2},1032,["class","to"]))),128))])):oe("",!0),o.pagesCount>=5?(A(),B("span",Hm,[o.currentPage>=3?(A(),Le(a,{key:1,class:Ie(["pagination__link"]),to:r(1)},{default:Ye(()=>[Re(ae(1))]),_:1},8,["to"])):oe("",!0),o.currentPage>3?(A(),B("span",Fm,"...")):oe("",!0),o.currentPage!=1?(A(),Le(a,{key:o.currentPage-1,class:Ie(["pagination__link"]),to:r(o.currentPage-1)},{default:Ye(()=>[Re(ae(o.currentPage-1),1)]),_:1},8,["to"])):oe("",!0),(A(),Le(a,{key:o.currentPage,class:Ie(["pagination__link pagination__link_active"]),to:r(o.currentPage)},{default:Ye(()=>[Re(ae(o.currentPage),1)]),_:1},8,["to"])),o.currentPage!=o.pagesCount?(A(),Le(a,{key:o.currentPage+1,class:Ie(["pagination__link"]),to:r(o.currentPage+1)},{default:Ye(()=>[Re(ae(o.currentPage+1),1)]),_:1},8,["to"])):oe("",!0),o.currentPage<o.pagesCount-2?(A(),B("span",jm,"...")):oe("",!0),o.currentPage<=o.pagesCount-2?(A(),Le(a,{key:o.pagesCount,class:Ie(["pagination__link"]),to:r(o.pagesCount)},{default:Ye(()=>[Re(ae(o.pagesCount),1)]),_:1},8,["to"])):oe("",!0)])):oe("",!0)])):oe("",!0)}}});const Bf=Ae(Vm,[["__scopeId","data-v-fa836b0e"]]),Dm=e=>(gt("data-v-1382f7cb"),e=e(),yt(),e),qm={class:"log"},Km=Dm(()=>_("strong",null,"Relay events log",-1)),zm={class:"log__list"},Wm={class:"log__list-item"},Gm={key:0},Jm={key:1},Zm=Be({__name:"RelayLog",props:{eventsLog:{}},setup(e){const t=e;return(n,s)=>(A(),B("div",qm,[Km,_("ul",zm,[(A(!0),B(xe,null,ot(t.eventsLog,r=>(A(),B("li",Wm,[(A(!0),B(xe,null,ot(r,({type:o,value:i})=>(A(),B(xe,null,[o==="text"?(A(),B("span",Gm,ae(i),1)):(A(),B("b",Jm,ae(i),1))],64))),256))]))),256))])]))}});const Ym=Ae(Zm,[["__scopeId","data-v-1382f7cb"]]),is=yn("feed",()=>{const e=K([]),t=K(!1),n=K([]),s=K(0),r=K([]),o=K([]),i=K(""),a=K(""),l=K("network"),c=$e(()=>l.value==="follows"),u=$e(()=>l.value==="network"),f=K(!1),d=K(!1),p=K(!1);function v(V){e.value=V}function y(V){e.value.push(V)}function w(V){const U=e.value.find(x=>x.id===V);U&&(U.showRawData=!U.showRawData)}function b(V){t.value=V}function E(V){n.value=V}function k(V){s.value=V}function P(V){r.value=V}function N(V){r.value.push(V)}function C(V){o.value=V}function F(V){o.value.push(V)}function H(V){i.value=V}function Z(V){a.value=V}function ne(V){f.value=V}function se(V){p.value=V}function ue(V){d.value=V}function q(V){l.value=V==="follows"?V:"network"}return{events:e,updateEvents:v,toggleEventRawData:w,showNewEventsBadge:t,setShowNewEventsBadge:b,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:E,newEventsBadgeCount:s,setNewEventsBadgeCount:k,newEventsToShow:r,updateNewEventsToShow:P,pushToNewEventsToShow:N,paginationEventsIds:o,updatePaginationEventsIds:C,pushToPaginationEventsIds:F,messageToBroadcast:i,updateMessageToBroadcast:H,signedJson:a,updateSignedJson:Z,selectedFeedSource:l,setSelectedFeedSource:q,isFollowsSource:c,isNetworkSource:u,isLoadingFeedSource:f,setLoadingFeedSourceStatus:ne,setLoadingNewEventsStatus:ue,isLoadingNewEvents:d,pushToEvents:y,setLoadingMoreStatus:se,isLoadingMore:p}}),Qi=e=>(gt("data-v-e563eef7"),e=e(),yt(),e),Qm={class:"laod-from"},Xm=Qi(()=>_("div",{class:"laod-from__title"}," Load posts from ",-1)),eb={class:"load-from__select-wrapper"},tb=Qi(()=>_("option",{value:"network"},"network",-1)),nb=Qi(()=>_("option",{value:"follows"},"follows",-1)),sb=[tb,nb],rb={key:0,class:"notice"},ob=Be({__name:"LoadFromFeedSelect",setup(e){const t=_n(),n=is(),s=$e(()=>n.selectedFeedSource==="follows"&&!t.isNsecValidTemp);return(r,o)=>(A(),B(xe,null,[_("div",Qm,[Xm,_("div",eb,[An(_("select",{"onUpdate:modelValue":o[0]||(o[0]=i=>ie(n).selectedFeedSource=i),class:"load-from__select",name:"feed-source",id:"feed-source-select"},sb,512),[[vp,ie(n).selectedFeedSource]])])]),s.value?(A(),B("div",rb," Please log in to load posts from people you follow. ")):oe("",!0)],64))}});const ib=Ae(ob,[["__scopeId","data-v-e563eef7"]]),kl=["wss://nos.lol","wss://relay.nostr.band","wss://relay.nostr.ai","wss://relayable.org","wss://relay.damus.io"],bn=["wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://eden.nostr.land","wss://atlas.nostr.land","wss://relay.snort.social","wss://nostr.fly.dev","wss://nostr.nostr.band","wss://relay.nostrgraph.net","wss://relay.nostr.bg","wss://nostr.wine","wss://nos.lol","wss://relay.mostr.pub","wss://no.str.cr","wss://brb.io","wss://nostr.zebedee.cloud"],Pn=20,ab=e=>(gt("data-v-1dfc7855"),e=e(),yt(),e),lb={id:"feed"},cb={class:"columns"},ub={key:0,class:"connecting-notice"},fb={key:1,class:"connecting-notice"},db={key:0,class:"new-events__imgs"},hb=["src"],pb=["src"],gb={class:"new-events__text"},yb=ab(()=>_("b",{class:"new-events__arrow"},"",-1)),vb={key:3,class:"loading-more"},_b=Be({__name:"Feed",props:{eventsLog:{}},emits:["loadNewRelayEvents","handleRelayConnect"],setup(e,{emit:t}){const n=On(),s=Yr(),r=is(),o=_n(),a=Os().pool,l=t,c=$e(()=>r.newEventsBadgeImageUrls[0]),u=$e(()=>r.newEventsBadgeImageUrls[1]),f=K(1),d=$e(()=>Math.ceil(r.paginationEventsIds.length/Pn)),p=Ls(),v=$e(()=>p.path);At(()=>p.path,async()=>{f.value>1&&y(1)}),At(()=>r.selectedFeedSource,async b=>{n.currentRelay.connected&&o.isValidNsecPresented()&&await l("handleRelayConnect",!0,!0)}),Tt(()=>{d.value>1&&y(1)});const y=async b=>{if(r.isLoadingNewEvents)return;r.setLoadingNewEventsStatus(!0);const E=n.connectedFeedRelaysUrls;if(!E.length)return;const k=Pn,P=(b-1)*k,N=P+k,F=r.paginationEventsIds.slice().reverse().slice(P,N),H=await a.querySync(E,{ids:F}),Z=Array.from(new Set([...H.map(q=>q.pubkey)])),se=(await Promise.all([Promise.all(Z.map(async q=>a.get(E,{kinds:[0],authors:[q]}))),an(H,E,a)]))[0];let ue=St(H,se);ue=ue.sort((q,V)=>V.created_at-q.created_at),r.updateEvents(ue),r.setLoadingNewEventsStatus(!1),f.value=b},w=async()=>{await l("loadNewRelayEvents"),f.value=1};return(b,E)=>(A(),B("div",lb,[ye(ib),_("div",cb,[_("div",{class:Ie(["events",{events_hidden:v.value==="/log"}])},[ie(r).isLoadingFeedSource?(A(),B("div",ub," Loading feed from "+ae(ie(r).selectedFeedSource)+"... ",1)):oe("",!0),ie(r).isLoadingNewEvents?(A(),B("div",fb," Loading new notes... ")):oe("",!0),ie(r).showNewEventsBadge?(A(),B("div",{key:2,onClick:w,class:Ie(["new-events",{"new-events_top-shifted":ie(r).isLoadingNewEvents}])},[ie(s).showImages?(A(),B("div",db,[_("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,hb),_("img",{class:"new-events__img",src:u.value,alt:"user's avatar"},null,8,pb)])):oe("",!0),_("span",gb,ae(ie(r).newEventsBadgeCount)+" new notes",1),yb],2)):oe("",!0),ye(Um,{events:ie(r).events,pubKey:ie(o).getPubkey(),showImages:ie(s).showImages,currentReadRelays:ie(n).connectedFeedRelaysUrls,onToggleRawData:ie(r).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),ie(r).isLoadingMore?(A(),B("div",vb," Loading more posts... ")):oe("",!0),ye(Bf,{pagesCount:d.value,currentPage:f.value,onShowPage:y},null,8,["pagesCount","currentPage"])],2),_("div",{class:Ie(["log-wrapper",{"log-wrapper_hidden":v.value!=="/log"}])},[ye(Ym,{eventsLog:b.eventsLog},null,8,["eventsLog"])],2)])]))}});const So=Ae(_b,[["__scopeId","data-v-1dfc7855"]]),wb=e=>(gt("data-v-7bdb886c"),e=e(),yt(),e),mb={class:"message-fields-wrapper"},bb={class:"message-fields"},Eb={class:"message-fields__field"},xb=wb(()=>_("label",{for:"message"},[_("strong",null,"Message to broadcast")],-1)),Rb={class:"field-elements"},Sb=["value"],kb={class:"send-btn-wrapper"},$b=["disabled"],Cb={class:"error"},Ab={class:"notice"},Ib=Be({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean},broadcastNotice:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=e,s=t,r=_n(),o=is(),i=K(""),a=async()=>{if(!(r.nsec?r.nsec.trim():"").length){i.value="Please provide your private key or generate random key.";return}const u=o.messageToBroadcast.trim();if(!u.length){i.value="Please provide message to broadcast.";return}let f,d;try{if(f=r.getPrivkeyBytes(),!f)throw new Error;if(d=r.getPubkey(),!d.length)throw new Error}catch{i.value="Invalid private key. Please check it and try again.";return}const p={kind:1,pubkey:d,created_at:Math.floor(Date.now()/1e3),content:u,tags:[],id:"",sig:""},v=vt(p,f);if(n.sentEventIds.has(v.id)){i.value="The same event can't be sent twice (same id, signature).";return}i.value="",s("broadcastEvent",v,"text")},l=c=>{var u;o.updateMessageToBroadcast((u=c==null?void 0:c.target)==null?void 0:u.value)};return(c,u)=>(A(),B("div",mb,[_("div",bb,[_("div",Eb,[xb,_("div",Rb,[_("textarea",{class:"message-input",name:"message",id:"message",cols:"30",rows:"3",value:ie(o).messageToBroadcast,onInput:l,placeholder:"Test message "},null,40,Sb)]),_("div",kb,[_("button",{disabled:c.isSendingMessage,class:"send-btn",onClick:a},ae(c.isSendingMessage?"Broadcasting...":"Broadcast"),9,$b)])])]),_("div",Cb,ae(i.value),1),_("div",Ab,ae(c.broadcastNotice),1)]))}});const $l=Ae(Ib,[["__scopeId","data-v-7bdb886c"]]),Qr=e=>(gt("data-v-efc02ad6"),e=e(),yt(),e),Pb={class:"message-fields-wrapper"},Tb={class:"signed-message-desc"},Lb=Qr(()=>_("p",{class:"signed-message-desc_p"},[Re(" Event should be signed with your private key in advance. Event will be broadcasted to a selected relay. More details about events and signatures are "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),Re(". ")],-1)),Nb={class:"signed-message-desc_p"},Bb=Qr(()=>_("br",null,null,-1)),Ub={key:0,class:"additional-relays"},Ob={class:"additional-relay-field"},Mb=Qr(()=>_("span",null,"1.",-1)),Hb=["value"],Fb={class:"additional-relay-field"},jb=["onInput"],Vb={class:"message-fields__field_sig"},Db=Qr(()=>_("label",{class:"message-fields__label",for:"signed_json"},[_("strong",null,"JSON of a signed event")],-1)),qb={class:"field-elements"},Kb={class:"signed-json-btn-wrapper"},zb={class:"error"},Wb=["disabled"],Gb=Be({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},broadcastError:{}},emits:["broadcastEvent"],setup(e,{emit:t}){const n=t,s=On(),r=is(),o=K(""),i=()=>{if(!r.signedJson.length){o.value="Provide signed event.";return}let u;try{u=JSON.parse(r.signedJson)}catch{o.value="Invalid JSON. Please check it and try again.";return}const f=s.currentRelay;if(!(f!=null&&f.connected)){o.value="Please connect to relay first.";return}o.value="",n("broadcastEvent",u,"json")},a=()=>{const u=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(u)},l=u=>{var f;r.updateSignedJson((f=u==null?void 0:u.target)==null?void 0:f.value)},c=(u,f)=>{var p;const d=(p=u==null?void 0:u.target)==null?void 0:p.value;s.updateRelayAdditionalRelaysUrlsForSignedEvent(f,d)};return(u,f)=>{var d,p;return A(),B("div",Pb,[_("div",Tb,[Lb,_("p",Nb,[Re(" Event will be broadcasted to a selected relay. You can add more relays to retransmit the event. "),Bb,_("button",{class:"additional-relay-btn",onClick:a}," Add relay "),ie(s).additionalRelaysCountForSignedEvent>0?(A(),B("div",Ub,[_("div",Ob,[Mb,_("input",{readonly:"",value:(d=ie(s).currentRelay)!=null&&d.url?`${(p=ie(s).currentRelay)==null?void 0:p.url} (already selected)`:"Firstly connect to default relay",type:"text"},null,8,Hb)]),(A(!0),B(xe,null,ot(ie(s).additionalRelaysCountForSignedEvent,v=>(A(),B("div",null,[_("div",Fb,[_("span",null,ae(v+1)+".",1),_("input",{onInput:y=>c(y,v),placeholder:"[wss://]relay.example.com",type:"text"},null,40,jb)])]))),256))])):oe("",!0)])]),_("div",Vb,[Db,_("div",qb,[_("textarea",{class:"signed-json-textarea",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onInput:l,placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},ae(ie(r).signedJson),33)])]),_("div",Kb,[_("div",zb,ae(o.value)+" "+ae(u.broadcastError),1),_("button",{disabled:u.isSendingMessage,class:"send-btn send-btn_signed-json",onClick:i},ae(u.isSendingMessage?"Broadcasting...":"Broadcast"),9,Wb)])])}}});const Jb=Ae(Gb,[["__scopeId","data-v-efc02ad6"]]),Zb=xi('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),Yb=xi("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),Qb=xi('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),Cl=Be({__name:"Help",props:{showPrivacy:{}},setup(e){const t=Ls(),n=K(null);return Tt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),mi(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,r)=>(A(),B(xe,null,[Zb,_("p",null,[_("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),Yb]),Qb],64))}}),Et=ss({value:1,update(e){this.value=e}}),Xb=yn("user-notes",()=>{const e=K([]),t=K([]);function n(o){e.value=o}function s(o){t.value=o}function r(o){const i=e.value.find(a=>a.id===o);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:r}}),Xr=e=>(gt("data-v-59817eec"),e=e(),yt(),e),eE={class:"event"},tE={key:0,class:"event__content"},nE=Xr(()=>_("hr",null,null,-1)),sE={class:"event__code-block"},rE={class:"event__code-title"},oE=Xr(()=>_("b",null,"Author: ",-1)),iE={class:"content-col_code"},aE={class:"event__code"},lE={class:"event__code-block"},cE={class:"event__code-title"},uE=Xr(()=>_("b",null,"Event id: ",-1)),fE={class:"content-col_code"},dE={class:"event__code"},hE=Xr(()=>_("div",{class:"header-col"},[_("b",null,"Created: ")],-1)),pE={class:"content-col_code"},gE={class:"event__code"},yE={class:"event-footer__signature-text"},vE=Be({__name:"UserEvent",props:{event:{},author:{},key:{}},setup(e){const t=e,n=K(!1),s=K(!1),r=K(!1),o=K(""),i=K(""),a=K(""),l=K(0),c=K(!1);Wd(()=>{const{event:f}=t;o.value=f.id,i.value=f.sig,a.value=f.pubkey,l.value=f.created_at}),Tt(()=>{Object.keys(t.event).length!==0&&(c.value=Un(t.event))});const u=()=>{n.value=!n.value};return(f,d)=>(A(),B("div",eE,[n.value?oe("",!0):(A(),B("div",tE,[rh(f.$slots,"default",{},()=>[Re("No content for event")],!0),nE,_("div",sE,[_("div",rE,[oE,_("button",{class:"event__code-btn",onClick:d[0]||(d[0]=p=>r.value=!r.value)},ae(r.value?"npub":"hex"),1)]),_("div",iE,[_("code",aE,ae(r.value?a.value:ie(Ve).npubEncode(a.value)),1)])]),_("div",lE,[_("div",cE,[uE,_("button",{class:"event__code-btn",onClick:d[1]||(d[1]=p=>s.value=!s.value)},ae(s.value?"nevent":"hex"),1)]),_("div",fE,[_("code",dE,ae(s.value?o.value:ie(Ve).neventEncode({id:o.value})),1)])]),_("div",null,[hE,_("div",pE,[_("code",gE,ae(ie(If)(l.value)),1)])])])),n.value?(A(),Le(mf,{key:1,isUserEvent:!0,event:f.event,authorEvent:f.event},null,8,["event","authorEvent"])):oe("",!0),_("div",{class:Ie(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(A(),B("div",{key:0,class:Ie(["event-footer__signature",{"event-footer__signature_invalid":!c.value}])},[c.value?(A(),Le(Pf,{key:0})):oe("",!0),c.value?oe("",!0):(A(),Le(Tf,{key:1})),_("span",yE,ae(c.value?"Signature is valid":"Invalid signature"),1)],2)):oe("",!0),_("div",null,[_("span",{class:"event-footer-code",onClick:u},"{...}")])],2)]))}});const _E=Ae(vE,[["__scopeId","data-v-59817eec"]]),wE={},mE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},bE=_("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),EE=_("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),xE=[bE,EE];function RE(e,t){return A(),B("svg",mE,xE)}const SE=Ae(wE,[["render",RE]]),eo=e=>(gt("data-v-e0708a3e"),e=e(),yt(),e),kE={class:"field"},$E={class:"field-label",for:"user_public_key"},CE=eo(()=>_("strong",null,"Profile's public key or event id",-1)),AE={class:"field-elements"},IE={class:"error"},PE={key:0,class:"loading-notice"},TE={class:"user"},LE={key:0,class:"user__avatar-wrapper"},NE=["src"],BE={class:"user__info"},UE={class:"user__nickname"},OE={class:"user__name"},ME={class:"user__desc"},HE={key:0,class:"user__nip05"},FE=["href"],jE=eo(()=>_("strong",null,"nip05",-1)),VE={key:1,class:"user__contacts"},DE={class:"user__contacts-col user__following-cnt"},qE={class:"user__contacts-col user__followers-cnt"},KE={key:0},zE={key:1,class:"user__contacts-download-icon"},WE=eo(()=>_("span",{class:"user__contacts-followers-word"}," Followers ",-1)),GE={key:2},JE={key:3,id:"user-posts"},ZE={key:0},YE={key:1},QE={key:5,class:"not-found"},XE=eo(()=>_("div",{class:"not-found__desc"}," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays: ",-1)),e2=Be({__name:"User",props:{handleRelayConnect:{type:Function}},setup(e){const n=Os().pool,s=Zr(),r=Xb(),o=Yi(),i=Yr(),a=_n(),l=On(),c=e,u=K({}),f=K({}),d=K(!1),p=K(!1),v=K(""),y=K(!1),w=K(""),b=K(!1),E=K(""),k=K(!1),P=K(!1),N=K(!1),C=K(!1),F=K(!0),H=K(1),Z=$e(()=>Math.ceil(r.allNotesIds.length/Pn)),ne=Br(),se=Ls(),ue=Q=>{const[Y,R]=Q.split("@");return`https://${R}/.well-known/nostr.json?name=${Y}`},q=K([]);Tt(()=>{var Q,Y;if((Y=(Q=se.params)==null?void 0:Q.id)!=null&&Y.length&&!l.currentRelay.connected){s.updateNpubInput(se.params.id),s.updateCachedUrl(se.params.id),l.currentRelay.connected||(N.value=!0);return}if(o.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),S();return}}),At(()=>se.params,()=>{o.isRoutingUser&&(s.updateCachedUrl(s.npubInput),o.updateRoutingStatus(!1),S())}),At(()=>se.redirectedFrom,()=>{s.updateNpubInput(se.params.id),s.updateCachedUrl(se.params.id),x()}),yc(()=>{r.notes.length&&S()});const V=()=>{E.value="",y.value=!1},U=async Q=>{const Y=l.connectedUserReadRelayUrls;if(!Y.length)return;const R=Pn,M=(Q-1)*R,O=M+R,J=r.allNotesIds.slice(M,O),le=await n.querySync(Y,{ids:J});let fe=I(le,f.value);await an(fe,Y,n),r.updateNotes(fe),H.value=Q},x=()=>{u.value={},f.value={},r.updateNotes([]),r.updateIds([])},S=async()=>{Et.update(Et.value+1);const Q=Et.value,Y=s.npubInput.trim();let R=!1;if(!Y.length){v.value="Public key or event id is required.";return}if(xl(Y))w.value=Y,R=!0;else try{let{data:fe,type:h}=Ve.decode(Y);if(h!=="npub"&&h!=="note"){v.value="Public key or event id should be in npub or note format, or hex.";return}C.value=h==="note",w.value=fe.toString()}catch{v.value="Public key or event id is invalid. Please check it and try again.";return}N.value&&await c.handleRelayConnect();const M=l.connectedUserReadRelayUrls;if(Q!==Et.value)return;if(!M.length){v.value=N.value?"Connection error, try to connect again or try to choose other relay.":"Please connect to relay first.";return}N.value=!1,x(),p.value=!1,v.value="",b.value=!0;let O=[];if(C.value||R){const fe=w.value;if(O=await n.querySync(M,{ids:[fe]}),Q!==Et.value)return;O.length&&(r.updateIds(O.map(h=>h.id)),w.value=O[0].pubkey,C.value=!0)}const J=await n.get(M,{kinds:[0],limit:1,authors:[w.value]});if(Q!==Et.value)return;if(!J){b.value=!1,y.value=!0;return}q.value=M;const le=await n.get(M,{kinds:[3],limit:1,authors:[w.value]});if(Q===Et.value){if(u.value=J,f.value=JSON.parse(J.content),f.value.followingCount=(le==null?void 0:le.tags.length)||0,d.value=!1,b.value=!1,y.value=!1,C.value?ne.push({path:`/event/${Y}`}):ne.push({path:`/user/${Y}`}),s.updateCachedUrl(Y),P.value=!0,L(Q),!C.value){if(O=await n.querySync(M,{kinds:[1],authors:[w.value]}),Q!==Et.value)return;const fe=new Set;O.forEach(g=>{const m=Ge.parse(g);(m.reply||m.root)&&fe.add(g.id)}),O=O.filter(g=>!fe.has(g.id)),r.updateIds(O.map(g=>g.id));const h=Pn;H.value=1,O=O.slice(0,h)}if(O=I(O,f.value),C.value){const fe=O[0],h=Ge.parse(fe),g=h.reply||h.root;if(g){F.value=!1;let m=await n.get(q.value,{kinds:[1],ids:[g.id]});if(m){const $=await n.get(q.value,{kinds:[0],authors:[m.pubkey]});$&&(m.author=JSON.parse($.content))}await zn(m,O,q.value,n)}else await an(O,M,n)}else await an(O,M,n);Q===Et.value&&(r.updateNotes(O),P.value=!1)}},I=(Q,Y)=>Q.map(R=>(R.author=Y,R)),L=async(Q=0)=>{const Y=f.value.nip05,R=u.value.pubkey;if(!(!Y||!R))try{const M=await X(Y,R);if(Q&&Q!==Et.value)return;d.value=M}catch{console.log("Failed to check nip05")}},X=async(Q,Y)=>{const R=await sf.queryProfile(Q);return Y===(R==null?void 0:R.pubkey)},re=()=>{if(!a.nsec.trim().length){v.value="Please provide private key first.";return}try{const Y=a.getPubkey();if(!Y.length)throw new Error;s.updateNpubInput(Ve.npubEncode(Y)),v.value=""}catch{v.value="Private key is invalid. Please check it and try again.";return}},z=async()=>{const Q=s.npubInput.trim();let Y=!1;if(!Q.length){E.value="Public key or event id is required.";return}if(xl(Q))w.value=Q,Y=!0;else try{let{data:J,type:le}=Ve.decode(Q);if(le!=="npub"&&le!=="note"){E.value="Public key or event id should be in npub or note format, or hex.";return}C.value=le==="note",w.value=J.toString()}catch{E.value="Public key or event id is invalid. Please check it and try again.";return}k.value=!0,r.updateIds([]);let R=[];if(C.value||Y){const J=w.value;R=await n.querySync(bn,{ids:[J]}),R.length&&(w.value=R[0].pubkey,C.value=!0)}const M=await n.get(bn,{kinds:[0],limit:1,authors:[w.value]});if(!M){k.value=!1,E.value="User was not found on listed relays.";return}q.value=bn;const O=await n.get(bn,{kinds:[3],limit:1,authors:[w.value]});if(u.value=M,f.value=JSON.parse(M.content),f.value.followingCount=(O==null?void 0:O.tags.length)||0,E.value="",k.value=!1,y.value=!1,p.value=!0,d.value=!1,C.value?ne.push({path:`/event/${Q}`}):ne.push({path:`/user/${Q}`}),s.updateCachedUrl(Q),P.value=!0,L(),!C.value){R=await n.querySync(bn,{kinds:[1],authors:[w.value]});const J=new Set;R.forEach(le=>{const fe=Ge.parse(le);(fe.reply||fe.root)&&J.add(le.id)}),R=R.filter(le=>!J.has(le.id))}R=I(R,f.value),await an(R,bn,n),r.updateNotes(R),P.value=!1},pe=async()=>{f.value.followersCount=0;const Q=n.subscribeMany(q.value,[{"#p":[w.value],kinds:[3]}],{onevent(Y){f.value.followersCount=f.value.followersCount+1},oneose(){Q.close()}})},he=Q=>{r.toggleRawData(Q)};return(Q,Y)=>(A(),B(xe,null,[_("div",kE,[_("label",$E,[CE,ie(a).nsec.length?(A(),B("button",{key:0,onClick:re,class:"random-key-btn"},"Use mine")):oe("",!0)]),_("div",AE,[An(_("input",{onInput:V,"onUpdate:modelValue":Y[0]||(Y[0]=R=>ie(s).npubInput=R),class:"pubkey-input",id:"user_public_key",type:"text",placeholder:"npub, note, hex of pubkey or note id..."},null,544),[[ks,ie(s).npubInput]]),_("button",{onClick:S,class:"get-user-btn"},ae(N.value?"Connect & Search":"Search"),1)]),_("div",IE,ae(v.value),1)]),b.value?(A(),B("div",PE," Loading event info... ")):oe("",!0),u.value.id?(A(),Le(_E,{author:f.value,event:u.value,key:u.value.id},{default:Ye(()=>[_("div",TE,[ie(i).showImages?(A(),B("div",LE,[_("img",{class:"user__avatar",src:f.value.picture},null,8,NE)])):oe("",!0),_("div",BE,[_("div",null,[_("div",UE,ae(f.value.username||f.value.name),1),_("div",OE,ae(f.value.display_name||""),1),_("div",ME,ae(f.value.about||""),1),d.value?(A(),B("div",HE,[_("a",{target:"_blank",href:ue(f.value.nip05)},[jE,Re(": "+ae(f.value.nip05),1)],8,FE)])):oe("",!0),f.value.followingCount>=0?(A(),B("div",VE,[_("span",DE,[_("b",null,ae(f.value.followingCount),1),Re(" Following ")]),_("span",qE,[f.value.followersCount?(A(),B("b",KE,ae(f.value.followersCount),1)):(A(),B("span",zE,[ye(SE,{onClick:pe})])),WE])])):oe("",!0)])])])]),_:1},8,["author","event"])):oe("",!0),P.value?(A(),B("div",GE,"Loading notes...")):oe("",!0),ie(r).notes.length>0&&!P.value?(A(),B("h3",JE,[C.value?(A(),B("span",ZE,"Event info")):(A(),B("span",YE,"User notes"))])):oe("",!0),(A(!0),B(xe,null,ot(ie(r).notes,(R,M)=>(A(),Le(Nf,{key:R.id,hasReplyBtn:!0,showReplies:!0,showRootReplies:F.value,currentReadRelays:q.value,index:M,onToggleRawData:he,event:R},null,8,["showRootReplies","currentReadRelays","index","event"]))),128)),!P.value&&!b.value?(A(),Le(Bf,{key:4,pagesCount:Z.value,currentPage:H.value,onShowPage:U},null,8,["pagesCount","currentPage"])):oe("",!0),y.value?(A(),B("div",QE,[XE,_("div",null,[_("button",{onClick:z,class:"fallback-search-btn"}," Search in all listed relays "),_("div",{class:Ie(["not-found__status",{error:E.value.length}])},ae(E.value)+" "+ae(k.value?"Searching...":""),3),_("ul",null,[(A(!0),B(xe,null,ot(ie(bn),R=>(A(),B("li",null,ae(R),1))),256))])])])):oe("",!0)],64))}});const Al=Ae(e2,[["__scopeId","data-v-e0708a3e"]]),t2={},n2={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},s2=_("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),r2=_("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),o2=[s2,r2];function i2(e,t){return A(),B("svg",n2,o2)}const a2=Ae(t2,[["render",i2]]),l2={class:"show-images"},c2={class:"show-images__field"},u2=["checked"],f2=_("label",{class:"show-images__label",for:"show-feed-images"}," Show avatars",-1),d2=Be({__name:"ShowImagesCheckbox",props:{showImages:{type:Boolean}},emits:["toggleImages"],setup(e,{emit:t}){const n=e,s=t;return(r,o)=>{const i=Rs("router-link");return A(),B("div",l2,[_("span",c2,[_("input",{onChange:o[0]||(o[0]=a=>s("toggleImages")),class:"show-images__input",type:"checkbox",id:"show-feed-images",checked:n.showImages},null,40,u2),f2]),_("small",null,[Re(" ("),ye(i,{to:{path:"/help",hash:"#privacy"}},{default:Ye(()=>[Re("Exposes your IP")]),_:1}),Re(")")])])}}});const Lt=e=>(gt("data-v-d5b9796a"),e=e(),yt(),e),h2=Lt(()=>_("h4",null,"Images:",-1)),p2={class:"show-images"},g2=Lt(()=>_("h4",null,"Your relays:",-1)),y2={class:"error"},v2={class:"relays"},_2={class:"relay"},w2={class:"actions"},m2=["onChange","id","name","checked"],b2=["for"],E2=Lt(()=>_("span",{class:"actions__delimiter"}," | ",-1)),x2=["onClick"],R2=Lt(()=>_("span",{class:"actions__remove-label"},"remove",-1)),S2={key:0},k2={key:0},$2={key:1},C2=Lt(()=>_("h4",null,"Add relay:",-1)),A2={class:"add-relay"},I2={class:"error"},P2=Lt(()=>_("h4",null,"Your Keys:",-1)),T2={class:"keys"},L2={class:"key-block"},N2=Lt(()=>_("div",null," Public key: ",-1)),B2=Lt(()=>_("div",{class:"key-block__desc"},[_("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),U2={key:0,class:"key-block__code"},O2={key:1},M2={class:"key-block"},H2=Lt(()=>_("div",null," Private key: ",-1)),F2=Lt(()=>_("div",{class:"key-block__desc"},[_("small",null,[Re(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),_("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),j2={key:0,class:"key-block__code"},V2={key:1},ko="Updating relays error. Please reload the page and try again or write us about the issue.",D2=Be({__name:"Settings",props:{handleRelayConnect:{type:Function}},setup(e){const t=e,n=Os(),s=_n(),r=Yr(),o=n.pool,i=On(),a=K(""),l=K(""),c=K(""),u=k=>{if(c.value="",!(s.nsec?s.nsec.trim():"").length){c.value="Please provide your private key.";return}let N,C;try{if(N=s.getPrivkeyBytes(),!N)throw new Error;if(C=s.getPubkey(),!C.length)throw new Error}catch{c.value="Invalid private key. Please check it and try again.";return}const F={kind:10002,pubkey:C,created_at:Math.floor(Date.now()/1e3),content:"",tags:k};return vt(F,N)},f=async(k,P)=>{c.value="",k.target.checked?i.addWriteRelay(P):i.removeWriteRelay(P);const C=i.nip65Tags,F=u(C);if(F)return await o.publish(i.allRelaysUrlsWithSelectedRelay,F);c.value.length||(c.value=ko)},d=async k=>{c.value="",i.removeUserRelay(k),t.handleRelayConnect(!0);const P=i.nip65Tags,N=u(P);if(N)return await o.publish(i.allRelaysUrlsWithSelectedRelay,N);c.value.length||(c.value=ko)},p=async()=>{let k="";c.value="",l.value="";try{k=In.normalizeURL(a.value)}catch{l.value="Invalid relay url.";return}i.addUserRelay(k),t.handleRelayConnect(!0),a.value="";const P=i.nip65Tags,N=u(P);if(N)return await o.publish(i.allRelaysUrlsWithSelectedRelay,N);c.value.length||(c.value=ko)},v=()=>{r.updateShowImages(!r.showImages)},y=()=>{if(!s.isValidNsecPresented())return;const k=s.getPubkey();navigator.clipboard.writeText(Ve.npubEncode(k))},w=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPubkey())},b=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkey())},E=()=>{s.isValidNsecPresented()&&navigator.clipboard.writeText(s.getPrivkeyHex())};return(k,P)=>(A(),B(xe,null,[h2,_("div",p2,[ye(d2,{showImages:ie(r).showImages,onToggleImages:v},null,8,["showImages"])]),g2,_("div",y2,ae(c.value),1),_("ul",v2,[(A(!0),B(xe,null,ot(ie(i).userReadWriteRelays,(N,C)=>(A(),B("li",_2,[Re(ae(N.url)+" ",1),_("div",w2,[_("input",{onChange:F=>f(F,N.url),class:"actions__checkbox",type:"checkbox",id:`write-${C}`,name:`write-${C}`,checked:N.type==="write"},null,40,m2),_("label",{class:"actions__label",for:`write-${C}`}," publish to relay",8,b2),E2,_("span",{onClick:()=>d(N.url),class:"actions__remove"},[ye(a2,{class:"trash-icon"}),R2],8,x2)])]))),256))]),ie(i).userReadWriteRelays.length?oe("",!0):(A(),B("div",S2,[ie(i).isConnectedToRelay?(A(),B("span",k2,[Re(" The private key was not provided or the list with your relays was not found on "),_("b",null,ae(ie(i).currentRelay.url),1)])):(A(),B("span",$2," Please connect to a relay to see the list of your relays. "))])),C2,_("div",A2,[An(_("input",{"onUpdate:modelValue":P[0]||(P[0]=N=>a.value=N),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[ks,a.value]]),_("button",{onClick:p,class:"add-relay__btn"},"Add")]),_("div",I2,ae(l.value),1),P2,_("div",T2,[_("div",L2,[N2,B2,_("div",null,[Re("  "),ie(s).isValidNsecPresented()?(A(),B("code",U2,ae(ie(Ve).npubEncode(ie(s).getPubkey())),1)):(A(),B("span",O2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:y}," Copy pubkey "),_("button",{onClick:w}," Copy hex ")])]),_("div",M2,[H2,F2,_("div",null,[Re("  "),ie(s).isValidNsecPresented()?(A(),B("code",j2," *************************************************************** ")):(A(),B("span",V2,"Please login to get the key."))]),_("div",{class:"key-block__btns"},[_("button",{onClick:b}," Copy privkey "),_("button",{onClick:E}," Copy hex ")])])])],64))}});const q2=Ae(D2,[["__scopeId","data-v-d5b9796a"]]),K2=[{path:"/feed",name:"Feed",components:{default:So,messageInput:$l}},{path:"/message",name:"Message",components:{default:So,signedEventInput:Jb}},{path:"/log",name:"Log",components:{default:So,messageInput:$l}},{path:"/user",name:"User",component:Al,alias:["/event"]},{path:"/user/:id",component:Al,alias:["/event/:id"]},{path:"/help",name:"Help",component:Cl},{path:"/",component:Cl,beforeEnter:(e,t,n)=>{const s=e.query.user,r=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):r!=null&&r.length?n({path:`/event/${r}`}):n()}},{path:"/settings",component:q2}],z2=Ng({history:Zp(),routes:K2}),Ms=e=>(gt("data-v-d1398494"),e=e(),yt(),e),W2={class:"relay-fields"},G2={class:"relay-fields__wrapper"},J2={class:"relay-fields__relay"},Z2={class:"relay-fields__select-field"},Y2=Ms(()=>_("label",{class:"field-label_priv-key",for:"relays"},[_("strong",null,"Select relay")],-1)),Q2={class:"field-elements"},X2=["value"],ex=Ms(()=>_("option",{value:"custom"},"custom url",-1)),tx={class:"message-fields__field"},nx=Ms(()=>_("label",{for:"priv_key"},[_("strong",null,"Private key (optional)")],-1)),sx={class:"field-elements"},rx={class:"remember-me"},ox=Ms(()=>_("label",{class:"remember-me__label",for:"remember-me"}," Remember me",-1)),ix={class:"error"},ax={key:0,class:"field"},lx=Ms(()=>_("label",{for:"relay_url"},[_("strong",null,"Relay URL")],-1)),cx={class:"field-elements"},ux=Be({__name:"HeaderFields",props:{wsError:{}},emits:["relayConnect","relayDisconnect"],setup(e,{emit:t}){const n=e,s=t,r=On(),o=is(),i=_n(),a=K(!1),l=K(!1),c=$e(()=>r.currentRelay.connected?r.selectInputRelayUrl!==r.currentRelay.url:!0);r.setSelectedRelay(kl[0]);const u=b=>{const E=b.target.value;l.value=E==="custom",r.setSelectedRelay(E)};Tt(()=>{i.isValidNsecPresented()&&(a.value=!0)});const f=b=>{if(!i.isNsecValid()){a.value=!1;return}a.value=!0,i.rememberMe&&localStorage.setItem("privkey",i.nsec),r.isConnectedToRelay&&(i.cachedNsec!==i.nsec||o.selectedFeedSource==="follows")&&s("relayConnect")},d=()=>{const b=S0();i.updateNsec(Ve.nsecEncode(b)),a.value=!0},p=()=>{i.updateNsec(""),localStorage.removeItem("privkey"),a.value=!1,r.isConnectedToRelay&&r.userReadWriteRelays.length&&(o.setSelectedFeedSource("network"),s("relayDisconnect"),s("relayConnect"))},v=()=>{i.rememberMe?(localStorage.setItem("rememberMe","true"),localStorage.setItem("privkey",i.nsec)):localStorage.clear()},y=()=>{s("relayConnect")},w=()=>{s("relayDisconnect")};return(b,E)=>(A(),B(xe,null,[_("p",W2,[_("div",G2,[_("div",J2,[_("div",Z2,[Y2,_("div",Q2,[_("select",{class:"select-relay__select",onChange:u,name:"relays",id:"relays"},[(A(!0),B(xe,null,ot(ie(kl),k=>(A(),B("option",{value:k},ae(k),9,X2))),256)),ex],32),c.value?(A(),B("button",{key:0,onClick:y,class:"select-relay__btn"},ae(ie(r).isConnectingToRelay?"Connecting...":"Connect"),1)):(A(),B("button",{key:1,onClick:w,class:"select-relay__btn"}," Disconnect "))])])]),_("div",tx,[nx,_("div",sx,[An(_("input",{onInput:f,"onUpdate:modelValue":E[0]||(E[0]=k=>ie(i).nsec=k),class:"priv-key-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,544),[[ks,ie(i).nsec]]),a.value?oe("",!0):(A(),B("button",{key:0,onClick:d,class:"random-key-btn"},"Random")),a.value?(A(),B("button",{key:1,onClick:p,class:"random-key-btn"},"Logout")):oe("",!0)]),_("div",rx,[An(_("input",{onChange:v,class:"remember-me__input",type:"checkbox",id:"remember-me","onUpdate:modelValue":E[1]||(E[1]=k=>ie(i).rememberMe=k)},null,544),[[yp,ie(i).rememberMe]]),ox])])]),_("div",ix,ae(n.wsError),1)]),l.value?(A(),B("div",ax,[lx,_("div",cx,[An(_("input",{"onUpdate:modelValue":E[2]||(E[2]=k=>ie(r).selectInputCustomRelayUrl=k),class:"relay-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[ks,ie(r).selectInputCustomRelayUrl]])])])):oe("",!0)],64))}});const fx=Ae(ux,[["__scopeId","data-v-d1398494"]]),dx={class:"tabs"},hx=Be({__name:"App",setup(e){const t=Br(),n=Ls(),s=Zr(),r=_n(),o=On(),i=is(),l=Os().pool;let c,u;const f=localStorage.getItem("rememberMe")==="true";r.setRememberMe(f);const d=f?localStorage.getItem("privkey"):"";r.updateNsec(d||"");const p=new Set,v=new Set;let y=K([]),w=K(0),b=K(""),E=K("");const k=K([]),P=K(""),N=K(""),C=K(""),F=K(!1),H=$e(()=>s.cachedUrlNpub.length?`/user/${s.cachedUrlNpub}`:"/user"),Z=S=>{k.value.unshift(S)},ne=async()=>{var Q,Y;const S=o.connectedFeedRelaysUrls;if(!S.length)return;const I=i.newEventsToShow;if(I.length<2)return;const L=I[I.length-1].pubkey,X=I[I.length-2].pubkey,re={kinds:[0],authors:[L],limit:1},z={kinds:[0],authors:[X],limit:1},pe=await l.querySync(S,re),he=await l.querySync(S,z);u&&(!((Q=pe[0])!=null&&Q.content)||!((Y=he[0])!=null&&Y.content)||(b.value=JSON.parse(pe[0].content).picture,E.value=JSON.parse(he[0].content).picture,i.setNewEventsBadgeImageUrls([b.value,E.value]),w.value=I.length,i.setNewEventsBadgeCount(I.length),i.setShowNewEventsBadge(!0)))},se=S=>new Promise(I=>setTimeout(I,S)),ue=(S,I,L)=>new Promise(X=>{const re=[];let z,pe=L;if(L&&L.length&&L[0].limit){let{limit:Y,...R}=L[0];pe=[R],z=Y}let he=!1;const Q=S.subscribeMany(I,pe,{onevent(Y){if(he)return;const R=Ge.parse(Y);R.reply||R.root||(re.push(Y),z&&re.length>=z&&(Q.close(),he=!0,X(re.slice(0,z))))},oneose(){Q.close();const Y=z?re.slice(0,z):re;X(Y)}})});async function q(S=!1,I=!1){var h;if(o.isConnectingToRelay)return;let L=o.selectInputRelayUrl;if(L==="custom"){const g=o.selectInputCustomRelayUrl;L=g.length?In.normalizeURL(g):""}if(!L.length)return;if(r.isNotValidNsecPresented()){P.value="Private key is invalid. Please check it and try again.";return}else r.updateCachedNsec(r.nsec);!S&&o.currentRelay.connected&&(o.currentRelay.close(),Z([{type:"text",value:"disconnected from "},{type:"bold",value:o.currentRelay.url}])),c&&c.close(),u&&(clearInterval(u),u=0),S||(o.setReedRelays([]),o.setWriteRelays([]));let X;if(!S){try{o.setConnectionToRelayStatus(!0),i.setLoadingFeedSourceStatus(!0);try{X=await si.connect(L)}catch{await se(500),X=await si.connect(L)}P.value=""}catch{let m=`WebSocket connection to "${L}" failed. You can try again. `;navigator.onLine?m+="Also check WebSocket address. Relay address should be a correct WebSocket URL. Or relay is unavailable or you are offline.":m+="Or check your internet connection.",P.value=m,o.setConnectionToRelayStatus(!1);return}if(o.updateCurrentRelay(X),Z([{type:"text",value:"connected to "},{type:"bold",value:X.url}]),r.isNotValidNsecPresented()&&(P.value="Private key is invalid. Please check it and try again."),r.isValidNsecPresented()){const g=r.getPubkey(),$=await dw(X,[{kinds:[10002],limit:1,authors:[g]}],3e3);if($&&$.tags.length){const{read:T,write:W}=Cf($);o.setReedRelays(T),o.setWriteRelays(W)}}}i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]),(I||S)&&i.setLoadingFeedSourceStatus(!0);const re=[];o.reedRelays.length&&(await Promise.all(o.reedRelays.map(async m=>{const $=await Ws(m);return{url:m,connected:$}}))).forEach(m=>{if(S&&!o.reedRelays.includes(m.url)||(m.connected&&re.push(m.url),(X==null?void 0:X.url)===m.url))return;const $=m.connected?"connected to ":"failed to connect to ";Z([{type:"text",value:$},{type:"bold",value:m.url}])});let z=re.length?re:[L];const pe=r.getPubkey(),he={};let Q=[];if(i.isFollowsSource&&r.isValidNsecPresented()){const g=await l.get(z,{kinds:[3],limit:1,authors:[pe]});if(g&&g.tags.length){Q=g.tags.map(j=>j[1]);const m=await l.querySync(z,{kinds:[10002],authors:Q}),$=new Set;m.forEach(j=>{j.tags.forEach(G=>{if(G[0]!=="r")return;const D=In.normalizeURL(G[1]);z.includes(D)||$.add(D)})});const T=await Promise.all(Array.from($).map(async j=>{const G=await Ws(j,1e3);return{url:j,connected:G}})),W=T.some(j=>j.connected);Z(W?[{type:"text",value:"Connected to follows relays"}]:[{type:"text",value:"Failed to connect to follows relays"}]);const ee=T.filter(j=>j.connected).map(j=>j.url);m.forEach(j=>{const G=[];j.tags.forEach(D=>{if(D[0]!=="r")return;const te=In.normalizeURL(D[1]);(ee.includes(te)||z.includes(te))&&G.push(te)}),he[j.pubkey]=G}),z=[...new Set([...z,...ee])]}}let Y={kinds:[1],limit:Pn};Q=Q.filter(g=>g!==pe),Q.length&&(Y.authors=Q),o.setConnectedUserReadRelayUrls(re),o.setConnectedFeedRelayUrls(z);const M=(await ue(l,z,[Y])).sort((g,m)=>m.created_at-g.created_at),O=[],J=[],le={};for(const g of M){const m=g.pubkey,$=i.isFollowsSource&&((h=he[m])!=null&&h.length)?he[m]:z;let T=null;const W=aw(g);W.includes(m)||W.push(m);const ee=[];W.forEach(D=>{J.includes(D)||(J.push(D),ee.push(D))}),ee.length&&(T=l.querySync($,{kinds:[0],authors:ee}));const j=l.querySync($,{kinds:[1,6,7],"#e":[g.id]}),G=Promise.all([g,T,j]);O.push(G)}p.clear(),i.updatePaginationEventsIds([]),i.updateEvents([]);for(const g of O){const m=await g,$=m[0],T=m[1]||[],W=m[2]||[],ee=cw(T);let j=null;const G=[],D=[];ee.forEach(te=>{const ce=te;le[te.pubkey]=te,G.push(ce),D.push(ce.pubkey),te.pubkey===$.pubkey&&(j=te)}),J.forEach(te=>{if(D.includes(te))return;le.hasOwnProperty(te)||(le[te]=null);const ce=le[te];G.push(ce),te===$.pubkey&&(j=ce)}),lw($,G),St([$],[j]),nw($,W),i.pushToEvents($),i.isLoadingFeedSource&&(i.setLoadingFeedSourceStatus(!1),i.setLoadingMoreStatus(!0))}i.setLoadingMoreStatus(!1),M.forEach(g=>{p.add(g.id),i.pushToPaginationEventsIds(g.id)}),o.setConnectionToRelayStatus(!1);let fe={kinds:[1],limit:1};Q.length&&(fe.authors=Q),c=l.subscribeMany(z,[fe],{onevent(g){if(p.has(g.id))return;const m=Ge.parse(g);m.reply||m.root||(y.value.push({id:g.id,pubkey:g.pubkey}),i.pushToNewEventsToShow({id:g.id,pubkey:g.pubkey}))}}),u=setInterval(ne,3e3)}const V=async()=>{if(i.isLoadingNewEvents)return;i.setLoadingNewEventsStatus(!0);const S=o.connectedFeedRelaysUrls;if(!S.length)return;t.push({path:`${n.path}`});let I=i.newEventsToShow;i.updateNewEventsToShow(i.newEventsToShow.filter(R=>!I.includes(R)));const L=I.map(R=>R.id),X=Pn;i.updatePaginationEventsIds(i.paginationEventsIds.concat(L));const re=i.paginationEventsIds.slice(-X),z=await l.querySync(S,{ids:re}),pe=Array.from(new Set([...z.map(R=>R.pubkey)])),Q=(await Promise.all([Promise.all(pe.map(async R=>l.get(S,{kinds:[0],authors:[R]}))),an(z,S,l)]))[0];let Y=St(z,Q);Y.forEach(R=>p.add(R.id)),Y=Y.sort((R,M)=>M.created_at-R.created_at),i.updateEvents(Y),i.setShowNewEventsBadge(!1),i.setLoadingNewEventsStatus(!1),Z([{type:"text",value:`loaded ${I.length}`},{type:"text",value:" new event(s) from "},{type:"bold",value:o.connectedFeedRelaysPrettyStr}])},U=async(S,I)=>{let L=o.writeRelays;if(I==="json"){const Q=o.additionalRelaysUrlsForSignedEvent;let Y=[];if(Q.length){let R="Can't connect to these relays: ",M=!1;for(const J of Q)if(J!=null&&J.length){if(!await Ws(J)){M=!0,R+=`${J}, `;continue}Y.push(J)}const O=o.currentRelay.url;if(await Ws(O)||(M=!0,R+=`${O}`),M){R+=". Relays are unavailable or you are offline.",N.value=R,F.value=!1;return}}L=[o.currentRelay.url,...Y],L=[...new Set(L)]}if(F.value)return;F.value=!0;const X=o.connectedUserReadRelayUrls;let re=null;if(X.length){const Q=[{kinds:[1],ids:[S.id],limit:1}];re=l.subscribeMany(X,Q,{async onevent(Y){const R=setInterval(async()=>{y.value.some(M=>M.id==Y.id)&&(clearInterval(R),await V(),re==null||re.close())},100)}})}const z=await Af(L,l,S);z.forEach(Q=>{Q.success?Z([{type:"text",value:" new event broadcasted to "},{type:"bold",value:Q.relay}]):Z([{type:"text",value:" failed to publish to "},{type:"bold",value:Q.relay}])}),z.every(Q=>Q.success===!1)&&I==="json"&&X.length&&(re==null||re.close()),z.some(Q=>Q.success===!1)||(I==="text"&&i.updateMessageToBroadcast(""),I==="json"&&i.updateSignedJson("")),F.value=!1},x=()=>{if(!o.isConnectedToRelay)return;clearInterval(u),i.setShowNewEventsBadge(!1),y.value=[],i.updateNewEventsToShow([]);const S=o.currentRelay;S.close(),c==null||c.close(),o.setConnectedUserReadRelayUrls([]),o.setConnectedFeedRelayUrls([]),o.setReedRelays([]),o.setWriteRelays([]),Z([{type:"text",value:"disconnected from "},{type:"bold",value:S.url}])};return(S,I)=>{const L=Rs("router-link"),X=Rs("router-view");return A(),B(xe,null,[ye(fx,{onRelayConnect:q,onRelayDisconnect:x,wsError:P.value},null,8,["wsError"]),_("div",dx,[ye(L,{class:"tab-link",to:"/feed"},{default:Ye(()=>[Re("Feed")]),_:1}),ye(L,{class:"tab-link",to:H.value},{default:Ye(()=>[Re("User")]),_:1},8,["to"]),ye(L,{class:"tab-link",to:"/message"},{default:Ye(()=>[Re("Message")]),_:1}),ye(L,{class:"tab-link",to:"/help"},{default:Ye(()=>[Re("Help")]),_:1}),ye(L,{class:"tab-link",to:"/log"},{default:Ye(()=>[Re("Log")]),_:1}),ye(L,{class:"tab-link",to:"/settings"},{default:Ye(()=>[Re("Settings")]),_:1})]),ye(X,{name:"messageInput",onBroadcastEvent:U,isSendingMessage:F.value,sentEventIds:ie(v),broadcastNotice:C.value},null,8,["isSendingMessage","sentEventIds","broadcastNotice"]),ye(X,{name:"signedEventInput",onBroadcastEvent:U,isSendingMessage:F.value,broadcastError:N.value},null,8,["isSendingMessage","broadcastError"]),ye(X,{onLoadNewRelayEvents:V,onHandleRelayConnect:q,handleRelayConnect:q,eventsLog:k.value},null,8,["eventsLog"])],64)}}});const px=Ae(hx,[["__scopeId","data-v-64c91669"]]),gx=Ep(px),yx=kp();gx.use(z2).use(yx).mount("#app");
//# sourceMappingURL=main.js.map
