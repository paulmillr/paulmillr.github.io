var df=Object.defineProperty;var ff=(e,t,n)=>t in e?df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>(ff(e,typeof t!="symbol"?t+"":t,n),n);/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hf(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const pf=()=>{},gf=Object.prototype.hasOwnProperty,no=(e,t)=>gf.call(e,t),gn=Array.isArray,Ys=e=>Bc(e)==="[object Map]",yf=e=>typeof e=="function",vf=e=>typeof e=="string",mo=e=>typeof e=="symbol",wo=e=>e!==null&&typeof e=="object",_f=Object.prototype.toString,Bc=e=>_f.call(e),mf=e=>Bc(e).slice(8,-1),ri=e=>vf(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,is=(e,t)=>!Object.is(e,t),wf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let at;class Nc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=at;try{return at=this,t()}finally{at=n}}}on(){at=this}off(){at=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Mc(e){return new Nc(e)}function bf(e,t=at){t&&t.active&&t.effects.push(e)}function Oc(){return at}function Ef(e){at&&at.cleanups.push(e)}let Ln;class ii{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,bf(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Rf(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),On()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=yn,n=Ln;try{return yn=!0,Ln=this,this._runnings++,oa(this),this.fn()}finally{ra(this),this._runnings--,Ln=n,yn=t}}stop(){var t;this.active&&(oa(this),ra(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Rf(e){return e.value}function oa(e){e._trackId++,e._depsLength=0}function ra(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Fc(e.deps[t],e);e.deps.length=e._depsLength}}function Fc(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let yn=!0,Cr=0;const Hc=[];function Mn(){Hc.push(yn),yn=!1}function On(){const e=Hc.pop();yn=e===void 0?!0:e}function ai(){Cr++}function ci(){for(Cr--;!Cr&&$r.length;)$r.shift()()}function jc(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Fc(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const $r=[];function Vc(e,t,n){ai();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&$r.push(s.scheduler)))}ci()}const Dc=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},so=new WeakMap,Un=Symbol(""),Pr=Symbol("");function tt(e,t,n){if(yn&&Ln){let s=so.get(e);s||so.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=Dc(()=>s.delete(n))),jc(Ln,o)}}function Wt(e,t,n,s,o,r){const i=so.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&gn(e)){const c=Number(s);i.forEach((l,d)=>{(d==="length"||!mo(d)&&d>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":gn(e)?ri(n)&&a.push(i.get("length")):(a.push(i.get(Un)),Ys(e)&&a.push(i.get(Pr)));break;case"delete":gn(e)||(a.push(i.get(Un)),Ys(e)&&a.push(i.get(Pr)));break;case"set":Ys(e)&&a.push(i.get(Un));break}ai();for(const c of a)c&&Vc(c,4);ci()}function xf(e,t){var n;return(n=so.get(e))==null?void 0:n.get(t)}const Sf=hf("__proto__,__v_isRef,__isVue"),Wc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mo)),ia=kf();function kf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=xe(this);for(let r=0,i=this.length;r<i;r++)tt(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(xe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Mn(),ai();const s=xe(this)[t].apply(this,n);return ci(),On(),s}}),e}function Cf(e){const t=xe(this);return tt(t,"has",e),t.hasOwnProperty(e)}class qc{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,s){const o=this._isReadonly,r=this._shallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Hf:Zc:r?Gc:zc).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=gn(t);if(!o){if(i&&no(ia,n))return Reflect.get(ia,n,s);if(n==="hasOwnProperty")return Cf}const a=Reflect.get(t,n,s);return(mo(n)?Wc.has(n):Sf(n))||(o||tt(t,"get",n),r)?a:He(a)?i&&ri(n)?a:a.value:wo(a)?o?Yc(a):as(a):a}}class Kc extends qc{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._shallow){const c=Yn(r);if(!oo(s)&&!Yn(s)&&(r=xe(r),s=xe(s)),!gn(t)&&He(r)&&!He(s))return c?!1:(r.value=s,!0)}const i=gn(t)&&ri(n)?Number(n)<t.length:no(t,n),a=Reflect.set(t,n,s,o);return t===xe(o)&&(i?is(s,r)&&Wt(t,"set",n,s):Wt(t,"add",n,s)),a}deleteProperty(t,n){const s=no(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Wt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!mo(n)||!Wc.has(n))&&tt(t,"has",n),s}ownKeys(t){return tt(t,"iterate",gn(t)?"length":Un),Reflect.ownKeys(t)}}class $f extends qc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pf=new Kc,If=new $f,Af=new Kc(!0),li=e=>e,bo=e=>Reflect.getPrototypeOf(e);function Ds(e,t,n=!1,s=!1){e=e.__v_raw;const o=xe(e),r=xe(t);n||(is(t,r)&&tt(o,"get",t),tt(o,"get",r));const{has:i}=bo(o),a=s?li:n?fi:Ps;if(i.call(o,t))return a(e.get(t));if(i.call(o,r))return a(e.get(r));e!==o&&e.get(t)}function Ws(e,t=!1){const n=this.__v_raw,s=xe(n),o=xe(e);return t||(is(e,o)&&tt(s,"has",e),tt(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function qs(e,t=!1){return e=e.__v_raw,!t&&tt(xe(e),"iterate",Un),Reflect.get(e,"size",e)}function aa(e){e=xe(e);const t=xe(this);return bo(t).has.call(t,e)||(t.add(e),Wt(t,"add",e,e)),this}function ca(e,t){t=xe(t);const n=xe(this),{has:s,get:o}=bo(n);let r=s.call(n,e);r||(e=xe(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?is(t,i)&&Wt(n,"set",e,t):Wt(n,"add",e,t),this}function la(e){const t=xe(this),{has:n,get:s}=bo(t);let o=n.call(t,e);o||(e=xe(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&Wt(t,"delete",e,void 0),r}function ua(){const e=xe(this),t=e.size!==0,n=e.clear();return t&&Wt(e,"clear",void 0,void 0),n}function Ks(e,t){return function(s,o){const r=this,i=r.__v_raw,a=xe(i),c=t?li:e?fi:Ps;return!e&&tt(a,"iterate",Un),i.forEach((l,d)=>s.call(o,c(l),c(d),r))}}function zs(e,t,n){return function(...s){const o=this.__v_raw,r=xe(o),i=Ys(r),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,l=o[e](...s),d=n?li:t?fi:Ps;return!t&&tt(r,"iterate",c?Pr:Un),{next(){const{value:u,done:f}=l.next();return f?{value:u,done:f}:{value:a?[d(u[0]),d(u[1])]:d(u),done:f}},[Symbol.iterator](){return this}}}}function Xt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tf(){const e={get(r){return Ds(this,r)},get size(){return qs(this)},has:Ws,add:aa,set:ca,delete:la,clear:ua,forEach:Ks(!1,!1)},t={get(r){return Ds(this,r,!1,!0)},get size(){return qs(this)},has:Ws,add:aa,set:ca,delete:la,clear:ua,forEach:Ks(!1,!0)},n={get(r){return Ds(this,r,!0)},get size(){return qs(this,!0)},has(r){return Ws.call(this,r,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Ks(!0,!1)},s={get(r){return Ds(this,r,!0,!0)},get size(){return qs(this,!0)},has(r){return Ws.call(this,r,!0)},add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear"),forEach:Ks(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=zs(r,!1,!1),n[r]=zs(r,!0,!1),t[r]=zs(r,!1,!0),s[r]=zs(r,!0,!0)}),[e,n,t,s]}const[Lf,Uf,Bf,Nf]=Tf();function ui(e,t){const n=t?e?Nf:Bf:e?Uf:Lf;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(no(n,o)&&o in s?n:s,o,r)}const Mf={get:ui(!1,!1)},Of={get:ui(!1,!0)},Ff={get:ui(!0,!1)},zc=new WeakMap,Gc=new WeakMap,Zc=new WeakMap,Hf=new WeakMap;function jf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vf(e){return e.__v_skip||!Object.isExtensible(e)?0:jf(mf(e))}function as(e){return Yn(e)?e:di(e,!1,Pf,Mf,zc)}function Jc(e){return di(e,!1,Af,Of,Gc)}function Yc(e){return di(e,!0,If,Ff,Zc)}function di(e,t,n,s,o){if(!wo(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Vf(e);if(i===0)return e;const a=new Proxy(e,i===2?s:n);return o.set(e,a),a}function vn(e){return Yn(e)?vn(e.__v_raw):!!(e&&e.__v_isReactive)}function Yn(e){return!!(e&&e.__v_isReadonly)}function oo(e){return!!(e&&e.__v_isShallow)}function Qc(e){return vn(e)||Yn(e)}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function Eo(e){return Object.isExtensible(e)&&wf(e,"__v_skip",!0),e}const Ps=e=>wo(e)?as(e):e,fi=e=>wo(e)?Yc(e):e;class Xc{constructor(t,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ii(()=>t(this._value),()=>Qs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=xe(this);return(!t._cacheable||t.effect.dirty)&&is(t._value,t._value=t.effect.run())&&Qs(t,4),el(t),t.effect._dirtyLevel>=2&&Qs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Df(e,t,n=!1){let s,o;const r=yf(e);return r?(s=e,o=pf):(s=e.get,o=e.set),new Xc(s,o,r||!o,n)}function el(e){var t;yn&&Ln&&(e=xe(e),jc(Ln,(t=e.dep)!=null?t:e.dep=Dc(()=>e.dep=void 0,e instanceof Xc?e:void 0)))}function Qs(e,t=4,n){e=xe(e);const s=e.dep;s&&Vc(s,t)}function He(e){return!!(e&&e.__v_isRef===!0)}function L(e){return tl(e,!1)}function Wf(e){return tl(e,!0)}function tl(e,t){return He(e)?e:new qf(e,t)}class qf{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:xe(t),this._value=n?t:Ps(t)}get value(){return el(this),this._value}set value(t){const n=this.__v_isShallow||oo(t)||Yn(t);t=n?t:xe(t),is(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ps(t),Qs(this,4))}}function Z(e){return He(e)?e.value:e}const Kf={get:(e,t,n)=>Z(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return He(o)&&!He(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function nl(e){return vn(e)?e:new Proxy(e,Kf)}function zf(e){const t=gn(e)?new Array(e.length):{};for(const n in e)t[n]=Zf(e,n);return t}class Gf{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xf(xe(this._object),this._key)}}function Zf(e,t,n){const s=e[t];return He(s)?s:new Gf(e,t,n)}/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jf(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Le={},zn=[],gt=()=>{},Yf=()=>!1,hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sl=e=>e.startsWith("onUpdate:"),Ze=Object.assign,pi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Qf=Object.prototype.hasOwnProperty,Pe=(e,t)=>Qf.call(e,t),be=Array.isArray,ol=e=>gi(e)==="[object Map]",rl=e=>gi(e)==="[object Set]",_e=e=>typeof e=="function",nt=e=>typeof e=="string",il=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",al=e=>(Oe(e)||_e(e))&&_e(e.then)&&_e(e.catch),cl=Object.prototype.toString,gi=e=>cl.call(e),ll=e=>gi(e)==="[object Object]",ws=Jf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ro=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Xf=/-(\w)/g,Ot=Ro(e=>e.replace(Xf,(t,n)=>n?n.toUpperCase():"")),eh=/\B([A-Z])/g,xo=Ro(e=>e.replace(eh,"-$1").toLowerCase()),yi=Ro(e=>e.charAt(0).toUpperCase()+e.slice(1)),sr=Ro(e=>e?`on${yi(e)}`:""),da=(e,t)=>!Object.is(e,t),or=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ir=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},th=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let fa;const ul=()=>fa||(fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vi(e){if(be(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=nt(s)?rh(s):vi(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(nt(e)||Oe(e))return e}const nh=/;(?![^(]*\))/g,sh=/:([^]+)/,oh=/\/\*[^]*?\*\//g;function rh(e){const t={};return e.replace(oh,"").split(nh).forEach(n=>{if(n){const s=n.split(sh);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ve(e){let t="";if(nt(e))t=e;else if(be(e))for(let n=0;n<e.length;n++){const s=ve(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const se=e=>nt(e)?e:e==null?"":be(e)||Oe(e)&&(e.toString===cl||!_e(e.toString))?JSON.stringify(e,dl,2):String(e),dl=(e,t)=>t&&t.__v_isRef?dl(e,t.value):ol(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[rr(s,r)+" =>"]=o,n),{})}:rl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>rr(n))}:il(t)?rr(t):Oe(t)&&!be(t)&&!ll(t)?String(t):t,rr=(e,t="")=>{var n;return il(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _n(e,t,n,s){try{return s?e(...s):e()}catch(o){So(o,t,n)}}function Rt(e,t,n,s){if(_e(e)){const r=_n(e,t,n,s);return r&&al(r)&&r.catch(i=>{So(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Rt(e[r],t,n,s));return o}function So(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const l=r.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](e,i,a)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){_n(c,null,10,[e,i,a]);return}}ih(e,n,o,s)}function ih(e,t,n,s=!0){console.error(e)}let Is=!1,Ar=!1;const ze=[];let Lt=0;const Gn=[];let un=null,$n=0;const fl=Promise.resolve();let _i=null;function Qn(e){const t=_i||fl;return e?t.then(this?e.bind(this):e):t}function ah(e){let t=Lt+1,n=ze.length;for(;t<n;){const s=t+n>>>1,o=ze[s],r=As(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function mi(e){(!ze.length||!ze.includes(e,Is&&e.allowRecurse?Lt+1:Lt))&&(e.id==null?ze.push(e):ze.splice(ah(e.id),0,e),hl())}function hl(){!Is&&!Ar&&(Ar=!0,_i=fl.then(gl))}function ch(e){const t=ze.indexOf(e);t>Lt&&ze.splice(t,1)}function lh(e){be(e)?Gn.push(...e):(!un||!un.includes(e,e.allowRecurse?$n+1:$n))&&Gn.push(e),hl()}function ha(e,t,n=Is?Lt+1:0){for(;n<ze.length;n++){const s=ze[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s()}}}function pl(e){if(Gn.length){const t=[...new Set(Gn)].sort((n,s)=>As(n)-As(s));if(Gn.length=0,un){un.push(...t);return}for(un=t,$n=0;$n<un.length;$n++)un[$n]();un=null,$n=0}}const As=e=>e.id==null?1/0:e.id,uh=(e,t)=>{const n=As(e)-As(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function gl(e){Ar=!1,Is=!0,ze.sort(uh);const t=gt;try{for(Lt=0;Lt<ze.length;Lt++){const n=ze[Lt];n&&n.active!==!1&&_n(n,null,14)}}finally{Lt=0,ze.length=0,pl(),Is=!1,_i=null,(ze.length||Gn.length)&&gl()}}function dh(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Le;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const d=`${i==="modelValue"?"model":i}Modifiers`,{number:u,trim:f}=s[d]||Le;f&&(o=n.map(h=>nt(h)?h.trim():h)),u&&(o=n.map(th))}let a,c=s[a=sr(t)]||s[a=sr(Ot(t))];!c&&r&&(c=s[a=sr(xo(t))]),c&&Rt(c,e,6,o);const l=s[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Rt(l,e,6,o)}}function yl(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},a=!1;if(!_e(e)){const c=l=>{const d=yl(l,t,!0);d&&(a=!0,Ze(i,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!a?(Oe(e)&&s.set(e,null),null):(be(r)?r.forEach(c=>i[c]=null):Ze(i,r),Oe(e)&&s.set(e,i),i)}function ko(e,t){return!e||!hi(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,xo(t))||Pe(e,t))}let Fe=null,Co=null;function ro(e){const t=Fe;return Fe=e,Co=e&&e.type.__scopeId||null,t}function st(e){Co=e}function ot(){Co=null}function ct(e,t=Fe,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&xa(-1);const r=ro(t);let i;try{i=e(...o)}finally{ro(r),s._d&&xa(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ir(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:a,attrs:c,emit:l,render:d,renderCache:u,data:f,setupState:h,ctx:v,inheritAttrs:g}=e;let m,w;const x=ro(e);try{if(n.shapeFlag&4){const C=o||s,P=C;m=Tt(d.call(P,C,u,r,h,f,v)),w=c}else{const C=t;m=Tt(C.length>1?C(r,{attrs:c,slots:a,emit:l}):C(r,null)),w=t.props?c:fh(c)}}catch(C){Rs.length=0,So(C,e,1),m=fe(wn)}let b=m;if(w&&g!==!1){const C=Object.keys(w),{shapeFlag:P}=b;C.length&&P&7&&(i&&C.some(sl)&&(w=hh(w,i)),b=Xn(b,w))}return n.dirs&&(b=Xn(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),m=b,ro(x),m}const fh=e=>{let t;for(const n in e)(n==="class"||n==="style"||hi(n))&&((t||(t={}))[n]=e[n]);return t},hh=(e,t)=>{const n={};for(const s in e)(!sl(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function ph(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:a,patchFlag:c}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?pa(s,i,l):!!i;if(c&8){const d=t.dynamicProps;for(let u=0;u<d.length;u++){const f=d[u];if(i[f]!==s[f]&&!ko(l,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===i?!1:s?i?pa(s,i,l):!0:!!i;return!1}function pa(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!ko(n,r))return!0}return!1}function gh({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const vl="components";function Ms(e,t){return vh(vl,e,!0,t)||e}const yh=Symbol.for("v-ndc");function vh(e,t,n=!0,s=!1){const o=Fe||We;if(o){const r=o.type;if(e===vl){const a=up(r,!1);if(a&&(a===t||a===Ot(t)||a===yi(Ot(t))))return r}const i=ga(o[e]||r[e],t)||ga(o.appContext[e],t);return!i&&s?r:i}}function ga(e,t){return e&&(e[t]||e[Ot(t)]||e[yi(Ot(t))])}const _h=e=>e.__isSuspense;function mh(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):lh(e)}const wh=Symbol.for("v-scx"),bh=()=>yt(wh);function Eh(e,t){return wi(e,null,t)}const Gs={};function qe(e,t,n){return wi(e,t,n)}function wi(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:a}=Le){if(t&&r){const k=t;t=(...D)=>{k(...D),P()}}const c=We,l=k=>s===!0?k:In(k,s===!1?1:void 0);let d,u=!1,f=!1;if(He(e)?(d=()=>e.value,u=oo(e)):vn(e)?(d=()=>l(e),u=!0):be(e)?(f=!0,u=e.some(k=>vn(k)||oo(k)),d=()=>e.map(k=>{if(He(k))return k.value;if(vn(k))return l(k);if(_e(k))return _n(k,c,2)})):_e(e)?t?d=()=>_n(e,c,2):d=()=>(h&&h(),Rt(e,c,3,[v])):d=gt,t&&s){const k=d;d=()=>In(k())}let h,v=k=>{h=b.onStop=()=>{_n(k,c,4),h=b.onStop=void 0}},g;if(Ao)if(v=gt,t?n&&Rt(t,c,3,[d(),f?[]:void 0,v]):d(),o==="sync"){const k=bh();g=k.__watcherHandles||(k.__watcherHandles=[])}else return gt;let m=f?new Array(e.length).fill(Gs):Gs;const w=()=>{if(!(!b.active||!b.dirty))if(t){const k=b.run();(s||u||(f?k.some((D,$)=>da(D,m[$])):da(k,m)))&&(h&&h(),Rt(t,c,3,[k,m===Gs?void 0:f&&m[0]===Gs?[]:m,v]),m=k)}else b.run()};w.allowRecurse=!!t;let x;o==="sync"?x=w:o==="post"?x=()=>Qe(w,c&&c.suspense):(w.pre=!0,c&&(w.id=c.uid),x=()=>mi(w));const b=new ii(d,gt,x),C=Oc(),P=()=>{b.stop(),C&&pi(C.effects,b)};return t?n?w():m=b.run():o==="post"?Qe(b.run.bind(b),c&&c.suspense):b.run(),g&&g.push(P),P}function Rh(e,t,n){const s=this.proxy,o=nt(e)?e.includes(".")?_l(s,e):()=>s[e]:e.bind(s,s);let r;_e(t)?r=t:(r=t.handler,n=t);const i=Os(this),a=wi(o,r.bind(s),n);return i(),a}function _l(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function In(e,t,n=0,s){if(!Oe(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),He(e))In(e.value,t,n,s);else if(be(e))for(let o=0;o<e.length;o++)In(e[o],t,n,s);else if(rl(e)||ol(e))e.forEach(o=>{In(o,t,n,s)});else if(ll(e))for(const o in e)In(e[o],t,n,s);return e}function qt(e,t){if(Fe===null)return e;const n=To(Fe)||Fe.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,a,c=Le]=t[o];r&&(_e(r)&&(r={mounted:r,updated:r}),r.deep&&In(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:a,modifiers:c}))}return e}function Sn(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];r&&(a.oldValue=r[i].value);let c=a.dir[s];c&&(Mn(),Rt(c,n,8,[e.el,a,e,t]),On())}}/*! #__NO_SIDE_EFFECTS__ */function Se(e,t){return _e(e)?(()=>Ze({name:e.name},t,{setup:e}))():e}const bs=e=>!!e.type.__asyncLoader,ml=e=>e.type.__isKeepAlive;function xh(e,t){wl(e,"a",t)}function Sh(e,t){wl(e,"da",t)}function wl(e,t,n=We){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if($o(t,s,n),n){let o=n.parent;for(;o&&o.parent;)ml(o.parent.vnode)&&kh(s,t,n,o),o=o.parent}}function kh(e,t,n,s){const o=$o(t,e,s,!0);Ei(()=>{pi(s[t],o)},n)}function $o(e,t,n=We,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Mn();const a=Os(n),c=Rt(t,n,e,i);return a(),On(),c});return s?o.unshift(r):o.push(r),r}}const Zt=e=>(t,n=We)=>(!Ao||e==="sp")&&$o(e,(...s)=>t(...s),n),Ch=Zt("bm"),vt=Zt("m"),bi=Zt("bu"),bl=Zt("u"),$h=Zt("bum"),Ei=Zt("um"),Ph=Zt("sp"),Ih=Zt("rtg"),Ah=Zt("rtc");function Th(e,t=We){$o("ec",e,t)}function ut(e,t,n,s){let o;const r=n&&n[s];if(be(e)||nt(e)){o=new Array(e.length);for(let i=0,a=e.length;i<a;i++)o[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r&&r[i])}else if(Oe(e))if(e[Symbol.iterator])o=Array.from(e,(i,a)=>t(i,a,void 0,r&&r[a]));else{const i=Object.keys(e);o=new Array(i.length);for(let a=0,c=i.length;a<c;a++){const l=i[a];o[a]=t(e[l],l,a,r&&r[a])}}else o=[];return n&&(n[s]=o),o}function Lh(e,t,n={},s,o){if(Fe.isCE||Fe.parent&&bs(Fe.parent)&&Fe.parent.isCE)return t!=="default"&&(n.name=t),fe("slot",n,s&&s());let r=e[t];r&&r._c&&(r._d=!1),S();const i=r&&El(r(n)),a=Ie(Ee,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function El(e){return e.some(t=>ao(t)?!(t.type===wn||t.type===Ee&&!El(t.children)):!0)?e:null}const Tr=e=>e?Ul(e)?To(e)||e.proxy:Tr(e.parent):null,Es=Ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tr(e.parent),$root:e=>Tr(e.root),$emit:e=>e.emit,$options:e=>Ri(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,mi(e.update)}),$nextTick:e=>e.n||(e.n=Qn.bind(e.proxy)),$watch:e=>Rh.bind(e)}),ar=(e,t)=>e!==Le&&!e.__isScriptSetup&&Pe(e,t),Uh={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(ar(s,t))return i[t]=1,s[t];if(o!==Le&&Pe(o,t))return i[t]=2,o[t];if((l=e.propsOptions[0])&&Pe(l,t))return i[t]=3,r[t];if(n!==Le&&Pe(n,t))return i[t]=4,n[t];Lr&&(i[t]=0)}}const d=Es[t];let u,f;if(d)return t==="$attrs"&&tt(e,"get",t),d(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==Le&&Pe(n,t))return i[t]=4,n[t];if(f=c.config.globalProperties,Pe(f,t))return f[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return ar(o,t)?(o[t]=n,!0):s!==Le&&Pe(s,t)?(s[t]=n,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let a;return!!n[i]||e!==Le&&Pe(e,i)||ar(t,i)||(a=r[0])&&Pe(a,i)||Pe(s,i)||Pe(Es,i)||Pe(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ya(e){return be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lr=!0;function Bh(e){const t=Ri(e),n=e.proxy,s=e.ctx;Lr=!1,t.beforeCreate&&va(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:a,provide:c,inject:l,created:d,beforeMount:u,mounted:f,beforeUpdate:h,updated:v,activated:g,deactivated:m,beforeDestroy:w,beforeUnmount:x,destroyed:b,unmounted:C,render:P,renderTracked:k,renderTriggered:D,errorCaptured:$,serverPrefetch:T,expose:I,inheritAttrs:V,components:z,directives:J,filters:X}=t;if(l&&Nh(l,s,null),i)for(const A in i){const F=i[A];_e(F)&&(s[A]=F.bind(n))}if(o){const A=o.call(n,n);Oe(A)&&(e.data=as(A))}if(Lr=!0,r)for(const A in r){const F=r[A],W=_e(F)?F.bind(n,n):_e(F.get)?F.get.bind(n,n):gt,ee=!_e(F)&&_e(F.set)?F.set.bind(n):gt,oe=ye({get:W,set:ee});Object.defineProperty(s,A,{enumerable:!0,configurable:!0,get:()=>oe.value,set:re=>oe.value=re})}if(a)for(const A in a)Rl(a[A],s,n,A);if(c){const A=_e(c)?c.call(n):c;Reflect.ownKeys(A).forEach(F=>{Xs(F,A[F])})}d&&va(d,e,"c");function R(A,F){be(F)?F.forEach(W=>A(W.bind(n))):F&&A(F.bind(n))}if(R(Ch,u),R(vt,f),R(bi,h),R(bl,v),R(xh,g),R(Sh,m),R(Th,$),R(Ah,k),R(Ih,D),R($h,x),R(Ei,C),R(Ph,T),be(I))if(I.length){const A=e.exposed||(e.exposed={});I.forEach(F=>{Object.defineProperty(A,F,{get:()=>n[F],set:W=>n[F]=W})})}else e.exposed||(e.exposed={});P&&e.render===gt&&(e.render=P),V!=null&&(e.inheritAttrs=V),z&&(e.components=z),J&&(e.directives=J)}function Nh(e,t,n=gt){be(e)&&(e=Ur(e));for(const s in e){const o=e[s];let r;Oe(o)?"default"in o?r=yt(o.from||s,o.default,!0):r=yt(o.from||s):r=yt(o),He(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function va(e,t,n){Rt(be(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Rl(e,t,n,s){const o=s.includes(".")?_l(n,s):()=>n[s];if(nt(e)){const r=t[e];_e(r)&&qe(o,r)}else if(_e(e))qe(o,e.bind(n));else if(Oe(e))if(be(e))e.forEach(r=>Rl(r,t,n,s));else{const r=_e(e.handler)?e.handler.bind(n):t[e.handler];_e(r)&&qe(o,r,e)}}function Ri(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,a=r.get(t);let c;return a?c=a:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(l=>io(c,l,i,!0)),io(c,t,i)),Oe(t)&&r.set(t,c),c}function io(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&io(e,r,n,!0),o&&o.forEach(i=>io(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const a=Mh[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Mh={data:_a,props:ma,emits:ma,methods:ms,computed:ms,beforeCreate:Je,created:Je,beforeMount:Je,mounted:Je,beforeUpdate:Je,updated:Je,beforeDestroy:Je,beforeUnmount:Je,destroyed:Je,unmounted:Je,activated:Je,deactivated:Je,errorCaptured:Je,serverPrefetch:Je,components:ms,directives:ms,watch:Fh,provide:_a,inject:Oh};function _a(e,t){return t?e?function(){return Ze(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function Oh(e,t){return ms(Ur(e),Ur(t))}function Ur(e){if(be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Je(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?Ze(Object.create(null),e,t):t}function ma(e,t){return e?be(e)&&be(t)?[...new Set([...e,...t])]:Ze(Object.create(null),ya(e),ya(t??{})):t}function Fh(e,t){if(!e)return t;if(!t)return e;const n=Ze(Object.create(null),e);for(const s in t)n[s]=Je(e[s],t[s]);return n}function xl(){return{app:null,config:{isNativeTag:Yf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hh=0;function jh(e,t){return function(s,o=null){_e(s)||(s=Ze({},s)),o!=null&&!Oe(o)&&(o=null);const r=xl(),i=new WeakSet;let a=!1;const c=r.app={_uid:Hh++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:fp,get config(){return r.config},set config(l){},use(l,...d){return i.has(l)||(l&&_e(l.install)?(i.add(l),l.install(c,...d)):_e(l)&&(i.add(l),l(c,...d))),c},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),c},component(l,d){return d?(r.components[l]=d,c):r.components[l]},directive(l,d){return d?(r.directives[l]=d,c):r.directives[l]},mount(l,d,u){if(!a){const f=fe(s,o);return f.appContext=r,u===!0?u="svg":u===!1&&(u=void 0),d&&t?t(f,l):e(f,l,u),a=!0,c._container=l,l.__vue_app__=c,To(f.component)||f.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,d){return r.provides[l]=d,c},runWithContext(l){const d=Zn;Zn=c;try{return l()}finally{Zn=d}}};return c}}let Zn=null;function Xs(e,t){if(We){let n=We.provides;const s=We.parent&&We.parent.provides;s===n&&(n=We.provides=Object.create(s)),n[e]=t}}function yt(e,t,n=!1){const s=We||Fe;if(s||Zn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Zn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&_e(t)?t.call(s&&s.proxy):t}}function Vh(){return!!(We||Fe||Zn)}function Dh(e,t,n,s=!1){const o={},r={};Ir(r,Io,1),e.propsDefaults=Object.create(null),Sl(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Jc(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Wh(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,a=xe(o),[c]=e.propsOptions;let l=!1;if((s||i>0)&&!(i&16)){if(i&8){const d=e.vnode.dynamicProps;for(let u=0;u<d.length;u++){let f=d[u];if(ko(e.emitsOptions,f))continue;const h=t[f];if(c)if(Pe(r,f))h!==r[f]&&(r[f]=h,l=!0);else{const v=Ot(f);o[v]=Br(c,a,v,h,e,!1)}else h!==r[f]&&(r[f]=h,l=!0)}}}else{Sl(e,t,o,r)&&(l=!0);let d;for(const u in a)(!t||!Pe(t,u)&&((d=xo(u))===u||!Pe(t,d)))&&(c?n&&(n[u]!==void 0||n[d]!==void 0)&&(o[u]=Br(c,a,u,void 0,e,!0)):delete o[u]);if(r!==a)for(const u in r)(!t||!Pe(t,u))&&(delete r[u],l=!0)}l&&Wt(e,"set","$attrs")}function Sl(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(ws(c))continue;const l=t[c];let d;o&&Pe(o,d=Ot(c))?!r||!r.includes(d)?n[d]=l:(a||(a={}))[d]=l:ko(e.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,i=!0)}if(r){const c=xe(n),l=a||Le;for(let d=0;d<r.length;d++){const u=r[d];n[u]=Br(o,c,u,l[u],e,!Pe(l,u))}}return i}function Br(e,t,n,s,o,r){const i=e[n];if(i!=null){const a=Pe(i,"default");if(a&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&_e(c)){const{propsDefaults:l}=o;if(n in l)s=l[n];else{const d=Os(o);s=l[n]=c.call(null,t),d()}}else s=c}i[0]&&(r&&!a?s=!1:i[1]&&(s===""||s===xo(n))&&(s=!0))}return s}function kl(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},a=[];let c=!1;if(!_e(e)){const d=u=>{c=!0;const[f,h]=kl(u,t,!0);Ze(i,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!c)return Oe(e)&&s.set(e,zn),zn;if(be(r))for(let d=0;d<r.length;d++){const u=Ot(r[d]);wa(u)&&(i[u]=Le)}else if(r)for(const d in r){const u=Ot(d);if(wa(u)){const f=r[d],h=i[u]=be(f)||_e(f)?{type:f}:Ze({},f);if(h){const v=Ra(Boolean,h.type),g=Ra(String,h.type);h[0]=v>-1,h[1]=g<0||v<g,(v>-1||Pe(h,"default"))&&a.push(u)}}}const l=[i,a];return Oe(e)&&s.set(e,l),l}function wa(e){return e[0]!=="$"&&!ws(e)}function ba(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Ea(e,t){return ba(e)===ba(t)}function Ra(e,t){return be(t)?t.findIndex(n=>Ea(n,e)):_e(t)&&Ea(t,e)?0:-1}const Cl=e=>e[0]==="_"||e==="$stable",xi=e=>be(e)?e.map(Tt):[Tt(e)],qh=(e,t,n)=>{if(t._n)return t;const s=ct((...o)=>xi(t(...o)),n);return s._c=!1,s},$l=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Cl(o))continue;const r=e[o];if(_e(r))t[o]=qh(o,r,s);else if(r!=null){const i=xi(r);t[o]=()=>i}}},Pl=(e,t)=>{const n=xi(t);e.slots.default=()=>n},Kh=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=xe(t),Ir(t,"_",n)):$l(t,e.slots={})}else e.slots={},t&&Pl(e,t);Ir(e.slots,Io,1)},zh=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Le;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(Ze(o,t),!n&&a===1&&delete o._):(r=!t.$stable,$l(t,o)),i=t}else t&&(Pl(e,t),i={default:1});if(r)for(const a in o)!Cl(a)&&i[a]==null&&delete o[a]};function Nr(e,t,n,s,o=!1){if(be(e)){e.forEach((f,h)=>Nr(f,t&&(be(t)?t[h]:t),n,s,o));return}if(bs(s)&&!o)return;const r=s.shapeFlag&4?To(s.component)||s.component.proxy:s.el,i=o?null:r,{i:a,r:c}=e,l=t&&t.r,d=a.refs===Le?a.refs={}:a.refs,u=a.setupState;if(l!=null&&l!==c&&(nt(l)?(d[l]=null,Pe(u,l)&&(u[l]=null)):He(l)&&(l.value=null)),_e(c))_n(c,a,12,[i,d]);else{const f=nt(c),h=He(c);if(f||h){const v=()=>{if(e.f){const g=f?Pe(u,c)?u[c]:d[c]:c.value;o?be(g)&&pi(g,r):be(g)?g.includes(r)||g.push(r):f?(d[c]=[r],Pe(u,c)&&(u[c]=d[c])):(c.value=[r],e.k&&(d[e.k]=c.value))}else f?(d[c]=i,Pe(u,c)&&(u[c]=i)):h&&(c.value=i,e.k&&(d[e.k]=i))};i?(v.id=-1,Qe(v,n)):v()}}}const Qe=mh;function Gh(e){return Zh(e)}function Zh(e,t){const n=ul();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:a,createComment:c,setText:l,setElementText:d,parentNode:u,nextSibling:f,setScopeId:h=gt,insertStaticContent:v}=e,g=(p,y,E,M=null,O=null,q=null,Y=void 0,G=null,Q=!!y.dynamicChildren)=>{if(p===y)return;p&&!gs(p,y)&&(M=j(p),re(p,O,q,!0),p=null),y.patchFlag===-2&&(Q=!1,y.dynamicChildren=null);const{type:K,ref:ie,shapeFlag:ae}=y;switch(K){case Po:m(p,y,E,M);break;case wn:w(p,y,E,M);break;case eo:p==null&&x(y,E,M,Y);break;case Ee:z(p,y,E,M,O,q,Y,G,Q);break;default:ae&1?P(p,y,E,M,O,q,Y,G,Q):ae&6?J(p,y,E,M,O,q,Y,G,Q):(ae&64||ae&128)&&K.process(p,y,E,M,O,q,Y,G,Q,ne)}ie!=null&&O&&Nr(ie,p&&p.ref,q,y||p,!y)},m=(p,y,E,M)=>{if(p==null)s(y.el=a(y.children),E,M);else{const O=y.el=p.el;y.children!==p.children&&l(O,y.children)}},w=(p,y,E,M)=>{p==null?s(y.el=c(y.children||""),E,M):y.el=p.el},x=(p,y,E,M)=>{[p.el,p.anchor]=v(p.children,y,E,M,p.el,p.anchor)},b=({el:p,anchor:y},E,M)=>{let O;for(;p&&p!==y;)O=f(p),s(p,E,M),p=O;s(y,E,M)},C=({el:p,anchor:y})=>{let E;for(;p&&p!==y;)E=f(p),o(p),p=E;o(y)},P=(p,y,E,M,O,q,Y,G,Q)=>{y.type==="svg"?Y="svg":y.type==="math"&&(Y="mathml"),p==null?k(y,E,M,O,q,Y,G,Q):T(p,y,O,q,Y,G,Q)},k=(p,y,E,M,O,q,Y,G)=>{let Q,K;const{props:ie,shapeFlag:ae,transition:ce,dirs:pe}=p;if(Q=p.el=i(p.type,q,ie&&ie.is,ie),ae&8?d(Q,p.children):ae&16&&$(p.children,Q,null,M,O,cr(p,q),Y,G),pe&&Sn(p,null,M,"created"),D(Q,p,p.scopeId,Y,M),ie){for(const Ae in ie)Ae!=="value"&&!ws(Ae)&&r(Q,Ae,null,ie[Ae],q,p.children,M,O,ke);"value"in ie&&r(Q,"value",null,ie.value,q),(K=ie.onVnodeBeforeMount)&&$t(K,M,p)}pe&&Sn(p,null,M,"beforeMount");const we=Jh(O,ce);we&&ce.beforeEnter(Q),s(Q,y,E),((K=ie&&ie.onVnodeMounted)||we||pe)&&Qe(()=>{K&&$t(K,M,p),we&&ce.enter(Q),pe&&Sn(p,null,M,"mounted")},O)},D=(p,y,E,M,O)=>{if(E&&h(p,E),M)for(let q=0;q<M.length;q++)h(p,M[q]);if(O){let q=O.subTree;if(y===q){const Y=O.vnode;D(p,Y,Y.scopeId,Y.slotScopeIds,O.parent)}}},$=(p,y,E,M,O,q,Y,G,Q=0)=>{for(let K=Q;K<p.length;K++){const ie=p[K]=G?dn(p[K]):Tt(p[K]);g(null,ie,y,E,M,O,q,Y,G)}},T=(p,y,E,M,O,q,Y)=>{const G=y.el=p.el;let{patchFlag:Q,dynamicChildren:K,dirs:ie}=y;Q|=p.patchFlag&16;const ae=p.props||Le,ce=y.props||Le;let pe;if(E&&kn(E,!1),(pe=ce.onVnodeBeforeUpdate)&&$t(pe,E,y,p),ie&&Sn(y,p,E,"beforeUpdate"),E&&kn(E,!0),K?I(p.dynamicChildren,K,G,E,M,cr(y,O),q):Y||F(p,y,G,null,E,M,cr(y,O),q,!1),Q>0){if(Q&16)V(G,y,ae,ce,E,M,O);else if(Q&2&&ae.class!==ce.class&&r(G,"class",null,ce.class,O),Q&4&&r(G,"style",ae.style,ce.style,O),Q&8){const we=y.dynamicProps;for(let Ae=0;Ae<we.length;Ae++){const Ue=we[Ae],je=ae[Ue],wt=ce[Ue];(wt!==je||Ue==="value")&&r(G,Ue,je,wt,O,p.children,E,M,ke)}}Q&1&&p.children!==y.children&&d(G,y.children)}else!Y&&K==null&&V(G,y,ae,ce,E,M,O);((pe=ce.onVnodeUpdated)||ie)&&Qe(()=>{pe&&$t(pe,E,y,p),ie&&Sn(y,p,E,"updated")},M)},I=(p,y,E,M,O,q,Y)=>{for(let G=0;G<y.length;G++){const Q=p[G],K=y[G],ie=Q.el&&(Q.type===Ee||!gs(Q,K)||Q.shapeFlag&70)?u(Q.el):E;g(Q,K,ie,null,M,O,q,Y,!0)}},V=(p,y,E,M,O,q,Y)=>{if(E!==M){if(E!==Le)for(const G in E)!ws(G)&&!(G in M)&&r(p,G,E[G],null,Y,y.children,O,q,ke);for(const G in M){if(ws(G))continue;const Q=M[G],K=E[G];Q!==K&&G!=="value"&&r(p,G,K,Q,Y,y.children,O,q,ke)}"value"in M&&r(p,"value",E.value,M.value,Y)}},z=(p,y,E,M,O,q,Y,G,Q)=>{const K=y.el=p?p.el:a(""),ie=y.anchor=p?p.anchor:a("");let{patchFlag:ae,dynamicChildren:ce,slotScopeIds:pe}=y;pe&&(G=G?G.concat(pe):pe),p==null?(s(K,E,M),s(ie,E,M),$(y.children||[],E,ie,O,q,Y,G,Q)):ae>0&&ae&64&&ce&&p.dynamicChildren?(I(p.dynamicChildren,ce,E,O,q,Y,G),(y.key!=null||O&&y===O.subTree)&&Il(p,y,!0)):F(p,y,E,ie,O,q,Y,G,Q)},J=(p,y,E,M,O,q,Y,G,Q)=>{y.slotScopeIds=G,p==null?y.shapeFlag&512?O.ctx.activate(y,E,M,Y,Q):X(y,E,M,O,q,Y,Q):H(p,y,Q)},X=(p,y,E,M,O,q,Y)=>{const G=p.component=rp(p,M,O);if(ml(p)&&(G.ctx.renderer=ne),ip(G),G.asyncDep){if(O&&O.registerDep(G,R),!p.el){const Q=G.subTree=fe(wn);w(null,Q,y,E)}}else R(G,p,y,E,O,q,Y)},H=(p,y,E)=>{const M=y.component=p.component;if(ph(p,y,E))if(M.asyncDep&&!M.asyncResolved){A(M,y,E);return}else M.next=y,ch(M.update),M.effect.dirty=!0,M.update();else y.el=p.el,M.vnode=y},R=(p,y,E,M,O,q,Y)=>{const G=()=>{if(p.isMounted){let{next:ie,bu:ae,u:ce,parent:pe,vnode:we}=p;{const Hn=Al(p);if(Hn){ie&&(ie.el=we.el,A(p,ie,Y)),Hn.asyncDep.then(()=>{p.isUnmounted||G()});return}}let Ae=ie,Ue;kn(p,!1),ie?(ie.el=we.el,A(p,ie,Y)):ie=we,ae&&or(ae),(Ue=ie.props&&ie.props.onVnodeBeforeUpdate)&&$t(Ue,pe,ie,we),kn(p,!0);const je=ir(p),wt=p.subTree;p.subTree=je,g(wt,je,u(wt.el),j(wt),p,O,q),ie.el=je.el,Ae===null&&gh(p,je.el),ce&&Qe(ce,O),(Ue=ie.props&&ie.props.onVnodeUpdated)&&Qe(()=>$t(Ue,pe,ie,we),O)}else{let ie;const{el:ae,props:ce}=y,{bm:pe,m:we,parent:Ae}=p,Ue=bs(y);if(kn(p,!1),pe&&or(pe),!Ue&&(ie=ce&&ce.onVnodeBeforeMount)&&$t(ie,Ae,y),kn(p,!0),ae&&he){const je=()=>{p.subTree=ir(p),he(ae,p.subTree,p,O,null)};Ue?y.type.__asyncLoader().then(()=>!p.isUnmounted&&je()):je()}else{const je=p.subTree=ir(p);g(null,je,E,M,p,O,q),y.el=je.el}if(we&&Qe(we,O),!Ue&&(ie=ce&&ce.onVnodeMounted)){const je=y;Qe(()=>$t(ie,Ae,je),O)}(y.shapeFlag&256||Ae&&bs(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&p.a&&Qe(p.a,O),p.isMounted=!0,y=E=M=null}},Q=p.effect=new ii(G,gt,()=>mi(K),p.scope),K=p.update=()=>{Q.dirty&&Q.run()};K.id=p.uid,kn(p,!0),K()},A=(p,y,E)=>{y.component=p;const M=p.vnode.props;p.vnode=y,p.next=null,Wh(p,y.props,M,E),zh(p,y.children,E),Mn(),ha(p),On()},F=(p,y,E,M,O,q,Y,G,Q=!1)=>{const K=p&&p.children,ie=p?p.shapeFlag:0,ae=y.children,{patchFlag:ce,shapeFlag:pe}=y;if(ce>0){if(ce&128){ee(K,ae,E,M,O,q,Y,G,Q);return}else if(ce&256){W(K,ae,E,M,O,q,Y,G,Q);return}}pe&8?(ie&16&&ke(K,O,q),ae!==K&&d(E,ae)):ie&16?pe&16?ee(K,ae,E,M,O,q,Y,G,Q):ke(K,O,q,!0):(ie&8&&d(E,""),pe&16&&$(ae,E,M,O,q,Y,G,Q))},W=(p,y,E,M,O,q,Y,G,Q)=>{p=p||zn,y=y||zn;const K=p.length,ie=y.length,ae=Math.min(K,ie);let ce;for(ce=0;ce<ae;ce++){const pe=y[ce]=Q?dn(y[ce]):Tt(y[ce]);g(p[ce],pe,E,null,O,q,Y,G,Q)}K>ie?ke(p,O,q,!0,!1,ae):$(y,E,M,O,q,Y,G,Q,ae)},ee=(p,y,E,M,O,q,Y,G,Q)=>{let K=0;const ie=y.length;let ae=p.length-1,ce=ie-1;for(;K<=ae&&K<=ce;){const pe=p[K],we=y[K]=Q?dn(y[K]):Tt(y[K]);if(gs(pe,we))g(pe,we,E,null,O,q,Y,G,Q);else break;K++}for(;K<=ae&&K<=ce;){const pe=p[ae],we=y[ce]=Q?dn(y[ce]):Tt(y[ce]);if(gs(pe,we))g(pe,we,E,null,O,q,Y,G,Q);else break;ae--,ce--}if(K>ae){if(K<=ce){const pe=ce+1,we=pe<ie?y[pe].el:M;for(;K<=ce;)g(null,y[K]=Q?dn(y[K]):Tt(y[K]),E,we,O,q,Y,G,Q),K++}}else if(K>ce)for(;K<=ae;)re(p[K],O,q,!0),K++;else{const pe=K,we=K,Ae=new Map;for(K=we;K<=ce;K++){const it=y[K]=Q?dn(y[K]):Tt(y[K]);it.key!=null&&Ae.set(it.key,K)}let Ue,je=0;const wt=ce-we+1;let Hn=!1,ta=0;const ps=new Array(wt);for(K=0;K<wt;K++)ps[K]=0;for(K=pe;K<=ae;K++){const it=p[K];if(je>=wt){re(it,O,q,!0);continue}let Ct;if(it.key!=null)Ct=Ae.get(it.key);else for(Ue=we;Ue<=ce;Ue++)if(ps[Ue-we]===0&&gs(it,y[Ue])){Ct=Ue;break}Ct===void 0?re(it,O,q,!0):(ps[Ct-we]=K+1,Ct>=ta?ta=Ct:Hn=!0,g(it,y[Ct],E,null,O,q,Y,G,Q),je++)}const na=Hn?Yh(ps):zn;for(Ue=na.length-1,K=wt-1;K>=0;K--){const it=we+K,Ct=y[it],sa=it+1<ie?y[it+1].el:M;ps[K]===0?g(null,Ct,E,sa,O,q,Y,G,Q):Hn&&(Ue<0||K!==na[Ue]?oe(Ct,E,sa,2):Ue--)}}},oe=(p,y,E,M,O=null)=>{const{el:q,type:Y,transition:G,children:Q,shapeFlag:K}=p;if(K&6){oe(p.component.subTree,y,E,M);return}if(K&128){p.suspense.move(y,E,M);return}if(K&64){Y.move(p,y,E,ne);return}if(Y===Ee){s(q,y,E);for(let ae=0;ae<Q.length;ae++)oe(Q[ae],y,E,M);s(p.anchor,y,E);return}if(Y===eo){b(p,y,E);return}if(M!==2&&K&1&&G)if(M===0)G.beforeEnter(q),s(q,y,E),Qe(()=>G.enter(q),O);else{const{leave:ae,delayLeave:ce,afterLeave:pe}=G,we=()=>s(q,y,E),Ae=()=>{ae(q,()=>{we(),pe&&pe()})};ce?ce(q,we,Ae):Ae()}else s(q,y,E)},re=(p,y,E,M=!1,O=!1)=>{const{type:q,props:Y,ref:G,children:Q,dynamicChildren:K,shapeFlag:ie,patchFlag:ae,dirs:ce}=p;if(G!=null&&Nr(G,null,E,p,!0),ie&256){y.ctx.deactivate(p);return}const pe=ie&1&&ce,we=!bs(p);let Ae;if(we&&(Ae=Y&&Y.onVnodeBeforeUnmount)&&$t(Ae,y,p),ie&6)Te(p.component,E,M);else{if(ie&128){p.suspense.unmount(E,M);return}pe&&Sn(p,null,y,"beforeUnmount"),ie&64?p.type.remove(p,y,E,O,ne,M):K&&(q!==Ee||ae>0&&ae&64)?ke(K,y,E,!1,!0):(q===Ee&&ae&384||!O&&ie&16)&&ke(Q,y,E),M&&de(p)}(we&&(Ae=Y&&Y.onVnodeUnmounted)||pe)&&Qe(()=>{Ae&&$t(Ae,y,p),pe&&Sn(p,null,y,"unmounted")},E)},de=p=>{const{type:y,el:E,anchor:M,transition:O}=p;if(y===Ee){le(E,M);return}if(y===eo){C(p);return}const q=()=>{o(E),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(p.shapeFlag&1&&O&&!O.persisted){const{leave:Y,delayLeave:G}=O,Q=()=>Y(E,q);G?G(p.el,q,Q):Q()}else q()},le=(p,y)=>{let E;for(;p!==y;)E=f(p),o(p),p=E;o(y)},Te=(p,y,E)=>{const{bum:M,scope:O,update:q,subTree:Y,um:G}=p;M&&or(M),O.stop(),q&&(q.active=!1,re(Y,p,y,E)),G&&Qe(G,y),Qe(()=>{p.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},ke=(p,y,E,M=!1,O=!1,q=0)=>{for(let Y=q;Y<p.length;Y++)re(p[Y],y,E,M,O)},j=p=>p.shapeFlag&6?j(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let B=!1;const N=(p,y,E)=>{p==null?y._vnode&&re(y._vnode,null,null,!0):g(y._vnode||null,p,y,null,null,null,E),B||(B=!0,ha(),pl(),B=!1),y._vnode=p},ne={p:g,um:re,m:oe,r:de,mt:X,mc:$,pc:F,pbc:I,n:j,o:e};let ue,he;return t&&([ue,he]=t(ne)),{render:N,hydrate:ue,createApp:jh(N,ue)}}function cr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function kn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Jh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Il(e,t,n=!1){const s=e.children,o=t.children;if(be(s)&&be(o))for(let r=0;r<s.length;r++){const i=s[r];let a=o[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[r]=dn(o[r]),a.el=i.el),n||Il(i,a)),a.type===Po&&(a.el=i.el)}}function Yh(e){const t=e.slice(),n=[0];let s,o,r,i,a;const c=e.length;for(s=0;s<c;s++){const l=e[s];if(l!==0){if(o=n[n.length-1],e[o]<l){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)a=r+i>>1,e[n[a]]<l?r=a+1:i=a;l<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function Al(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Al(t)}const Qh=e=>e.__isTeleport,Ee=Symbol.for("v-fgt"),Po=Symbol.for("v-txt"),wn=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),Rs=[];let Et=null;function S(e=!1){Rs.push(Et=e?null:[])}function Xh(){Rs.pop(),Et=Rs[Rs.length-1]||null}let Ts=1;function xa(e){Ts+=e}function Tl(e){return e.dynamicChildren=Ts>0?Et||zn:null,Xh(),Ts>0&&Et&&Et.push(e),e}function U(e,t,n,s,o,r){return Tl(_(e,t,n,s,o,r,!0))}function Ie(e,t,n,s,o){return Tl(fe(e,t,n,s,o,!0))}function ao(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Io="__vInternal",Ll=({key:e})=>e??null,to=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nt(e)||He(e)||_e(e)?{i:Fe,r:e,k:t,f:!!n}:e:null);function _(e,t=null,n=null,s=0,o=null,r=e===Ee?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ll(t),ref:t&&to(t),scopeId:Co,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Fe};return a?(ki(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=nt(n)?8:16),Ts>0&&!i&&Et&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Et.push(c),c}const fe=ep;function ep(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===yh)&&(e=wn),ao(e)){const a=Xn(e,t,!0);return n&&ki(a,n),Ts>0&&!r&&Et&&(a.shapeFlag&6?Et[Et.indexOf(e)]=a:Et.push(a)),a.patchFlag|=-2,a}if(dp(e)&&(e=e.__vccOpts),t){t=tp(t);let{class:a,style:c}=t;a&&!nt(a)&&(t.class=ve(a)),Oe(c)&&(Qc(c)&&!be(c)&&(c=Ze({},c)),t.style=vi(c))}const i=nt(e)?1:_h(e)?128:Qh(e)?64:Oe(e)?4:_e(e)?2:0;return _(e,t,n,s,o,i,r,!0)}function tp(e){return e?Qc(e)||Io in e?Ze({},e):e:null}function Xn(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,a=t?np(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ll(a),ref:t&&t.ref?n&&o?be(o)?o.concat(to(t)):[o,to(t)]:to(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xn(e.ssContent),ssFallback:e.ssFallback&&Xn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Re(e=" ",t=0){return fe(Po,null,e,t)}function Si(e,t){const n=fe(eo,null,e);return n.staticCount=t,n}function te(e="",t=!1){return t?(S(),Ie(wn,null,e)):fe(wn,null,e)}function Tt(e){return e==null||typeof e=="boolean"?fe(wn):be(e)?fe(Ee,null,e.slice()):typeof e=="object"?dn(e):fe(Po,null,String(e))}function dn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xn(e)}function ki(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(be(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),ki(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Io in t)?t._ctx=Fe:o===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:Fe},n=32):(t=String(t),s&64?(n=16,t=[Re(t)]):n=8);e.children=t,e.shapeFlag|=n}function np(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ve([t.class,s.class]));else if(o==="style")t.style=vi([t.style,s.style]);else if(hi(o)){const r=t[o],i=s[o];i&&r!==i&&!(be(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function $t(e,t,n,s=null){Rt(e,t,7,[n,s])}const sp=xl();let op=0;function rp(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||sp,r={uid:op++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kl(s,o),emitsOptions:yl(s,o),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:s.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=dh.bind(null,r),e.ce&&e.ce(r),r}let We=null,co,Mr;{const e=ul(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};co=t("__VUE_INSTANCE_SETTERS__",n=>We=n),Mr=t("__VUE_SSR_SETTERS__",n=>Ao=n)}const Os=e=>{const t=We;return co(e),e.scope.on(),()=>{e.scope.off(),co(t)}},Sa=()=>{We&&We.scope.off(),co(null)};function Ul(e){return e.vnode.shapeFlag&4}let Ao=!1;function ip(e,t=!1){t&&Mr(t);const{props:n,children:s}=e.vnode,o=Ul(e);Dh(e,n,o,t),Kh(e,s);const r=o?ap(e,t):void 0;return t&&Mr(!1),r}function ap(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Eo(new Proxy(e.ctx,Uh));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?lp(e):null,r=Os(e);Mn();const i=_n(s,e,0,[e.props,o]);if(On(),r(),al(i)){if(i.then(Sa,Sa),t)return i.then(a=>{ka(e,a,t)}).catch(a=>{So(a,e,0)});e.asyncDep=i}else ka(e,i,t)}else Bl(e,t)}function ka(e,t,n){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=nl(t)),Bl(e,n)}let Ca;function Bl(e,t,n){const s=e.type;if(!e.render){if(!t&&Ca&&!s.render){const o=s.template||Ri(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Ze(Ze({isCustomElement:r,delimiters:a},i),c);s.render=Ca(o,l)}}e.render=s.render||gt}{const o=Os(e);Mn();try{Bh(e)}finally{On(),o()}}}function cp(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tt(e,"get","$attrs"),t[n]}}))}function lp(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return cp(e)},slots:e.slots,emit:e.emit,expose:t}}function To(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(nl(Eo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Es)return Es[n](e)},has(t,n){return n in t||n in Es}}))}function up(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function dp(e){return _e(e)&&"__vccOpts"in e}const ye=(e,t)=>Df(e,t,Ao);function Nl(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!be(t)?ao(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ao(n)&&(n=[n]),fe(e,t,n))}const fp="3.4.19";/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hp(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const pp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),gp=e=>e.startsWith("onUpdate:"),yp=Object.assign,Ci=Array.isArray,Ml=e=>typeof e=="function",lo=e=>typeof e=="string",Ol=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},vp=/\B([A-Z])/g,Fl=Ol(e=>e.replace(vp,"-$1").toLowerCase()),_p=Ol(e=>e.charAt(0).toUpperCase()+e.slice(1)),mp=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},$a=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bp=hp(wp);function Hl(e){return!!e||e===""}/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ep="http://www.w3.org/2000/svg",Rp="http://www.w3.org/1998/Math/MathML",fn=typeof document<"u"?document:null,Pa=fn&&fn.createElement("template"),xp={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?fn.createElementNS(Ep,e):t==="mathml"?fn.createElementNS(Rp,e):fn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>fn.createTextNode(e),createComment:e=>fn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Pa.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=Pa.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Sp=Symbol("_vtc");function kp(e,t,n){const s=e[Sp];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ia=Symbol("_vod"),Cp=Symbol(""),$p=/(^|;)\s*display\s*:/;function Pp(e,t,n){const s=e.style,o=lo(n),r=s.display;let i=!1;if(n&&!o){if(t&&!lo(t))for(const a in t)n[a]==null&&Or(s,a,"");for(const a in n)a==="display"&&(i=!0),Or(s,a,n[a])}else if(o){if(t!==n){const a=s[Cp];a&&(n+=";"+a),s.cssText=n,i=$p.test(n)}}else t&&e.removeAttribute("style");Ia in e&&(e[Ia]=i?s.display:"",s.display=r)}const Aa=/\s*!important$/;function Or(e,t,n){if(Ci(n))n.forEach(s=>Or(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Ip(e,t);Aa.test(n)?e.setProperty(Fl(s),n.replace(Aa,""),"important"):e[s]=n}}const Ta=["Webkit","Moz","ms"],lr={};function Ip(e,t){const n=lr[t];if(n)return n;let s=Ot(t);if(s!=="filter"&&s in e)return lr[t]=s;s=_p(s);for(let o=0;o<Ta.length;o++){const r=Ta[o]+s;if(r in e)return lr[t]=r}return t}const La="http://www.w3.org/1999/xlink";function Ap(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,n);else{const r=bp(t);n==null||r&&!Hl(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Tp(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const l=a==="OPTION"?e.getAttribute("value"):e.value,d=n??"";l!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Hl(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Dn(e,t,n,s){e.addEventListener(t,n,s)}function Lp(e,t,n,s){e.removeEventListener(t,n,s)}const Ua=Symbol("_vei");function Up(e,t,n,s,o=null){const r=e[Ua]||(e[Ua]={}),i=r[t];if(s&&i)i.value=s;else{const[a,c]=Bp(t);if(s){const l=r[t]=Op(s,o);Dn(e,a,l,c)}else i&&(Lp(e,a,i,c),r[t]=void 0)}}const Ba=/(?:Once|Passive|Capture)$/;function Bp(e){let t;if(Ba.test(e)){t={};let s;for(;s=e.match(Ba);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Fl(e.slice(2)),t]}let ur=0;const Np=Promise.resolve(),Mp=()=>ur||(Np.then(()=>ur=0),ur=Date.now());function Op(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Rt(Fp(s,n.value),t,5,[s])};return n.value=e,n.attached=Mp(),n}function Fp(e,t){if(Ci(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Na=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Hp=(e,t,n,s,o,r,i,a,c)=>{const l=o==="svg";t==="class"?kp(e,s,l):t==="style"?Pp(e,n,s):pp(t)?gp(t)||Up(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jp(e,t,s,l))?Tp(e,t,s,r,i,a,c):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Ap(e,t,s,l))};function jp(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Na(t)&&Ml(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Na(t)&&lo(n)?!1:t in e}const Ma=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ci(t)?n=>mp(t,n):t};function Vp(e){e.target.composing=!0}function Oa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const dr=Symbol("_assign"),Kt={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[dr]=Ma(o);const r=s||o.props&&o.props.type==="number";Dn(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=$a(a)),e[dr](a)}),n&&Dn(e,"change",()=>{e.value=e.value.trim()}),t||(Dn(e,"compositionstart",Vp),Dn(e,"compositionend",Oa),Dn(e,"change",Oa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[dr]=Ma(r),e.composing)return;const i=o||e.type==="number"?$a(e.value):e.value,a=t??"";i!==a&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===a)||(e.value=a))}},Dp=["ctrl","shift","alt","meta"],Wp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dp.some(n=>e[`${n}Key`]&&!t.includes(n))},Bn=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const a=Wp[t[i]];if(a&&a(o,t))return}return e(o,...r)})},qp=yp({patchProp:Hp},xp);let Fa;function Kp(){return Fa||(Fa=Gh(qp))}const zp=(...e)=>{const t=Kp().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Zp(s);if(!o)return;const r=t._component;!Ml(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,Gp(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Gp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zp(e){return lo(e)?document.querySelector(e):e}var Jp=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let jl;const Lo=e=>jl=e,Vl=Symbol();function Fr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xs||(xs={}));function Yp(){const e=Mc(!0),t=e.run(()=>L({}));let n=[],s=[];const o=Eo({install(r){Lo(o),o._a=r,r.provide(Vl,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!Jp?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Dl=()=>{};function Ha(e,t,n,s=Dl){e.push(t);const o=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),s())};return!n&&Oc()&&Ef(o),o}function jn(e,...t){e.slice().forEach(n=>{n(...t)})}const Qp=e=>e();function Hr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,s)=>e.set(s,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Fr(o)&&Fr(s)&&e.hasOwnProperty(n)&&!He(s)&&!vn(s)?e[n]=Hr(o,s):e[n]=s}return e}const Xp=Symbol();function eg(e){return!Fr(e)||!e.hasOwnProperty(Xp)}const{assign:ln}=Object;function tg(e){return!!(He(e)&&e.effect)}function ng(e,t,n,s){const{state:o,actions:r,getters:i}=t,a=n.state.value[e];let c;function l(){a||(n.state.value[e]=o?o():{});const d=zf(n.state.value[e]);return ln(d,r,Object.keys(i||{}).reduce((u,f)=>(u[f]=Eo(ye(()=>{Lo(n);const h=n._s.get(e);return i[f].call(h,h)})),u),{}))}return c=Wl(e,l,t,n,s,!0),c}function Wl(e,t,n={},s,o,r){let i;const a=ln({actions:{}},n),c={deep:!0};let l,d,u=[],f=[],h;const v=s.state.value[e];!r&&!v&&(s.state.value[e]={}),L({});let g;function m($){let T;l=d=!1,typeof $=="function"?($(s.state.value[e]),T={type:xs.patchFunction,storeId:e,events:h}):(Hr(s.state.value[e],$),T={type:xs.patchObject,payload:$,storeId:e,events:h});const I=g=Symbol();Qn().then(()=>{g===I&&(l=!0)}),d=!0,jn(u,T,s.state.value[e])}const w=r?function(){const{state:T}=n,I=T?T():{};this.$patch(V=>{ln(V,I)})}:Dl;function x(){i.stop(),u=[],f=[],s._s.delete(e)}function b($,T){return function(){Lo(s);const I=Array.from(arguments),V=[],z=[];function J(R){V.push(R)}function X(R){z.push(R)}jn(f,{args:I,name:$,store:P,after:J,onError:X});let H;try{H=T.apply(this&&this.$id===e?this:P,I)}catch(R){throw jn(z,R),R}return H instanceof Promise?H.then(R=>(jn(V,R),R)).catch(R=>(jn(z,R),Promise.reject(R))):(jn(V,H),H)}}const C={_p:s,$id:e,$onAction:Ha.bind(null,f),$patch:m,$reset:w,$subscribe($,T={}){const I=Ha(u,$,T.detached,()=>V()),V=i.run(()=>qe(()=>s.state.value[e],z=>{(T.flush==="sync"?d:l)&&$({storeId:e,type:xs.direct,events:h},z)},ln({},c,T)));return I},$dispose:x},P=as(C);s._s.set(e,P);const D=(s._a&&s._a.runWithContext||Qp)(()=>s._e.run(()=>(i=Mc()).run(t)));for(const $ in D){const T=D[$];if(He(T)&&!tg(T)||vn(T))r||(v&&eg(T)&&(He(T)?T.value=v[$]:Hr(T,v[$])),s.state.value[e][$]=T);else if(typeof T=="function"){const I=b($,T);D[$]=I,a.actions[$]=T}}return ln(P,D),ln(xe(P),D),Object.defineProperty(P,"$state",{get:()=>s.state.value[e],set:$=>{m(T=>{ln(T,$)})}}),s._p.forEach($=>{ln(P,i.run(()=>$({store:P,app:s._a,pinia:s,options:a})))}),v&&r&&n.hydrate&&n.hydrate(P.$state,v),l=!0,d=!0,P}function _t(e,t,n){let s,o;const r=typeof t=="function";typeof e=="string"?(s=e,o=r?n:t):(o=e,s=e.id);function i(a,c){const l=Vh();return a=a||(l?yt(Vl,null):null),a&&Lo(a),a=jl,a._s.has(s)||(r?Wl(s,t,o,a):ng(s,o,a)),a._s.get(s)}return i.$id=s,i}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Wn=typeof window<"u";function sg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const $e=Object.assign;function fr(e,t){const n={};for(const s in t){const o=t[s];n[s]=xt(o)?o.map(e):e(o)}return n}const Ss=()=>{},xt=Array.isArray,og=/\/$/,rg=e=>e.replace(og,"");function hr(e,t,n="/"){let s,o={},r="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,a>-1?a:t.length),o=e(r)),a>-1&&(s=s||t.slice(0,a),i=t.slice(a,t.length)),s=lg(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:i}}function ig(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ja(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ag(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&es(t.matched[s],n.matched[o])&&ql(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ql(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!cg(e[n],t[n]))return!1;return!0}function cg(e,t){return xt(e)?Va(e,t):xt(t)?Va(t,e):e===t}function Va(e,t){return xt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function lg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,a;for(i=0;i<s.length;i++)if(a=s[i],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var Ls;(function(e){e.pop="pop",e.push="push"})(Ls||(Ls={}));var ks;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ks||(ks={}));function ug(e){if(!e)if(Wn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rg(e)}const dg=/^[^#]+#/;function fg(e,t){return e.replace(dg,"#")+t}function hg(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Uo=()=>({left:window.pageXOffset,top:window.pageYOffset});function pg(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=hg(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Da(e,t){return(history.state?history.state.position-t:-1)+e}const jr=new Map;function gg(e,t){jr.set(e,t)}function yg(e){const t=jr.get(e);return jr.delete(e),t}let vg=()=>location.protocol+"//"+location.host;function Kl(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let a=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(a);return c[0]!=="/"&&(c="/"+c),ja(c,"")}return ja(n,e)+s+o}function _g(e,t,n,s){let o=[],r=[],i=null;const a=({state:f})=>{const h=Kl(e,location),v=n.value,g=t.value;let m=0;if(f){if(n.value=h,t.value=f,i&&i===v){i=null;return}m=g?f.position-g.position:0}else s(h);o.forEach(w=>{w(n.value,v,{delta:m,type:Ls.pop,direction:m?m>0?ks.forward:ks.back:ks.unknown})})};function c(){i=n.value}function l(f){o.push(f);const h=()=>{const v=o.indexOf(f);v>-1&&o.splice(v,1)};return r.push(h),h}function d(){const{history:f}=window;f.state&&f.replaceState($e({},f.state,{scroll:Uo()}),"")}function u(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:l,destroy:u}}function Wa(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Uo():null}}function mg(e){const{history:t,location:n}=window,s={value:Kl(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,l,d){const u=e.indexOf("#"),f=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:vg()+e+c;try{t[d?"replaceState":"pushState"](l,"",f),o.value=l}catch(h){console.error(h),n[d?"replace":"assign"](f)}}function i(c,l){const d=$e({},t.state,Wa(o.value.back,c,o.value.forward,!0),l,{position:o.value.position});r(c,d,!0),s.value=c}function a(c,l){const d=$e({},o.value,t.state,{forward:c,scroll:Uo()});r(d.current,d,!0);const u=$e({},Wa(s.value,c,null),{position:d.position+1},l);r(c,u,!1),s.value=c}return{location:s,state:o,push:a,replace:i}}function wg(e){e=ug(e);const t=mg(e),n=_g(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=$e({location:"",base:e,go:s,createHref:fg.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function bg(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),wg(e)}function Eg(e){return typeof e=="string"||e&&typeof e=="object"}function zl(e){return typeof e=="string"||typeof e=="symbol"}const en={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Gl=Symbol("");var qa;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qa||(qa={}));function ts(e,t){return $e(new Error,{type:e,[Gl]:!0},t)}function Ht(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const Ka="[^/]+?",Rg={sensitive:!1,strict:!1,start:!0,end:!0},xg=/[.+*?^${}()[\]/\\]/g;function Sg(e,t){const n=$e({},Rg,t),s=[];let o=n.start?"^":"";const r=[];for(const l of e){const d=l.length?[]:[90];n.strict&&!l.length&&(o+="/");for(let u=0;u<l.length;u++){const f=l[u];let h=40+(n.sensitive?.25:0);if(f.type===0)u||(o+="/"),o+=f.value.replace(xg,"\\$&"),h+=40;else if(f.type===1){const{value:v,repeatable:g,optional:m,regexp:w}=f;r.push({name:v,repeatable:g,optional:m});const x=w||Ka;if(x!==Ka){h+=10;try{new RegExp(`(${x})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${v}" (${x}): `+C.message)}}let b=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;u||(b=m&&l.length<2?`(?:/${b})`:"/"+b),m&&(b+="?"),o+=b,h+=20,m&&(h+=-8),g&&(h+=-20),x===".*"&&(h+=-50)}d.push(h)}s.push(d)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function a(l){const d=l.match(i),u={};if(!d)return null;for(let f=1;f<d.length;f++){const h=d[f]||"",v=r[f-1];u[v.name]=h&&v.repeatable?h.split("/"):h}return u}function c(l){let d="",u=!1;for(const f of e){(!u||!d.endsWith("/"))&&(d+="/"),u=!1;for(const h of f)if(h.type===0)d+=h.value;else if(h.type===1){const{value:v,repeatable:g,optional:m}=h,w=v in l?l[v]:"";if(xt(w)&&!g)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const x=xt(w)?w.join("/"):w;if(!x)if(m)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):u=!0);else throw new Error(`Missing required param "${v}"`);d+=x}}return d||"/"}return{re:i,score:s,keys:r,parse:a,stringify:c}}function kg(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Cg(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=kg(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(za(s))return 1;if(za(o))return-1}return o.length-s.length}function za(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const $g={type:0,value:""},Pg=/[a-zA-Z0-9_]/;function Ig(e){if(!e)return[[]];if(e==="/")return[[$g]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let a=0,c,l="",d="";function u(){l&&(n===0?r.push({type:0,value:l}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&u(),i()):c===":"?(u(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:Pg.test(c)?f():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),u(),i(),o}function Ag(e,t,n){const s=Sg(Ig(e.path),n),o=$e(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Tg(e,t){const n=[],s=new Map;t=Ja({strict:!1,end:!0,sensitive:!1},t);function o(d){return s.get(d)}function r(d,u,f){const h=!f,v=Lg(d);v.aliasOf=f&&f.record;const g=Ja(t,d),m=[v];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of b)m.push($e({},v,{components:f?f.record.components:v.components,path:C,aliasOf:f?f.record:v}))}let w,x;for(const b of m){const{path:C}=b;if(u&&C[0]!=="/"){const P=u.record.path,k=P[P.length-1]==="/"?"":"/";b.path=u.record.path+(C&&k+C)}if(w=Ag(b,u,g),f?f.alias.push(w):(x=x||w,x!==w&&x.alias.push(w),h&&d.name&&!Za(w)&&i(d.name)),v.children){const P=v.children;for(let k=0;k<P.length;k++)r(P[k],w,f&&f.children[k])}f=f||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&c(w)}return x?()=>{i(x)}:Ss}function i(d){if(zl(d)){const u=s.get(d);u&&(s.delete(d),n.splice(n.indexOf(u),1),u.children.forEach(i),u.alias.forEach(i))}else{const u=n.indexOf(d);u>-1&&(n.splice(u,1),d.record.name&&s.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function c(d){let u=0;for(;u<n.length&&Cg(d,n[u])>=0&&(d.record.path!==n[u].record.path||!Zl(d,n[u]));)u++;n.splice(u,0,d),d.record.name&&!Za(d)&&s.set(d.record.name,d)}function l(d,u){let f,h={},v,g;if("name"in d&&d.name){if(f=s.get(d.name),!f)throw ts(1,{location:d});g=f.record.name,h=$e(Ga(u.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),d.params&&Ga(d.params,f.keys.map(x=>x.name))),v=f.stringify(h)}else if("path"in d)v=d.path,f=n.find(x=>x.re.test(v)),f&&(h=f.parse(v),g=f.record.name);else{if(f=u.name?s.get(u.name):n.find(x=>x.re.test(u.path)),!f)throw ts(1,{location:d,currentLocation:u});g=f.record.name,h=$e({},u.params,d.params),v=f.stringify(h)}const m=[];let w=f;for(;w;)m.unshift(w.record),w=w.parent;return{name:g,path:v,params:h,matched:m,meta:Bg(m)}}return e.forEach(d=>r(d)),{addRoute:r,resolve:l,removeRoute:i,getRoutes:a,getRecordMatcher:o}}function Ga(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function Lg(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ug(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ug(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function Za(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Bg(e){return e.reduce((t,n)=>$e(t,n.meta),{})}function Ja(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Zl(e,t){return t.children.some(n=>n===e||Zl(e,n))}const Jl=/#/g,Ng=/&/g,Mg=/\//g,Og=/=/g,Fg=/\?/g,Yl=/\+/g,Hg=/%5B/g,jg=/%5D/g,Ql=/%5E/g,Vg=/%60/g,Xl=/%7B/g,Dg=/%7C/g,eu=/%7D/g,Wg=/%20/g;function $i(e){return encodeURI(""+e).replace(Dg,"|").replace(Hg,"[").replace(jg,"]")}function qg(e){return $i(e).replace(Xl,"{").replace(eu,"}").replace(Ql,"^")}function Vr(e){return $i(e).replace(Yl,"%2B").replace(Wg,"+").replace(Jl,"%23").replace(Ng,"%26").replace(Vg,"`").replace(Xl,"{").replace(eu,"}").replace(Ql,"^")}function Kg(e){return Vr(e).replace(Og,"%3D")}function zg(e){return $i(e).replace(Jl,"%23").replace(Fg,"%3F")}function Gg(e){return e==null?"":zg(e).replace(Mg,"%2F")}function uo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Zg(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Yl," "),i=r.indexOf("="),a=uo(i<0?r:r.slice(0,i)),c=i<0?null:uo(r.slice(i+1));if(a in t){let l=t[a];xt(l)||(l=t[a]=[l]),l.push(c)}else t[a]=c}return t}function Ya(e){let t="";for(let n in e){const s=e[n];if(n=Kg(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(xt(s)?s.map(r=>r&&Vr(r)):[s&&Vr(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Jg(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=xt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Yg=Symbol(""),Qa=Symbol(""),Bo=Symbol(""),Pi=Symbol(""),Dr=Symbol("");function ys(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function hn(e,t,n,s,o){const r=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((i,a)=>{const c=u=>{u===!1?a(ts(4,{from:n,to:t})):u instanceof Error?a(u):Eg(u)?a(ts(2,{from:t,to:u})):(r&&s.enterCallbacks[o]===r&&typeof u=="function"&&r.push(u),i())},l=e.call(s&&s.instances[o],t,n,c);let d=Promise.resolve(l);e.length<3&&(d=d.then(c)),d.catch(u=>a(u))})}function pr(e,t,n,s){const o=[];for(const r of e)for(const i in r.components){let a=r.components[i];if(!(t!=="beforeRouteEnter"&&!r.instances[i]))if(Qg(a)){const l=(a.__vccOpts||a)[t];l&&o.push(hn(l,n,s,r,i))}else{let c=a();o.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${r.path}"`));const d=sg(l)?l.default:l;r.components[i]=d;const f=(d.__vccOpts||d)[t];return f&&hn(f,n,s,r,i)()}))}}return o}function Qg(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Xa(e){const t=yt(Bo),n=yt(Pi),s=ye(()=>t.resolve(Z(e.to))),o=ye(()=>{const{matched:c}=s.value,{length:l}=c,d=c[l-1],u=n.matched;if(!d||!u.length)return-1;const f=u.findIndex(es.bind(null,d));if(f>-1)return f;const h=ec(c[l-2]);return l>1&&ec(d)===h&&u[u.length-1].path!==h?u.findIndex(es.bind(null,c[l-2])):f}),r=ye(()=>o.value>-1&&ny(n.params,s.value.params)),i=ye(()=>o.value>-1&&o.value===n.matched.length-1&&ql(n.params,s.value.params));function a(c={}){return ty(c)?t[Z(e.replace)?"replace":"push"](Z(e.to)).catch(Ss):Promise.resolve()}return{route:s,href:ye(()=>s.value.href),isActive:r,isExactActive:i,navigate:a}}const Xg=Se({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xa,setup(e,{slots:t}){const n=as(Xa(e)),{options:s}=yt(Bo),o=ye(()=>({[tc(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[tc(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Nl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),ey=Xg;function ty(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ny(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!xt(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function ec(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tc=(e,t,n)=>e??t??n,sy=Se({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=yt(Dr),o=ye(()=>e.route||s.value),r=yt(Qa,0),i=ye(()=>{let l=Z(r);const{matched:d}=o.value;let u;for(;(u=d[l])&&!u.components;)l++;return l}),a=ye(()=>o.value.matched[i.value]);Xs(Qa,ye(()=>i.value+1)),Xs(Yg,a),Xs(Dr,o);const c=L();return qe(()=>[c.value,a.value,e.name],([l,d,u],[f,h,v])=>{d&&(d.instances[u]=l,h&&h!==d&&l&&l===f&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),l&&d&&(!h||!es(d,h)||!f)&&(d.enterCallbacks[u]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=o.value,d=e.name,u=a.value,f=u&&u.components[d];if(!f)return nc(n.default,{Component:f,route:l});const h=u.props[d],v=h?h===!0?l.params:typeof h=="function"?h(l):h:null,m=Nl(f,$e({},v,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(u.instances[d]=null)},ref:c}));return nc(n.default,{Component:m,route:l})||m}}});function nc(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const oy=sy;function ry(e){const t=Tg(e.routes,e),n=e.parseQuery||Zg,s=e.stringifyQuery||Ya,o=e.history,r=ys(),i=ys(),a=ys(),c=Wf(en);let l=en;Wn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=fr.bind(null,j=>""+j),u=fr.bind(null,Gg),f=fr.bind(null,uo);function h(j,B){let N,ne;return zl(j)?(N=t.getRecordMatcher(j),ne=B):ne=j,t.addRoute(ne,N)}function v(j){const B=t.getRecordMatcher(j);B&&t.removeRoute(B)}function g(){return t.getRoutes().map(j=>j.record)}function m(j){return!!t.getRecordMatcher(j)}function w(j,B){if(B=$e({},B||c.value),typeof j=="string"){const y=hr(n,j,B.path),E=t.resolve({path:y.path},B),M=o.createHref(y.fullPath);return $e(y,E,{params:f(E.params),hash:uo(y.hash),redirectedFrom:void 0,href:M})}let N;if("path"in j)N=$e({},j,{path:hr(n,j.path,B.path).path});else{const y=$e({},j.params);for(const E in y)y[E]==null&&delete y[E];N=$e({},j,{params:u(y)}),B.params=u(B.params)}const ne=t.resolve(N,B),ue=j.hash||"";ne.params=d(f(ne.params));const he=ig(s,$e({},j,{hash:qg(ue),path:ne.path})),p=o.createHref(he);return $e({fullPath:he,hash:ue,query:s===Ya?Jg(j.query):j.query||{}},ne,{redirectedFrom:void 0,href:p})}function x(j){return typeof j=="string"?hr(n,j,c.value.path):$e({},j)}function b(j,B){if(l!==j)return ts(8,{from:B,to:j})}function C(j){return D(j)}function P(j){return C($e(x(j),{replace:!0}))}function k(j){const B=j.matched[j.matched.length-1];if(B&&B.redirect){const{redirect:N}=B;let ne=typeof N=="function"?N(j):N;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=x(ne):{path:ne},ne.params={}),$e({query:j.query,hash:j.hash,params:"path"in ne?{}:j.params},ne)}}function D(j,B){const N=l=w(j),ne=c.value,ue=j.state,he=j.force,p=j.replace===!0,y=k(N);if(y)return D($e(x(y),{state:typeof y=="object"?$e({},ue,y.state):ue,force:he,replace:p}),B||N);const E=N;E.redirectedFrom=B;let M;return!he&&ag(s,ne,N)&&(M=ts(16,{to:E,from:ne}),oe(ne,ne,!0,!1)),(M?Promise.resolve(M):I(E,ne)).catch(O=>Ht(O)?Ht(O,2)?O:ee(O):F(O,E,ne)).then(O=>{if(O){if(Ht(O,2))return D($e({replace:p},x(O.to),{state:typeof O.to=="object"?$e({},ue,O.to.state):ue,force:he}),B||E)}else O=z(E,ne,!0,p,ue);return V(E,ne,O),O})}function $(j,B){const N=b(j,B);return N?Promise.reject(N):Promise.resolve()}function T(j){const B=le.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(j):j()}function I(j,B){let N;const[ne,ue,he]=iy(j,B);N=pr(ne.reverse(),"beforeRouteLeave",j,B);for(const y of ne)y.leaveGuards.forEach(E=>{N.push(hn(E,j,B))});const p=$.bind(null,j,B);return N.push(p),ke(N).then(()=>{N=[];for(const y of r.list())N.push(hn(y,j,B));return N.push(p),ke(N)}).then(()=>{N=pr(ue,"beforeRouteUpdate",j,B);for(const y of ue)y.updateGuards.forEach(E=>{N.push(hn(E,j,B))});return N.push(p),ke(N)}).then(()=>{N=[];for(const y of he)if(y.beforeEnter)if(xt(y.beforeEnter))for(const E of y.beforeEnter)N.push(hn(E,j,B));else N.push(hn(y.beforeEnter,j,B));return N.push(p),ke(N)}).then(()=>(j.matched.forEach(y=>y.enterCallbacks={}),N=pr(he,"beforeRouteEnter",j,B),N.push(p),ke(N))).then(()=>{N=[];for(const y of i.list())N.push(hn(y,j,B));return N.push(p),ke(N)}).catch(y=>Ht(y,8)?y:Promise.reject(y))}function V(j,B,N){a.list().forEach(ne=>T(()=>ne(j,B,N)))}function z(j,B,N,ne,ue){const he=b(j,B);if(he)return he;const p=B===en,y=Wn?history.state:{};N&&(ne||p?o.replace(j.fullPath,$e({scroll:p&&y&&y.scroll},ue)):o.push(j.fullPath,ue)),c.value=j,oe(j,B,N,p),ee()}let J;function X(){J||(J=o.listen((j,B,N)=>{if(!Te.listening)return;const ne=w(j),ue=k(ne);if(ue){D($e(ue,{replace:!0}),ne).catch(Ss);return}l=ne;const he=c.value;Wn&&gg(Da(he.fullPath,N.delta),Uo()),I(ne,he).catch(p=>Ht(p,12)?p:Ht(p,2)?(D(p.to,ne).then(y=>{Ht(y,20)&&!N.delta&&N.type===Ls.pop&&o.go(-1,!1)}).catch(Ss),Promise.reject()):(N.delta&&o.go(-N.delta,!1),F(p,ne,he))).then(p=>{p=p||z(ne,he,!1),p&&(N.delta&&!Ht(p,8)?o.go(-N.delta,!1):N.type===Ls.pop&&Ht(p,20)&&o.go(-1,!1)),V(ne,he,p)}).catch(Ss)}))}let H=ys(),R=ys(),A;function F(j,B,N){ee(j);const ne=R.list();return ne.length?ne.forEach(ue=>ue(j,B,N)):console.error(j),Promise.reject(j)}function W(){return A&&c.value!==en?Promise.resolve():new Promise((j,B)=>{H.add([j,B])})}function ee(j){return A||(A=!j,X(),H.list().forEach(([B,N])=>j?N(j):B()),H.reset()),j}function oe(j,B,N,ne){const{scrollBehavior:ue}=e;if(!Wn||!ue)return Promise.resolve();const he=!N&&yg(Da(j.fullPath,0))||(ne||!N)&&history.state&&history.state.scroll||null;return Qn().then(()=>ue(j,B,he)).then(p=>p&&pg(p)).catch(p=>F(p,j,B))}const re=j=>o.go(j);let de;const le=new Set,Te={currentRoute:c,listening:!0,addRoute:h,removeRoute:v,hasRoute:m,getRoutes:g,resolve:w,options:e,push:C,replace:P,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:r.add,beforeResolve:i.add,afterEach:a.add,onError:R.add,isReady:W,install(j){const B=this;j.component("RouterLink",ey),j.component("RouterView",oy),j.config.globalProperties.$router=B,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Z(c)}),Wn&&!de&&c.value===en&&(de=!0,C(o.location).catch(ue=>{}));const N={};for(const ue in en)Object.defineProperty(N,ue,{get:()=>c.value[ue],enumerable:!0});j.provide(Bo,B),j.provide(Pi,Jc(N)),j.provide(Dr,c);const ne=j.unmount;le.add(j),j.unmount=function(){le.delete(j),le.size<1&&(l=en,J&&J(),J=null,c.value=en,de=!1,A=!1),ne()}}};function ke(j){return j.reduce((B,N)=>B.then(()=>T(N)),Promise.resolve())}return Te}function iy(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const a=t.matched[i];a&&(e.matched.find(l=>es(l,a))?s.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(l=>es(l,c))||o.push(c))}return[n,s,o]}function En(){return yt(Bo)}function No(){return yt(Pi)}function sc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function tu(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ay(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sc(e.outputLen),sc(e.blockLen)}function fo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function cy(e,t){tu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const gr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nu=e=>e instanceof Uint8Array,yr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Pt=(e,t)=>e<<32-t|e>>>t,ly=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ly)throw new Error("Non little-endian hardware is not supported");function uy(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ii(e){if(typeof e=="string"&&(e=uy(e)),!nu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function dy(...e){const t=new Uint8Array(e.reduce((s,o)=>s+o.length,0));let n=0;return e.forEach(s=>{if(!nu(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let su=class{clone(){return this._cloneInto()}};function fy(e){const t=s=>e().update(Ii(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ou(e=32){if(gr&&typeof gr.getRandomValues=="function")return gr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function hy(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const o=BigInt(32),r=BigInt(4294967295),i=Number(n>>o&r),a=Number(n&r),c=s?4:0,l=s?0:4;e.setUint32(t+c,i,s),e.setUint32(t+l,a,s)}let py=class extends su{constructor(t,n,s,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=yr(this.buffer)}update(t){fo(this);const{view:n,buffer:s,blockLen:o}=this;t=Ii(t);const r=t.length;for(let i=0;i<r;){const a=Math.min(o-this.pos,r-i);if(a===o){const c=yr(t);for(;o<=r-i;i+=o)this.process(c,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fo(this),cy(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:o,isLE:r}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(s,0),i=0);for(let u=i;u<o;u++)n[u]=0;hy(s,o-8,BigInt(this.length*8),r),this.process(s,0);const a=yr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,d[u],r)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:o,finished:r,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=r,t.destroyed=i,o%n&&t.buffer.set(s),t}};const gy=(e,t,n)=>e&t^~e&n,yy=(e,t,n)=>e&t^e&n^t&n,vy=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nn=new Uint32Array(64);let _y=class extends py{constructor(){super(64,32,8,!1),this.A=tn[0]|0,this.B=tn[1]|0,this.C=tn[2]|0,this.D=tn[3]|0,this.E=tn[4]|0,this.F=tn[5]|0,this.G=tn[6]|0,this.H=tn[7]|0}get(){const{A:t,B:n,C:s,D:o,E:r,F:i,G:a,H:c}=this;return[t,n,s,o,r,i,a,c]}set(t,n,s,o,r,i,a,c){this.A=t|0,this.B=n|0,this.C=s|0,this.D=o|0,this.E=r|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let u=0;u<16;u++,n+=4)nn[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const f=nn[u-15],h=nn[u-2],v=Pt(f,7)^Pt(f,18)^f>>>3,g=Pt(h,17)^Pt(h,19)^h>>>10;nn[u]=g+nn[u-7]+v+nn[u-16]|0}let{A:s,B:o,C:r,D:i,E:a,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){const f=Pt(a,6)^Pt(a,11)^Pt(a,25),h=d+f+gy(a,c,l)+vy[u]+nn[u]|0,g=(Pt(s,2)^Pt(s,13)^Pt(s,22))+yy(s,o,r)|0;d=l,l=c,c=a,a=i+h|0,i=r,r=o,o=s,s=h+g|0}s=s+this.A|0,o=o+this.B|0,r=r+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(s,o,r,i,a,c,l,d)}roundClean(){nn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Wr=fy(()=>new _y);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ru=BigInt(0),Mo=BigInt(1),my=BigInt(2),Oo=e=>e instanceof Uint8Array,wy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ns(e){if(!Oo(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=wy[e[n]];return t}function iu(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ai(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function ss(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const o=s*2,r=e.slice(o,o+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function et(e){return Ai(ns(e))}function Ti(e){if(!Oo(e))throw new Error("Uint8Array expected");return Ai(ns(Uint8Array.from(e).reverse()))}function bn(e,t){return ss(e.toString(16).padStart(t*2,"0"))}function Li(e,t){return bn(e,t).reverse()}function by(e){return ss(iu(e))}function Ke(e,t,n){let s;if(typeof t=="string")try{s=ss(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(Oo(t))s=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=s.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return s}function Nn(...e){const t=new Uint8Array(e.reduce((s,o)=>s+o.length,0));let n=0;return e.forEach(s=>{if(!Oo(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}function Ey(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ry(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function xy(e){let t;for(t=0;e>ru;e>>=Mo,t+=1);return t}function Sy(e,t){return e>>BigInt(t)&Mo}const ky=(e,t,n)=>e|(n?Mo:ru)<<BigInt(t),Ui=e=>(my<<BigInt(e-1))-Mo,vr=e=>new Uint8Array(e),oc=e=>Uint8Array.from(e);function au(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=vr(e),o=vr(e),r=0;const i=()=>{s.fill(1),o.fill(0),r=0},a=(...u)=>n(o,s,...u),c=(u=vr())=>{o=a(oc([0]),u),s=a(),u.length!==0&&(o=a(oc([1]),u),s=a())},l=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const f=[];for(;u<t;){s=a();const h=s.slice();f.push(h),u+=s.length}return Nn(...f)};return(u,f)=>{i(),c(u);let h;for(;!(h=f(l()));)c();return i(),h}}const Cy={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Fs(e,t,n={}){const s=(o,r,i)=>{const a=Cy[r];if(typeof a!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=e[o];if(!(i&&c===void 0)&&!a(c,e))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${r}`)};for(const[o,r]of Object.entries(t))s(o,r,!1);for(const[o,r]of Object.entries(n))s(o,r,!0);return e}const $y=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Sy,bitLen:xy,bitMask:Ui,bitSet:ky,bytesToHex:ns,bytesToNumberBE:et,bytesToNumberLE:Ti,concatBytes:Nn,createHmacDrbg:au,ensureBytes:Ke,equalBytes:Ey,hexToBytes:ss,hexToNumber:Ai,numberToBytesBE:bn,numberToBytesLE:Li,numberToHexUnpadded:iu,numberToVarBytesBE:by,utf8ToBytes:Ry,validateObject:Fs},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ve=BigInt(0),Be=BigInt(1),Pn=BigInt(2),Py=BigInt(3),qr=BigInt(4),rc=BigInt(5),ic=BigInt(8);BigInt(9);BigInt(16);function De(e,t){const n=e%t;return n>=Ve?n:t+n}function Iy(e,t,n){if(n<=Ve||t<Ve)throw new Error("Expected power/modulo > 0");if(n===Be)return Ve;let s=Be;for(;t>Ve;)t&Be&&(s=s*e%n),e=e*e%n,t>>=Be;return s}function ft(e,t,n){let s=e;for(;t-- >Ve;)s*=s,s%=n;return s}function Kr(e,t){if(e===Ve||t<=Ve)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=De(e,t),s=t,o=Ve,r=Be;for(;n!==Ve;){const a=s/n,c=s%n,l=o-r*a;s=n,n=c,o=r,r=l}if(s!==Be)throw new Error("invert: does not exist");return De(o,t)}function Ay(e){const t=(e-Be)/Pn;let n,s,o;for(n=e-Be,s=0;n%Pn===Ve;n/=Pn,s++);for(o=Pn;o<e&&Iy(o,t,e)!==e-Be;o++);if(s===1){const i=(e+Be)/qr;return function(c,l){const d=c.pow(l,i);if(!c.eql(c.sqr(d),l))throw new Error("Cannot find square root");return d}}const r=(n+Be)/Pn;return function(a,c){if(a.pow(c,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=s,d=a.pow(a.mul(a.ONE,o),n),u=a.pow(c,r),f=a.pow(c,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let h=1;for(let g=a.sqr(f);h<l&&!a.eql(g,a.ONE);h++)g=a.sqr(g);const v=a.pow(d,Be<<BigInt(l-h-1));d=a.sqr(v),u=a.mul(u,v),f=a.mul(f,d),l=h}return u}}function Ty(e){if(e%qr===Py){const t=(e+Be)/qr;return function(s,o){const r=s.pow(o,t);if(!s.eql(s.sqr(r),o))throw new Error("Cannot find square root");return r}}if(e%ic===rc){const t=(e-rc)/ic;return function(s,o){const r=s.mul(o,Pn),i=s.pow(r,t),a=s.mul(o,i),c=s.mul(s.mul(a,Pn),i),l=s.mul(a,s.sub(c,s.ONE));if(!s.eql(s.sqr(l),o))throw new Error("Cannot find square root");return l}}return Ay(e)}const Ly=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uy(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Ly.reduce((s,o)=>(s[o]="function",s),t);return Fs(e,n)}function By(e,t,n){if(n<Ve)throw new Error("Expected power > 0");if(n===Ve)return e.ONE;if(n===Be)return t;let s=e.ONE,o=t;for(;n>Ve;)n&Be&&(s=e.mul(s,o)),o=e.sqr(o),n>>=Be;return s}function Ny(e,t){const n=new Array(t.length),s=t.reduce((r,i,a)=>e.is0(i)?r:(n[a]=r,e.mul(r,i)),e.ONE),o=e.inv(s);return t.reduceRight((r,i,a)=>e.is0(i)?r:(n[a]=e.mul(r,n[a]),e.mul(r,i)),o),n}function cu(e,t){const n=t!==void 0?t:e.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function My(e,t,n=!1,s={}){if(e<=Ve)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:r}=cu(e,t);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Ty(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:r,MASK:Ui(o),ZERO:Ve,ONE:Be,create:c=>De(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ve<=c&&c<e},is0:c=>c===Ve,isOdd:c=>(c&Be)===Be,neg:c=>De(-c,e),eql:(c,l)=>c===l,sqr:c=>De(c*c,e),add:(c,l)=>De(c+l,e),sub:(c,l)=>De(c-l,e),mul:(c,l)=>De(c*l,e),pow:(c,l)=>By(a,c,l),div:(c,l)=>De(c*Kr(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Kr(c,e),sqrt:s.sqrt||(c=>i(a,c)),invertBatch:c=>Ny(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?Li(c,r):bn(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return n?Ti(c):et(c)}});return Object.freeze(a)}function lu(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function uu(e){const t=lu(e);return t+Math.ceil(t/2)}function Oy(e,t,n=!1){const s=e.length,o=lu(t),r=uu(t);if(s<16||s<r||s>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${s}`);const i=n?et(e):Ti(e),a=De(i,t-Be)+Be;return n?Li(a,o):bn(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fy=BigInt(0),_r=BigInt(1);function Hy(e,t){const n=(o,r)=>{const i=r.negate();return o?i:r},s=o=>{const r=Math.ceil(t/o)+1,i=2**(o-1);return{windows:r,windowSize:i}};return{constTimeNegate:n,unsafeLadder(o,r){let i=e.ZERO,a=o;for(;r>Fy;)r&_r&&(i=i.add(a)),a=a.double(),r>>=_r;return i},precomputeWindow(o,r){const{windows:i,windowSize:a}=s(r),c=[];let l=o,d=l;for(let u=0;u<i;u++){d=l,c.push(d);for(let f=1;f<a;f++)d=d.add(l),c.push(d);l=d.double()}return c},wNAF(o,r,i){const{windows:a,windowSize:c}=s(o);let l=e.ZERO,d=e.BASE;const u=BigInt(2**o-1),f=2**o,h=BigInt(o);for(let v=0;v<a;v++){const g=v*c;let m=Number(i&u);i>>=h,m>c&&(m-=f,i+=_r);const w=g,x=g+Math.abs(m)-1,b=v%2!==0,C=m<0;m===0?d=d.add(n(b,r[w])):l=l.add(n(C,r[x]))}return{p:l,f:d}},wNAFCached(o,r,i,a){const c=o._WINDOW_SIZE||1;let l=r.get(o);return l||(l=this.precomputeWindow(o,c),c!==1&&r.set(o,a(l))),this.wNAF(c,l,i)}}}function du(e){return Uy(e.Fp),Fs(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jy(e){const t=du(e);Fs(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a:o}=t;if(n){if(!s.eql(o,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Vy,hexToBytes:Dy}=$y,An={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=An;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],s=e.subarray(2,n+2);if(!n||s.length!==n)throw new t("Invalid signature integer: wrong length");if(s[0]&128)throw new t("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Vy(s),l:e.subarray(n+2)}},toSig(e){const{Err:t}=An,n=typeof e=="string"?Dy(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==s-2)throw new t("Invalid signature: incorrect length");const{d:o,l:r}=An._parseInt(n.subarray(2)),{d:i,l:a}=An._parseInt(r);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:i}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const d=l.toString(16);return d.length&1?`0${d}`:d},s=t(n(e.s)),o=t(n(e.r)),r=s.length/2,i=o.length/2,a=n(r),c=n(i);return`30${n(i+r+4)}02${c}${o}02${a}${s}`}},Vt=BigInt(0),pt=BigInt(1);BigInt(2);const ac=BigInt(3);BigInt(4);function Wy(e){const t=jy(e),{Fp:n}=t,s=t.toBytes||((v,g,m)=>{const w=g.toAffine();return Nn(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),o=t.fromBytes||(v=>{const g=v.subarray(1),m=n.fromBytes(g.subarray(0,n.BYTES)),w=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:m,y:w}});function r(v){const{a:g,b:m}=t,w=n.sqr(v),x=n.mul(w,v);return n.add(n.add(x,n.mul(v,g)),m)}if(!n.eql(n.sqr(t.Gy),r(t.Gx)))throw new Error("bad generator point: equation left != right");function i(v){return typeof v=="bigint"&&Vt<v&&v<t.n}function a(v){if(!i(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(v){const{allowedPrivateKeyLengths:g,nByteLength:m,wrapPrivateKey:w,n:x}=t;if(g&&typeof v!="bigint"){if(v instanceof Uint8Array&&(v=ns(v)),typeof v!="string"||!g.includes(v.length))throw new Error("Invalid key");v=v.padStart(m*2,"0")}let b;try{b=typeof v=="bigint"?v:et(Ke("private key",v,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof v}`)}return w&&(b=De(b,x)),a(b),b}const l=new Map;function d(v){if(!(v instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(g,m,w){if(this.px=g,this.py=m,this.pz=w,g==null||!n.isValid(g))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required")}static fromAffine(g){const{x:m,y:w}=g||{};if(!g||!n.isValid(m)||!n.isValid(w))throw new Error("invalid affine point");if(g instanceof u)throw new Error("projective point not allowed");const x=b=>n.eql(b,n.ZERO);return x(m)&&x(w)?u.ZERO:new u(m,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const m=n.invertBatch(g.map(w=>w.pz));return g.map((w,x)=>w.toAffine(m[x])).map(u.fromAffine)}static fromHex(g){const m=u.fromAffine(o(Ke("pointHex",g)));return m.assertValidity(),m}static fromPrivateKey(g){return u.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:m}=this.toAffine();if(!n.isValid(g)||!n.isValid(m))throw new Error("bad point: x or y not FE");const w=n.sqr(m),x=r(g);if(!n.eql(w,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){d(g);const{px:m,py:w,pz:x}=this,{px:b,py:C,pz:P}=g,k=n.eql(n.mul(m,P),n.mul(b,x)),D=n.eql(n.mul(w,P),n.mul(C,x));return k&&D}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:m}=t,w=n.mul(m,ac),{px:x,py:b,pz:C}=this;let P=n.ZERO,k=n.ZERO,D=n.ZERO,$=n.mul(x,x),T=n.mul(b,b),I=n.mul(C,C),V=n.mul(x,b);return V=n.add(V,V),D=n.mul(x,C),D=n.add(D,D),P=n.mul(g,D),k=n.mul(w,I),k=n.add(P,k),P=n.sub(T,k),k=n.add(T,k),k=n.mul(P,k),P=n.mul(V,P),D=n.mul(w,D),I=n.mul(g,I),V=n.sub($,I),V=n.mul(g,V),V=n.add(V,D),D=n.add($,$),$=n.add(D,$),$=n.add($,I),$=n.mul($,V),k=n.add(k,$),I=n.mul(b,C),I=n.add(I,I),$=n.mul(I,V),P=n.sub(P,$),D=n.mul(I,T),D=n.add(D,D),D=n.add(D,D),new u(P,k,D)}add(g){d(g);const{px:m,py:w,pz:x}=this,{px:b,py:C,pz:P}=g;let k=n.ZERO,D=n.ZERO,$=n.ZERO;const T=t.a,I=n.mul(t.b,ac);let V=n.mul(m,b),z=n.mul(w,C),J=n.mul(x,P),X=n.add(m,w),H=n.add(b,C);X=n.mul(X,H),H=n.add(V,z),X=n.sub(X,H),H=n.add(m,x);let R=n.add(b,P);return H=n.mul(H,R),R=n.add(V,J),H=n.sub(H,R),R=n.add(w,x),k=n.add(C,P),R=n.mul(R,k),k=n.add(z,J),R=n.sub(R,k),$=n.mul(T,H),k=n.mul(I,J),$=n.add(k,$),k=n.sub(z,$),$=n.add(z,$),D=n.mul(k,$),z=n.add(V,V),z=n.add(z,V),J=n.mul(T,J),H=n.mul(I,H),z=n.add(z,J),J=n.sub(V,J),J=n.mul(T,J),H=n.add(H,J),V=n.mul(z,H),D=n.add(D,V),V=n.mul(R,H),k=n.mul(X,k),k=n.sub(k,V),V=n.mul(X,z),$=n.mul(R,$),$=n.add($,V),new u(k,D,$)}subtract(g){return this.add(g.negate())}is0(){return this.equals(u.ZERO)}wNAF(g){return h.wNAFCached(this,l,g,m=>{const w=n.invertBatch(m.map(x=>x.pz));return m.map((x,b)=>x.toAffine(w[b])).map(u.fromAffine)})}multiplyUnsafe(g){const m=u.ZERO;if(g===Vt)return m;if(a(g),g===pt)return this;const{endo:w}=t;if(!w)return h.unsafeLadder(this,g);let{k1neg:x,k1:b,k2neg:C,k2:P}=w.splitScalar(g),k=m,D=m,$=this;for(;b>Vt||P>Vt;)b&pt&&(k=k.add($)),P&pt&&(D=D.add($)),$=$.double(),b>>=pt,P>>=pt;return x&&(k=k.negate()),C&&(D=D.negate()),D=new u(n.mul(D.px,w.beta),D.py,D.pz),k.add(D)}multiply(g){a(g);let m=g,w,x;const{endo:b}=t;if(b){const{k1neg:C,k1:P,k2neg:k,k2:D}=b.splitScalar(m);let{p:$,f:T}=this.wNAF(P),{p:I,f:V}=this.wNAF(D);$=h.constTimeNegate(C,$),I=h.constTimeNegate(k,I),I=new u(n.mul(I.px,b.beta),I.py,I.pz),w=$.add(I),x=T.add(V)}else{const{p:C,f:P}=this.wNAF(m);w=C,x=P}return u.normalizeZ([w,x])[0]}multiplyAndAddUnsafe(g,m,w){const x=u.BASE,b=(P,k)=>k===Vt||k===pt||!P.equals(x)?P.multiplyUnsafe(k):P.multiply(k),C=b(this,m).add(b(g,w));return C.is0()?void 0:C}toAffine(g){const{px:m,py:w,pz:x}=this,b=this.is0();g==null&&(g=b?n.ONE:n.inv(x));const C=n.mul(m,g),P=n.mul(w,g),k=n.mul(x,g);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:C,y:P}}isTorsionFree(){const{h:g,isTorsionFree:m}=t;if(g===pt)return!0;if(m)return m(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:m}=t;return g===pt?this:m?m(u,this):this.multiplyUnsafe(t.h)}toRawBytes(g=!0){return this.assertValidity(),s(u,this,g)}toHex(g=!0){return ns(this.toRawBytes(g))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,h=Hy(u,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:i}}function qy(e){const t=du(e);return Fs(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Ky(e){const t=qy(e),{Fp:n,n:s}=t,o=n.BYTES+1,r=2*n.BYTES+1;function i(H){return Vt<H&&H<n.ORDER}function a(H){return De(H,s)}function c(H){return Kr(H,s)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:f}=Wy({...t,toBytes(H,R,A){const F=R.toAffine(),W=n.toBytes(F.x),ee=Nn;return A?ee(Uint8Array.from([R.hasEvenY()?2:3]),W):ee(Uint8Array.from([4]),W,n.toBytes(F.y))},fromBytes(H){const R=H.length,A=H[0],F=H.subarray(1);if(R===o&&(A===2||A===3)){const W=et(F);if(!i(W))throw new Error("Point is not on curve");const ee=u(W);let oe=n.sqrt(ee);const re=(oe&pt)===pt;return(A&1)===1!==re&&(oe=n.neg(oe)),{x:W,y:oe}}else if(R===r&&A===4){const W=n.fromBytes(F.subarray(0,n.BYTES)),ee=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:W,y:ee}}else throw new Error(`Point of length ${R} was invalid. Expected ${o} compressed bytes or ${r} uncompressed bytes`)}}),h=H=>ns(bn(H,t.nByteLength));function v(H){const R=s>>pt;return H>R}function g(H){return v(H)?a(-H):H}const m=(H,R,A)=>et(H.slice(R,A));class w{constructor(R,A,F){this.r=R,this.s=A,this.recovery=F,this.assertValidity()}static fromCompact(R){const A=t.nByteLength;return R=Ke("compactSignature",R,A*2),new w(m(R,0,A),m(R,A,2*A))}static fromDER(R){const{r:A,s:F}=An.toSig(Ke("DER",R));return new w(A,F)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new w(this.r,this.s,R)}recoverPublicKey(R){const{r:A,s:F,recovery:W}=this,ee=D(Ke("msgHash",R));if(W==null||![0,1,2,3].includes(W))throw new Error("recovery id invalid");const oe=W===2||W===3?A+t.n:A;if(oe>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const re=W&1?"03":"02",de=l.fromHex(re+h(oe)),le=c(oe),Te=a(-ee*le),ke=a(F*le),j=l.BASE.multiplyAndAddUnsafe(de,Te,ke);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ss(this.toDERHex())}toDERHex(){return An.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ss(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const x={isValidPrivateKey(H){try{return d(H),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const H=uu(t.n);return Oy(t.randomBytes(H),t.n)},precompute(H=8,R=l.BASE){return R._setWindowSize(H),R.multiply(BigInt(3)),R}};function b(H,R=!0){return l.fromPrivateKey(H).toRawBytes(R)}function C(H){const R=H instanceof Uint8Array,A=typeof H=="string",F=(R||A)&&H.length;return R?F===o||F===r:A?F===2*o||F===2*r:H instanceof l}function P(H,R,A=!0){if(C(H))throw new Error("first arg must be private key");if(!C(R))throw new Error("second arg must be public key");return l.fromHex(R).multiply(d(H)).toRawBytes(A)}const k=t.bits2int||function(H){const R=et(H),A=H.length*8-t.nBitLength;return A>0?R>>BigInt(A):R},D=t.bits2int_modN||function(H){return a(k(H))},$=Ui(t.nBitLength);function T(H){if(typeof H!="bigint")throw new Error("bigint expected");if(!(Vt<=H&&H<$))throw new Error(`bigint expected < 2^${t.nBitLength}`);return bn(H,t.nByteLength)}function I(H,R,A=V){if(["recovered","canonical"].some(N=>N in A))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:W}=t;let{lowS:ee,prehash:oe,extraEntropy:re}=A;ee==null&&(ee=!0),H=Ke("msgHash",H),oe&&(H=Ke("prehashed msgHash",F(H)));const de=D(H),le=d(R),Te=[T(le),T(de)];if(re!=null){const N=re===!0?W(n.BYTES):re;Te.push(Ke("extraEntropy",N))}const ke=Nn(...Te),j=de;function B(N){const ne=k(N);if(!f(ne))return;const ue=c(ne),he=l.BASE.multiply(ne).toAffine(),p=a(he.x);if(p===Vt)return;const y=a(ue*a(j+p*le));if(y===Vt)return;let E=(he.x===p?0:2)|Number(he.y&pt),M=y;return ee&&v(y)&&(M=g(y),E^=1),new w(p,M,E)}return{seed:ke,k2sig:B}}const V={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function J(H,R,A=V){const{seed:F,k2sig:W}=I(H,R,A),ee=t;return au(ee.hash.outputLen,ee.nByteLength,ee.hmac)(F,W)}l.BASE._setWindowSize(8);function X(H,R,A,F=z){var he;const W=H;if(R=Ke("msgHash",R),A=Ke("publicKey",A),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:ee,prehash:oe}=F;let re,de;try{if(typeof W=="string"||W instanceof Uint8Array)try{re=w.fromDER(W)}catch(p){if(!(p instanceof An.Err))throw p;re=w.fromCompact(W)}else if(typeof W=="object"&&typeof W.r=="bigint"&&typeof W.s=="bigint"){const{r:p,s:y}=W;re=new w(p,y)}else throw new Error("PARSE");de=l.fromHex(A)}catch(p){if(p.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ee&&re.hasHighS())return!1;oe&&(R=t.hash(R));const{r:le,s:Te}=re,ke=D(R),j=c(Te),B=a(ke*j),N=a(le*j),ne=(he=l.BASE.multiplyAndAddUnsafe(de,B,N))==null?void 0:he.toAffine();return ne?a(ne.x)===le:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:P,sign:J,verify:X,ProjectivePoint:l,Signature:w,utils:x}}let fu=class extends su{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ay(t);const s=Ii(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,r=new Uint8Array(o);r.set(s.length>o?t.create().update(s).digest():s);for(let i=0;i<r.length;i++)r[i]^=54;this.iHash.update(r),this.oHash=t.create();for(let i=0;i<r.length;i++)r[i]^=106;this.oHash.update(r),r.fill(0)}update(t){return fo(this),this.iHash.update(t),this}digestInto(t){fo(this),tu(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:o,destroyed:r,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=r,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hu=(e,t,n)=>new fu(e,t).update(n).digest();hu.create=(e,t)=>new fu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zy(e){return{hash:e,hmac:(t,...n)=>hu(e,t,dy(...n)),randomBytes:ou}}function Gy(e,t){const n=s=>Ky({...e,...zy(s)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fo=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ho=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pu=BigInt(1),po=BigInt(2),cc=(e,t)=>(e+t/po)/t;function gu(e){const t=Fo,n=BigInt(3),s=BigInt(6),o=BigInt(11),r=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=ft(d,n,t)*d%t,f=ft(u,n,t)*d%t,h=ft(f,po,t)*l%t,v=ft(h,o,t)*h%t,g=ft(v,r,t)*v%t,m=ft(g,a,t)*g%t,w=ft(m,c,t)*m%t,x=ft(w,a,t)*g%t,b=ft(x,n,t)*d%t,C=ft(b,i,t)*v%t,P=ft(C,s,t)*l%t,k=ft(P,po,t);if(!zr.eql(zr.sqr(k),e))throw new Error("Cannot find square root");return k}const zr=My(Fo,void 0,void 0,{sqrt:gu}),cs=Gy({a:BigInt(0),b:BigInt(7),Fp:zr,n:ho,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ho,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-pu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,i=BigInt("0x100000000000000000000000000000000"),a=cc(r*e,t),c=cc(-s*e,t);let l=De(e-a*n-c*o,t),d=De(-a*s-c*r,t);const u=l>i,f=d>i;if(u&&(l=t-l),f&&(d=t-d),l>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:l,k2neg:f,k2:d}}}},Wr),Ho=BigInt(0),yu=e=>typeof e=="bigint"&&Ho<e&&e<Fo,Zy=e=>typeof e=="bigint"&&Ho<e&&e<ho,lc={};function go(e,...t){let n=lc[e];if(n===void 0){const s=Wr(Uint8Array.from(e,o=>o.charCodeAt(0)));n=Nn(s,s),lc[e]=n}return Wr(Nn(n,...t))}const Bi=e=>e.toRawBytes(!0).slice(1),Gr=e=>bn(e,32),mr=e=>De(e,Fo),Us=e=>De(e,ho),Ni=cs.ProjectivePoint,Jy=(e,t,n)=>Ni.BASE.multiplyAndAddUnsafe(e,t,n);function Zr(e){let t=cs.utils.normPrivateKeyToScalar(e),n=Ni.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Us(-t),bytes:Bi(n)}}function vu(e){if(!yu(e))throw new Error("bad x: need 0 < x < p");const t=mr(e*e),n=mr(t*e+BigInt(7));let s=gu(n);s%po!==Ho&&(s=mr(-s));const o=new Ni(e,s,pu);return o.assertValidity(),o}function _u(...e){return Us(et(go("BIP0340/challenge",...e)))}function Yy(e){return Zr(e).bytes}function Qy(e,t,n=ou(32)){const s=Ke("message",e),{bytes:o,scalar:r}=Zr(t),i=Ke("auxRand",n,32),a=Gr(r^et(go("BIP0340/aux",i))),c=go("BIP0340/nonce",a,o,s),l=Us(et(c));if(l===Ho)throw new Error("sign failed: k is zero");const{bytes:d,scalar:u}=Zr(l),f=_u(d,o,s),h=new Uint8Array(64);if(h.set(d,0),h.set(Gr(Us(u+f*r)),32),!mu(h,s,o))throw new Error("sign: Invalid signature produced");return h}function mu(e,t,n){const s=Ke("signature",e,64),o=Ke("message",t),r=Ke("publicKey",n,32);try{const i=vu(et(r)),a=et(s.subarray(0,32));if(!yu(a))return!1;const c=et(s.subarray(32,64));if(!Zy(c))return!1;const l=_u(Gr(a),Bi(i),o),d=Jy(i,c,Us(-l));return!(!d||!d.hasEvenY()||d.toAffine().x!==a)}catch{return!1}}const vs=(()=>({getPublicKey:Yy,sign:Qy,verify:mu,utils:{randomPrivateKey:cs.utils.randomPrivateKey,lift_x:vu,pointToBytes:Bi,numberToBytesBE:bn,bytesToNumberBE:et,taggedHash:go,mod:De}}))(),wr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mi=e=>e instanceof Uint8Array,br=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),It=(e,t)=>e<<32-t|e>>>t,Xy=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xy)throw new Error("Non little-endian hardware is not supported");const ev=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xe(e){if(!Mi(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ev[e[n]];return t}function os(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let s=0;s<n.length;s++){const o=s*2,r=e.slice(o,o+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function tv(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Bs(e){if(typeof e=="string"&&(e=tv(e)),!Mi(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function jo(...e){const t=new Uint8Array(e.reduce((s,o)=>s+o.length,0));let n=0;return e.forEach(s=>{if(!Mi(s))throw new Error("Uint8Array expected");t.set(s,n),n+=s.length}),t}let wu=class{clone(){return this._cloneInto()}};function bu(e){const t=s=>e().update(Bs(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Eu(e=32){if(wr&&typeof wr.getRandomValues=="function")return wr.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function Jr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function nv(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Ru(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function sv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Jr(e.outputLen),Jr(e.blockLen)}function ov(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function rv(e,t){Ru(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Bt={number:Jr,bool:nv,bytes:Ru,hash:sv,exists:ov,output:rv};function iv(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const o=BigInt(32),r=BigInt(4294967295),i=Number(n>>o&r),a=Number(n&r),c=s?4:0,l=s?0:4;e.setUint32(t+c,i,s),e.setUint32(t+l,a,s)}class av extends wu{constructor(t,n,s,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=br(this.buffer)}update(t){Bt.exists(this);const{view:n,buffer:s,blockLen:o}=this;t=Bs(t);const r=t.length;for(let i=0;i<r;){const a=Math.min(o-this.pos,r-i);if(a===o){const c=br(t);for(;o<=r-i;i+=o)this.process(c,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Bt.exists(this),Bt.output(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:o,isLE:r}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(s,0),i=0);for(let u=i;u<o;u++)n[u]=0;iv(s,o-8,BigInt(this.length*8),r),this.process(s,0);const a=br(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,d[u],r)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:o,finished:r,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=r,t.destroyed=i,o%n&&t.buffer.set(s),t}}const cv=(e,t,n)=>e&t^~e&n,lv=(e,t,n)=>e&t^e&n^t&n,uv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),on=new Uint32Array(64);let xu=class extends av{constructor(){super(64,32,8,!1),this.A=sn[0]|0,this.B=sn[1]|0,this.C=sn[2]|0,this.D=sn[3]|0,this.E=sn[4]|0,this.F=sn[5]|0,this.G=sn[6]|0,this.H=sn[7]|0}get(){const{A:t,B:n,C:s,D:o,E:r,F:i,G:a,H:c}=this;return[t,n,s,o,r,i,a,c]}set(t,n,s,o,r,i,a,c){this.A=t|0,this.B=n|0,this.C=s|0,this.D=o|0,this.E=r|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let u=0;u<16;u++,n+=4)on[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const f=on[u-15],h=on[u-2],v=It(f,7)^It(f,18)^f>>>3,g=It(h,17)^It(h,19)^h>>>10;on[u]=g+on[u-7]+v+on[u-16]|0}let{A:s,B:o,C:r,D:i,E:a,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){const f=It(a,6)^It(a,11)^It(a,25),h=d+f+cv(a,c,l)+uv[u]+on[u]|0,g=(It(s,2)^It(s,13)^It(s,22))+lv(s,o,r)|0;d=l,l=c,c=a,a=i+h|0,i=r,r=o,o=s,s=h+g|0}s=s+this.A|0,o=o+this.B|0,r=r+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(s,o,r,i,a,c,l,d)}roundClean(){on.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class dv extends xu{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Hs=bu(()=>new xu);bu(()=>new dv);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ls(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Jt(...e){const t=(o,r)=>i=>o(r(i)),n=Array.from(e).reverse().reduce((o,r)=>o?t(o,r.encode):r.encode,void 0),s=e.reduce((o,r)=>o?t(o,r.decode):r.decode,void 0);return{encode:n,decode:s}}function Yt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(ls(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const s=e.indexOf(n);if(s===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return s})}}}function Qt(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Vo(e,t="="){if(ls(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let s=n.length;if(s*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&n[s-1]===t;s--)if(!((s-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,s)}}}function Su(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function uc(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const o=[],r=Array.from(e);for(r.forEach(i=>{if(ls(i),i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,a=!0;for(let c=s;c<r.length;c++){const l=r[c],d=t*i+l;if(!Number.isSafeInteger(d)||t*i/t!==i||d-l!==t*i)throw new Error("convertRadix: carry overflow");if(i=d%n,r[c]=Math.floor(d/n),!Number.isSafeInteger(r[c])||r[c]*n+i!==d)throw new Error("convertRadix: carry overflow");if(a)r[c]?a=!1:s=c;else continue}if(o.push(i),a)break}for(let i=0;i<e.length-1&&e[i]===0;i++)o.push(0);return o.reverse()}const ku=(e,t)=>t?ku(t,e%t):e,yo=(e,t)=>e+(t-ku(e,t));function Yr(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(yo(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${yo(t,n)}`);let o=0,r=0;const i=2**n-1,a=[];for(const c of e){if(ls(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(o=o<<t|c,r+t>32)throw new Error(`convertRadix2: carry overflow pos=${r} from=${t}`);for(r+=t;r>=n;r-=n)a.push((o>>r-n&i)>>>0);o&=2**r-1}if(o=o<<n-r&i,!s&&r>=t)throw new Error("Excess padding");if(!s&&o)throw new Error(`Non-zero padding: ${o}`);return s&&r>0&&a.push(o>>>0),a}function fv(e){return ls(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return uc(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(uc(t,e,2**8))}}}function Rn(e,t=!1){if(ls(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(yo(8,e)>32||yo(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Yr(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Yr(n,e,8,t))}}}function dc(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const hv=Jt(Rn(4),Yt("0123456789ABCDEF"),Qt("")),pv=Jt(Rn(5),Yt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Vo(5),Qt(""));Jt(Rn(5),Yt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Vo(5),Qt(""));Jt(Rn(5),Yt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Qt(""),Su(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const zt=Jt(Rn(6),Yt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Vo(6),Qt("")),gv=Jt(Rn(6),Yt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Vo(6),Qt("")),Oi=e=>Jt(fv(58),Yt(e),Qt("")),Qr=Oi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Oi("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Oi("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const fc=[0,2,3,5,6,7,9,10,11],yv={encode(e){let t="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);t+=Qr.encode(s).padStart(fc[s.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),o=fc.indexOf(s.length),r=Qr.decode(s);for(let i=0;i<r.length-o;i++)if(r[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(r.slice(r.length-o)))}return Uint8Array.from(t)}},Xr=Jt(Yt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Qt("")),hc=[996825010,642813549,513874426,1027748829,705979059];function _s(e){const t=e>>25;let n=(e&33554431)<<5;for(let s=0;s<hc.length;s++)(t>>s&1)===1&&(n^=hc[s]);return n}function pc(e,t,n=1){const s=e.length;let o=1;for(let r=0;r<s;r++){const i=e.charCodeAt(r);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);o=_s(o)^i>>5}o=_s(o);for(let r=0;r<s;r++)o=_s(o)^e.charCodeAt(r)&31;for(let r of t)o=_s(o)^r;for(let r=0;r<6;r++)o=_s(o);return o^=n,Xr.encode(Yr([o%2**30],30,5,!1))}function Cu(e){const t=e==="bech32"?1:734539939,n=Rn(5),s=n.decode,o=n.encode,r=dc(s);function i(d,u,f=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(u)||u.length&&typeof u[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof u}`);const h=d.length+7+u.length;if(f!==!1&&h>f)throw new TypeError(`Length ${h} exceeds limit ${f}`);return d=d.toLowerCase(),`${d}1${Xr.encode(u)}${pc(d,u,t)}`}function a(d,u=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||u!==!1&&d.length>u)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${u})`);const f=d.toLowerCase();if(d!==f&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");d=f;const h=d.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const v=d.slice(0,h),g=d.slice(h+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const m=Xr.decode(g).slice(0,-6),w=pc(v,m,t);if(!g.endsWith(w))throw new Error(`Invalid checksum in ${d}: expected "${w}"`);return{prefix:v,words:m}}const c=dc(a);function l(d){const{prefix:u,words:f}=a(d,!1);return{prefix:u,words:f,bytes:s(f)}}return{encode:i,decode:a,decodeToBytes:l,decodeUnsafe:c,fromWords:s,fromWordsUnsafe:r,toWords:o}}const rs=Cu("bech32");Cu("bech32m");const vv={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},_v=Jt(Rn(4),Yt("0123456789abcdef"),Qt(""),Su(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),mv={utf8:vv,hex:_v,base16:hv,base32:pv,base64:zt,base64url:gv,base58:Qr,base58xmr:yv};`${Object.keys(mv).join(", ")}`;function Er(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function gc(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function wv(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Dt(e,...t){if(!wv(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Ge=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),bv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!bv)throw new Error("Non little-endian hardware is not supported");function Ev(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function Rv(e,t){if(e.length!==t.length)return!1;let n=0;for(let s=0;s<e.length;s++)n|=e[s]^t[s];return n===0}const xv=(e,t)=>(Object.assign(t,e),t),mn=16,Sv=283;function Fi(e){return e<<1^Sv&-(e>>7)}function qn(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=Fi(e);return n}const ei=(()=>{let e=new Uint8Array(256);for(let n=0,s=1;n<256;n++,s^=Fi(s))e[n]=s;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let s=e[255-n];s|=s<<8,t[e[n]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return t})(),kv=ei.map((e,t)=>ei.indexOf(t)),Cv=e=>e<<24|e>>>8,Rr=e=>e<<8|e>>>24;function $u(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((l,d)=>t(e[d])),s=n.map(Rr),o=s.map(Rr),r=o.map(Rr),i=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let l=0;l<256;l++)for(let d=0;d<256;d++){const u=l*256+d;i[u]=n[l]^s[d],a[u]=o[l]^r[d],c[u]=e[l]<<8|e[d]}return{sbox:e,sbox2:c,T0:n,T1:s,T2:o,T3:r,T01:i,T23:a}}const Hi=$u(ei,e=>qn(e,3)<<24|e<<16|e<<8|qn(e,2)),Pu=$u(kv,e=>qn(e,11)<<24|qn(e,13)<<16|qn(e,9)<<8|qn(e,14)),$v=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=Fi(n))e[t]=n;return e})();function Iu(e){Dt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=Hi,s=Ge(e),o=s.length,r=a=>Nt(n,a,a,a,a),i=new Uint32Array(t+28);i.set(s);for(let a=o;a<i.length;a++){let c=i[a-1];a%o===0?c=r(Cv(c))^$v[a/o-1]:o>6&&a%o===4&&(c=r(c)),i[a]=i[a-o]^c}return i}function Pv(e){const t=Iu(e),n=t.slice(),s=t.length,{sbox2:o}=Hi,{T0:r,T1:i,T2:a,T3:c}=Pu;for(let l=0;l<s;l+=4)for(let d=0;d<4;d++)n[l+d]=t[s-l-4+d];t.fill(0);for(let l=4;l<s-4;l++){const d=n[l],u=Nt(o,d,d,d,d);n[l]=r[u&255]^i[u>>>8&255]^a[u>>>16&255]^c[u>>>24]}return n}function pn(e,t,n,s,o,r){return e[n<<8&65280|s>>>8&255]^t[o>>>8&65280|r>>>24&255]}function Nt(e,t,n,s,o){return e[t&255|n&65280]|e[s>>>16&255|o>>>16&65280]<<16}function yc(e,t,n,s,o){const{sbox2:r,T01:i,T23:a}=Hi;let c=0;t^=e[c++],n^=e[c++],s^=e[c++],o^=e[c++];const l=e.length/4-2;for(let v=0;v<l;v++){const g=e[c++]^pn(i,a,t,n,s,o),m=e[c++]^pn(i,a,n,s,o,t),w=e[c++]^pn(i,a,s,o,t,n),x=e[c++]^pn(i,a,o,t,n,s);t=g,n=m,s=w,o=x}const d=e[c++]^Nt(r,t,n,s,o),u=e[c++]^Nt(r,n,s,o,t),f=e[c++]^Nt(r,s,o,t,n),h=e[c++]^Nt(r,o,t,n,s);return{s0:d,s1:u,s2:f,s3:h}}function Iv(e,t,n,s,o){const{sbox2:r,T01:i,T23:a}=Pu;let c=0;t^=e[c++],n^=e[c++],s^=e[c++],o^=e[c++];const l=e.length/4-2;for(let v=0;v<l;v++){const g=e[c++]^pn(i,a,t,o,s,n),m=e[c++]^pn(i,a,n,t,o,s),w=e[c++]^pn(i,a,s,n,t,o),x=e[c++]^pn(i,a,o,s,n,t);t=g,n=m,s=w,o=x}const d=e[c++]^Nt(r,t,o,s,n),u=e[c++]^Nt(r,n,t,o,s),f=e[c++]^Nt(r,s,n,t,o),h=e[c++]^Nt(r,o,s,n,t);return{s0:d,s1:u,s2:f,s3:h}}function Au(e,t){if(!t)return new Uint8Array(e);if(Dt(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function Av(e){if(Dt(e),e.length%mn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${mn}`)}function Tv(e,t,n){let s=e.length;const o=s%mn;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const r=Ge(e);if(t){let c=mn-o;c||(c=mn),s=s+c}const i=Au(s,n),a=Ge(i);return{b:r,o:a,out:i}}function Lv(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=e[n-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const o=e.subarray(0,-s);for(let r=0;r<s;r++)if(e[n-r-1]!==s)throw new Error("aes/pcks5: wrong padding");return o}function Uv(e){const t=new Uint8Array(16),n=Ge(t);t.set(e);const s=mn-e.length;for(let o=mn-s;o<mn;o++)t[o]=s;return n}const Tu=xv({blockSize:16,nonceLength:16},function(t,n,s={}){Dt(t),Dt(n,16);const o=!s.disablePadding;return{encrypt:(r,i)=>{const a=Iu(t),{b:c,o:l,out:d}=Tv(r,o,i),u=Ge(n);let f=u[0],h=u[1],v=u[2],g=u[3],m=0;for(;m+4<=c.length;)f^=c[m+0],h^=c[m+1],v^=c[m+2],g^=c[m+3],{s0:f,s1:h,s2:v,s3:g}=yc(a,f,h,v,g),l[m++]=f,l[m++]=h,l[m++]=v,l[m++]=g;if(o){const w=Uv(r.subarray(m*4));f^=w[0],h^=w[1],v^=w[2],g^=w[3],{s0:f,s1:h,s2:v,s3:g}=yc(a,f,h,v,g),l[m++]=f,l[m++]=h,l[m++]=v,l[m++]=g}return a.fill(0),d},decrypt:(r,i)=>{Av(r);const a=Pv(t),c=Ge(n),l=Au(r.length,i),d=Ge(r),u=Ge(l);let f=c[0],h=c[1],v=c[2],g=c[3];for(let m=0;m+4<=d.length;){const w=f,x=h,b=v,C=g;f=d[m+0],h=d[m+1],v=d[m+2],g=d[m+3];const{s0:P,s1:k,s2:D,s3:$}=Iv(a,f,h,v,g);u[m++]=P^w,u[m++]=k^x,u[m++]=D^b,u[m++]=$^C}return a.fill(0),Lv(l,o)}}}),Lu=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Bv=Lu("expand 16-byte k"),Nv=Lu("expand 32-byte k"),Mv=Ge(Bv),Uu=Ge(Nv);Uu.slice();function Ce(e,t){return e<<t|e>>>32-t}function ti(e){return e.byteOffset%4===0}const Zs=64,Ov=16,Bu=2**32-1,vc=new Uint32Array;function Fv(e,t,n,s,o,r,i,a){const c=o.length,l=new Uint8Array(Zs),d=Ge(l),u=ti(o)&&ti(r),f=u?Ge(o):vc,h=u?Ge(r):vc;for(let v=0;v<c;i++){if(e(t,n,s,d,i,a),i>=Bu)throw new Error("arx: counter overflow");const g=Math.min(Zs,c-v);if(u&&g===Zs){const m=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let w=0,x;w<Ov;w++)x=m+w,h[x]=f[x]^d[w];v+=Zs;continue}for(let m=0,w;m<g;m++)w=v+m,r[w]=o[w]^l[m];v+=g}}function Hv(e,t){const{allowShortKeys:n,extendNonceFn:s,counterLength:o,counterRight:r,rounds:i}=Ev({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Er(o),Er(i),gc(r),gc(n),(a,c,l,d,u=0)=>{Dt(a),Dt(c),Dt(l);const f=l.length;if(d||(d=new Uint8Array(f)),Dt(d),Er(u),u<0||u>=Bu)throw new Error("arx: counter overflow");if(d.length<f)throw new Error(`arx: output (${d.length}) is shorter than data (${f})`);const h=[];let v=a.length,g,m;if(v===32)g=a.slice(),h.push(g),m=Uu;else if(v===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),m=Mv,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);ti(c)||(c=c.slice(),h.push(c));const w=Ge(g);if(s){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(m,w,Ge(c.subarray(0,16)),w),c=c.subarray(16)}const x=16-o;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const C=new Uint8Array(12);C.set(c,r?0:12-c.length),c=C,h.push(c)}const b=Ge(c);for(Fv(e,m,w,b,l,d,u,i);h.length>0;)h.pop().fill(0);return d}}function jv(e,t,n,s,o,r=20){let i=e[0],a=e[1],c=e[2],l=e[3],d=t[0],u=t[1],f=t[2],h=t[3],v=t[4],g=t[5],m=t[6],w=t[7],x=o,b=n[0],C=n[1],P=n[2],k=i,D=a,$=c,T=l,I=d,V=u,z=f,J=h,X=v,H=g,R=m,A=w,F=x,W=b,ee=C,oe=P;for(let de=0;de<r;de+=2)k=k+I|0,F=Ce(F^k,16),X=X+F|0,I=Ce(I^X,12),k=k+I|0,F=Ce(F^k,8),X=X+F|0,I=Ce(I^X,7),D=D+V|0,W=Ce(W^D,16),H=H+W|0,V=Ce(V^H,12),D=D+V|0,W=Ce(W^D,8),H=H+W|0,V=Ce(V^H,7),$=$+z|0,ee=Ce(ee^$,16),R=R+ee|0,z=Ce(z^R,12),$=$+z|0,ee=Ce(ee^$,8),R=R+ee|0,z=Ce(z^R,7),T=T+J|0,oe=Ce(oe^T,16),A=A+oe|0,J=Ce(J^A,12),T=T+J|0,oe=Ce(oe^T,8),A=A+oe|0,J=Ce(J^A,7),k=k+V|0,oe=Ce(oe^k,16),R=R+oe|0,V=Ce(V^R,12),k=k+V|0,oe=Ce(oe^k,8),R=R+oe|0,V=Ce(V^R,7),D=D+z|0,F=Ce(F^D,16),A=A+F|0,z=Ce(z^A,12),D=D+z|0,F=Ce(F^D,8),A=A+F|0,z=Ce(z^A,7),$=$+J|0,W=Ce(W^$,16),X=X+W|0,J=Ce(J^X,12),$=$+J|0,W=Ce(W^$,8),X=X+W|0,J=Ce(J^X,7),T=T+I|0,ee=Ce(ee^T,16),H=H+ee|0,I=Ce(I^H,12),T=T+I|0,ee=Ce(ee^T,8),H=H+ee|0,I=Ce(I^H,7);let re=0;s[re++]=i+k|0,s[re++]=a+D|0,s[re++]=c+$|0,s[re++]=l+T|0,s[re++]=d+I|0,s[re++]=u+V|0,s[re++]=f+z|0,s[re++]=h+J|0,s[re++]=v+X|0,s[re++]=g+H|0,s[re++]=m+R|0,s[re++]=w+A|0,s[re++]=x+F|0,s[re++]=b+W|0,s[re++]=C+ee|0,s[re++]=P+oe|0}const Nu=Hv(jv,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Mu extends wu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Bt.hash(t);const s=Bs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,r=new Uint8Array(o);r.set(s.length>o?t.create().update(s).digest():s);for(let i=0;i<r.length;i++)r[i]^=54;this.iHash.update(r),this.oHash=t.create();for(let i=0;i<r.length;i++)r[i]^=106;this.oHash.update(r),r.fill(0)}update(t){return Bt.exists(this),this.iHash.update(t),this}digestInto(t){Bt.exists(this),Bt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:o,destroyed:r,blockLen:i,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=r,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=s._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Do=(e,t,n)=>new Mu(e,t).update(n).digest();Do.create=(e,t)=>new Mu(e,t);function Vv(e,t,n){return Bt.hash(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Do(e,Bs(n),Bs(t))}const xr=new Uint8Array([0]),_c=new Uint8Array;function Dv(e,t,n,s=32){if(Bt.hash(e),Bt.number(s),s>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(s/e.outputLen);n===void 0&&(n=_c);const r=new Uint8Array(o*e.outputLen),i=Do.create(e,t),a=i._cloneInto(),c=new Uint8Array(i.outputLen);for(let l=0;l<o;l++)xr[0]=l+1,a.update(l===0?_c:c).update(n).update(xr).digestInto(c),r.set(c,e.outputLen*l),i._cloneInto(a);return i.destroy(),a.destroy(),c.fill(0),xr.fill(0),r.slice(0,s)}var Wv=Object.defineProperty,Ne=(e,t)=>{for(var n in t)Wv(e,n,{get:t[n],enumerable:!0})},Cn=Symbol("verified"),qv=e=>e instanceof Object;function Ou(e){if(!qv(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let s=0;s<n.length;s++)if(typeof n[s]=="object")return!1}return!0}var Gt={};Ne(Gt,{Queue:()=>Hu,QueueNode:()=>Fu,binarySearch:()=>ji,insertEventIntoAscendingList:()=>zv,insertEventIntoDescendingList:()=>Kv,normalizeURL:()=>Kn,utf8Decoder:()=>Ut,utf8Encoder:()=>St});var Ut=new TextDecoder("utf-8"),St=new TextEncoder;function Kn(e){e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Kv(e,t){const[n,s]=ji(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return s||e.splice(n,0,t),e}function zv(e,t){const[n,s]=ji(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return s||e.splice(n,0,t),e}function ji(e,t){let n=0,s=e.length-1;for(;n<=s;){const o=Math.floor((n+s)/2),r=t(e[o]);if(r===0)return[o,!0];r<0?s=o-1:n=o+1}return[n,!1]}var Fu=class{constructor(e){ge(this,"value");ge(this,"next",null);ge(this,"prev",null);this.value=e}},Hu=class{constructor(){ge(this,"first");ge(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Fu(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,e.value}},Gv=class{generateSecretKey(){return vs.utils.randomPrivateKey()}getPublicKey(e){return Xe(vs.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Xe(vs.getPublicKey(t)),n.id=Cs(n),n.sig=Xe(vs.sign(Cs(n),t)),n[Cn]=!0,n}verifyEvent(e){if(typeof e[Cn]=="boolean")return e[Cn];const t=Cs(e);if(t!==e.id)return e[Cn]=!1,!1;try{const n=vs.verify(e.sig,t,e.pubkey);return e[Cn]=n,n}catch{return e[Cn]=!1,!1}}};function Zv(e){if(!Ou(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Cs(e){let t=Hs(St.encode(Zv(e)));return Xe(t)}var Wo=new Gv,Jv=Wo.generateSecretKey,ju=Wo.getPublicKey,rt=Wo.finalizeEvent,Fn=Wo.verifyEvent,Yv={};Ne(Yv,{Application:()=>Y0,BadgeAward:()=>i0,BadgeDefinition:()=>W0,BlockedRelaysList:()=>P0,BookmarkList:()=>k0,Bookmarksets:()=>j0,Calendar:()=>o_,CalendarEventRSVP:()=>r_,ChannelCreation:()=>Ku,ChannelHideMessage:()=>Zu,ChannelMessage:()=>Gu,ChannelMetadata:()=>zu,ChannelMuteUser:()=>Ju,ClassifiedListing:()=>e_,ClientAuth:()=>Yu,CommunitiesList:()=>C0,CommunityDefinition:()=>c_,CommunityPostApproval:()=>g0,Contacts:()=>n0,CreateOrUpdateProduct:()=>z0,CreateOrUpdateStall:()=>K0,Curationsets:()=>V0,Date:()=>n_,DraftClassifiedListing:()=>t_,DraftLong:()=>Z0,Emojisets:()=>J0,EncryptedDirectMessage:()=>s0,EncryptedDirectMessages:()=>o0,EventDeletion:()=>r0,FileMetadata:()=>l0,FileServerPreference:()=>L0,Followsets:()=>O0,GenericRepost:()=>a0,Genericlists:()=>F0,HTTPAuth:()=>Wi,Handlerinformation:()=>a_,Handlerrecommendation:()=>i_,Highlights:()=>E0,InterestsList:()=>A0,Interestsets:()=>q0,JobFeedback:()=>_0,JobRequest:()=>y0,JobResult:()=>v0,Label:()=>p0,LightningPubRPC:()=>B0,LiveChatMessage:()=>u0,LiveEvent:()=>Q0,LongFormArticle:()=>G0,Metadata:()=>Xv,Mutelist:()=>R0,NWCWalletInfo:()=>U0,NWCWalletRequest:()=>Qu,NWCWalletResponse:()=>N0,NostrConnect:()=>M0,OpenTimestamps:()=>c0,Pinlist:()=>x0,ProblemTracker:()=>d0,ProfileBadges:()=>D0,PublicChatsList:()=>$0,Reaction:()=>Di,RecommendRelay:()=>t0,RelayList:()=>S0,Relaysets:()=>H0,Report:()=>f0,Reporting:()=>h0,Repost:()=>Vi,SearchRelaysList:()=>I0,ShortTextNote:()=>e0,Time:()=>s_,UserEmojiList:()=>T0,UserStatuses:()=>X0,Zap:()=>b0,ZapGoal:()=>m0,ZapRequest:()=>w0,classifyKind:()=>Qv,isEphemeralKind:()=>Wu,isParameterizedReplaceableKind:()=>qu,isRegularKind:()=>Vu,isReplaceableKind:()=>Du});function Vu(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function Du(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function Wu(e){return 2e4<=e&&e<3e4}function qu(e){return 3e4<=e&&e<4e4}function Qv(e){return Vu(e)?"regular":Du(e)?"replaceable":Wu(e)?"ephemeral":qu(e)?"parameterized":"unknown"}var Xv=0,e0=1,t0=2,n0=3,s0=4,o0=4,r0=5,Vi=6,Di=7,i0=8,a0=16,Ku=40,zu=41,Gu=42,Zu=43,Ju=44,c0=1040,l0=1063,u0=1311,d0=1971,f0=1984,h0=1984,p0=1985,g0=4550,y0=5999,v0=6999,_0=7e3,m0=9041,w0=9734,b0=9735,E0=9802,R0=1e4,x0=10001,S0=10002,k0=10003,C0=10004,$0=10005,P0=10006,I0=10007,A0=10015,T0=10030,L0=10096,U0=13194,B0=21e3,Yu=22242,Qu=23194,N0=23195,M0=24133,Wi=27235,O0=3e4,F0=30001,H0=30002,j0=30003,V0=30004,D0=30008,W0=30009,q0=30015,K0=30017,z0=30018,G0=30023,Z0=30024,J0=30030,Y0=30078,Q0=30311,X0=30315,e_=30402,t_=30403,n_=31922,s_=31923,o_=31924,r_=31925,i_=31989,a_=31990,c_=34550;function l_(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let s=n.slice(1),o=e[`#${s}`];if(o&&!t.tags.find(([r,i])=>r===n.slice(1)&&o.indexOf(i)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function u_(e,t){for(let n=0;n<e.length;n++)if(l_(e[n],t))return!0;return!1}var d_={};Ne(d_,{getHex64:()=>qo,getInt:()=>Xu,getSubscriptionId:()=>ed,matchEventId:()=>f_,matchEventKind:()=>p_,matchEventPubkey:()=>h_});function qo(e,t){let n=t.length+3,s=e.indexOf(`"${t}":`)+n,o=e.slice(s).indexOf('"')+s+1;return e.slice(o,o+64)}function Xu(e,t){let n=t.length,s=e.indexOf(`"${t}":`)+n+3,o=e.slice(s),r=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,r),10)}function ed(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let s=t+7+1+n,o=e.slice(s+1,80).indexOf('"');if(o===-1)return null;let r=s+1+o;return e.slice(s+1,r)}function f_(e,t){return t===qo(e,"id")}function h_(e,t){return t===qo(e,"pubkey")}function p_(e,t){return t===Xu(e,"kind")}var g_={};Ne(g_,{makeAuthEvent:()=>td});function td(e,t){return{kind:Yu,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function y_(){return new Promise(e=>{const t=new MessageChannel,n=()=>{t.port1.removeEventListener("message",n),e()};t.port1.addEventListener("message",n),t.port2.postMessage(0),t.port1.start()})}var v_=e=>(e[Cn]=!0,!0),qi=class{constructor(e,t){ge(this,"url");ge(this,"_connected",!1);ge(this,"onclose",null);ge(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));ge(this,"_onauth",null);ge(this,"baseEoseTimeout",4400);ge(this,"connectionTimeout",4400);ge(this,"openSubs",new Map);ge(this,"connectionTimeoutHandle");ge(this,"connectionPromise");ge(this,"openCountRequests",new Map);ge(this,"openEventPublishes",new Map);ge(this,"ws");ge(this,"incomingMessageQueue",new Hu);ge(this,"queueRunning",!1);ge(this,"challenge");ge(this,"serial",0);ge(this,"verifyEvent");ge(this,"_WebSocket");this.url=Kn(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket}static async connect(e,t){const n=new qi(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){t(n);return}this.ws.onopen=()=>{clearTimeout(this.connectionTimeoutHandle),this._connected=!0,e()},this.ws.onerror=n=>{var s;t(n.message||"websocket error"),this._connected&&(this._connected=!1,this.connectionPromise=void 0,(s=this.onclose)==null||s.call(this),this.closeAllSubscriptions("relay connection errored"))},this.ws.onclose=async()=>{var n;this._connected&&(this._connected=!1,this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection closed"))},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await y_();this.queueRunning=!1}handleNext(){var n,s,o;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=ed(e);if(t){const r=this.openSubs.get(t);if(!r)return;const i=qo(e,"id"),a=(n=r.alreadyHaveEvent)==null?void 0:n.call(r,i);if((s=r.receivedEvent)==null||s.call(r,this,i),a)return}try{let r=JSON.parse(e);switch(r[0]){case"EVENT":{const i=this.openSubs.get(r[1]),a=r[2];this.verifyEvent(a)&&u_(i.filters,a)&&i.onevent(a);return}case"COUNT":{const i=r[1],a=r[2],c=this.openCountRequests.get(i);c&&(c.resolve(a.count),this.openCountRequests.delete(i));return}case"EOSE":{const i=this.openSubs.get(r[1]);if(!i)return;i.receivedEose();return}case"OK":{const i=r[1],a=r[2],c=r[3],l=this.openEventPublishes.get(i);a?l.resolve(c):l.reject(new Error(c)),this.openEventPublishes.delete(i);return}case"CLOSED":{const i=r[1],a=this.openSubs.get(i);if(!a)return;a.closed=!0,a.close(r[2]);return}case"NOTICE":this.onnotice(r[1]);return;case"AUTH":{this.challenge=r[1],(o=this._onauth)==null||o.call(this,r[1]);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new Error("sending on closed connection");this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){if(!this.challenge)throw new Error("can't perform auth, no challenge was received");const t=await e(td(this.url,this.challenge)),n=new Promise((s,o)=>{this.openEventPublishes.set(t.id,{resolve:s,reject:o})});return this.send('["AUTH",'+JSON.stringify(t)+"]"),n}async publish(e){const t=new Promise((n,s)=>{this.openEventPublishes.set(e.id,{resolve:n,reject:s})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,s=new Promise((o,r)=>{this.openCountRequests.set(n,{resolve:o,reject:r})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),s}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||"sub:"+this.serial,s=new __(this,n,e,t);return this.openSubs.set(n,s),s}close(){var e;this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.ws)==null||e.close()}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},__=class{constructor(e,t,n,s){ge(this,"relay");ge(this,"id");ge(this,"closed",!1);ge(this,"eosed",!1);ge(this,"filters");ge(this,"alreadyHaveEvent");ge(this,"receivedEvent");ge(this,"onevent");ge(this,"oneose");ge(this,"onclose");ge(this,"eoseTimeout");ge(this,"eoseTimeoutHandle");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=s.alreadyHaveEvent,this.receivedEvent=s.receivedEvent,this.eoseTimeout=s.eoseTimeout||e.baseEoseTimeout,this.oneose=s.oneose,this.onclose=s.onclose,this.onevent=s.onevent||(o=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;!this.closed&&this.relay.connected&&(this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]"),this.closed=!0),this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},nd;try{nd=WebSocket}catch{}var ni=class extends qi{constructor(e){super(e,{verifyEvent:Fn,websocketImplementation:nd})}static async connect(e){const t=new ni(e);return await t.connect(),t}},m_=class{constructor(e){ge(this,"relays",new Map);ge(this,"seenOn",new Map);ge(this,"trackRelays",!1);ge(this,"verifyEvent");ge(this,"trustedRelayURLs",new Set);ge(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation}async ensureRelay(e,t){e=Kn(e);let n=this.relays.get(e);return n||(n=new qi(e,{verifyEvent:this.trustedRelayURLs.has(e)?v_:this.verifyEvent,websocketImplementation:this._WebSocket}),t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(Kn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close()})}subscribeMany(e,t,n){return this.subscribeManyMap(Object.fromEntries(e.map(s=>[s,t])),n)}subscribeManyMap(e,t){this.trackRelays&&(t.receivedEvent=(u,f)=>{let h=this.seenOn.get(f);h||(h=new Set,this.seenOn.set(f,h)),h.add(u)});const n=new Set,s=[],o=Object.keys(e).length,r=[];let i=u=>{var f;r[u]=!0,r.filter(h=>h).length===o&&((f=t.oneose)==null||f.call(t),i=()=>{})};const a=[];let c=(u,f)=>{var h;i(u),a[u]=f,a.filter(v=>v).length===o&&((h=t.onclose)==null||h.call(t,a),c=()=>{})};const l=u=>{var h;if((h=t.alreadyHaveEvent)!=null&&h.call(t,u))return!0;const f=n.has(u);return n.add(u),f},d=Promise.all(Object.entries(e).map(async(u,f,h)=>{if(h.indexOf(u)!==f){c(f,"duplicate url");return}let[v,g]=u;v=Kn(v);let m;try{m=await this.ensureRelay(v,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(x){c(f,(x==null?void 0:x.message)||String(x));return}let w=m.subscribe(g,{...t,oneose:()=>i(f),onclose:x=>c(f,x),alreadyHaveEvent:l,eoseTimeout:t.maxWait});s.push(w)}));return{async close(){await d,s.forEach(u=>{u.close()})}}}subscribeManyEose(e,t,n){const s=this.subscribeMany(e,t,{...n,oneose(){s.close()}});return s}async querySync(e,t,n){return new Promise(async s=>{const o=[];this.subscribeManyEose(e,[t],{...n,onevent(r){o.push(r)},onclose(r){s(o)}})})}async get(e,t,n){t.limit=1;const s=await this.querySync(e,t,n);return s.sort((o,r)=>r.created_at-o.created_at),s[0]||null}publish(e,t){return e.map(Kn).map(async(n,s,o)=>o.indexOf(n)!==s?Promise.reject("duplicate url"):(await this.ensureRelay(n)).publish(t))}},sd;try{sd=WebSocket}catch{}var Ns=class extends m_{constructor(){super({verifyEvent:Fn,websocketImplementation:sd})}},Me={};Ne(Me,{BECH32_REGEX:()=>od,Bech32MaxSize:()=>Ki,decode:()=>js,encodeBytes:()=>Ko,naddrEncode:()=>k_,neventEncode:()=>S_,noteEncode:()=>R_,nprofileEncode:()=>x_,npubEncode:()=>E_,nrelayEncode:()=>C_,nsecEncode:()=>b_});var Ki=5e3,od=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function w_(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function js(e){var o,r,i,a,c,l,d,u;let{prefix:t,words:n}=rs.decode(e,Ki),s=new Uint8Array(rs.fromWords(n));switch(t){case"nprofile":{let f=Js(s);if(!((o=f[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Xe(f[0][0]),relays:f[1]?f[1].map(h=>Ut.decode(h)):[]}}}case"nevent":{let f=Js(s);if(!((r=f[0])!=null&&r[0]))throw new Error("missing TLV 0 for nevent");if(f[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(f[2]&&f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(f[3]&&f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Xe(f[0][0]),relays:f[1]?f[1].map(h=>Ut.decode(h)):[],author:(i=f[2])!=null&&i[0]?Xe(f[2][0]):void 0,kind:(a=f[3])!=null&&a[0]?parseInt(Xe(f[3][0]),16):void 0}}}case"naddr":{let f=Js(s);if(!((c=f[0])!=null&&c[0]))throw new Error("missing TLV 0 for naddr");if(!((l=f[2])!=null&&l[0]))throw new Error("missing TLV 2 for naddr");if(f[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((d=f[3])!=null&&d[0]))throw new Error("missing TLV 3 for naddr");if(f[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Ut.decode(f[0][0]),pubkey:Xe(f[2][0]),kind:parseInt(Xe(f[3][0]),16),relays:f[1]?f[1].map(h=>Ut.decode(h)):[]}}}case"nrelay":{let f=Js(s);if(!((u=f[0])!=null&&u[0]))throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Ut.decode(f[0][0])}}case"nsec":return{type:t,data:s};case"npub":case"note":return{type:t,data:Xe(s)};default:throw new Error(`unknown prefix ${t}`)}}function Js(e){let t={},n=e;for(;n.length>0;){let s=n[0],o=n[1],r=n.slice(2,2+o);if(n=n.slice(2+o),r.length<o)throw new Error(`not enough data to read on TLV ${s}`);t[s]=t[s]||[],t[s].push(r)}return t}function b_(e){return Ko("nsec",e)}function E_(e){return Ko("npub",os(e))}function R_(e){return Ko("note",os(e))}function Vs(e,t){let n=rs.toWords(t);return rs.encode(e,n,Ki)}function Ko(e,t){return Vs(e,t)}function x_(e){let t=zo({0:[os(e.pubkey)],1:(e.relays||[]).map(n=>St.encode(n))});return Vs("nprofile",t)}function S_(e){let t;e.kind!==void 0&&(t=w_(e.kind));let n=zo({0:[os(e.id)],1:(e.relays||[]).map(s=>St.encode(s)),2:e.author?[os(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Vs("nevent",n)}function k_(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=zo({0:[St.encode(e.identifier)],1:(e.relays||[]).map(s=>St.encode(s)),2:[os(e.pubkey)],3:[new Uint8Array(t)]});return Vs("naddr",n)}function C_(e){let t=zo({0:[St.encode(e)]});return Vs("nrelay",t)}function zo(e){let t=[];return Object.entries(e).reverse().forEach(([n,s])=>{s.forEach(o=>{let r=new Uint8Array(o.length+2);r.set([parseInt(n)],0),r.set([o.length],1),r.set(o,2),t.push(r)})}),jo(...t)}var $_=/\bnostr:((note|npub|naddr|nevent|nprofile)1\w+)\b|#\[(\d+)\]/g;function zi(e){let t=[];for(let n of e.content.matchAll($_))if(n[2])try{let{type:s,data:o}=js(n[1]);switch(s){case"npub":{t.push({text:n[0],profile:{pubkey:o,relays:[]}});break}case"nprofile":{t.push({text:n[0],profile:o});break}case"note":{t.push({text:n[0],event:{id:o,relays:[]}});break}case"nevent":{t.push({text:n[0],event:o});break}case"naddr":{t.push({text:n[0],address:o});break}}}catch{}else if(n[3]){let s=parseInt(n[3],10),o=e.tags[s];if(!o)continue;switch(o[0]){case"p":{t.push({text:n[0],profile:{pubkey:o[1],relays:o[2]?[o[2]]:[]}});break}case"e":{t.push({text:n[0],event:{id:o[1],relays:o[2]?[o[2]]:[]}});break}case"a":{try{let[r,i,a]=o[1].split(":");t.push({text:n[0],address:{identifier:a,pubkey:i,kind:parseInt(r,10),relays:o[2]?[o[2]]:[]}})}catch{}break}}}return t}var P_={};Ne(P_,{decrypt:()=>I_,encrypt:()=>rd});async function rd(e,t,n){const s=e instanceof Uint8Array?Xe(e):e,o=cs.getSharedSecret(s,"02"+t),r=id(o);let i=Uint8Array.from(Eu(16)),a=St.encode(n),c=Tu(r,i).encrypt(a),l=zt.encode(new Uint8Array(c)),d=zt.encode(new Uint8Array(i.buffer));return`${l}?iv=${d}`}async function I_(e,t,n){const s=e instanceof Uint8Array?Xe(e):e;let[o,r]=n.split("?iv="),i=cs.getSharedSecret(s,"02"+t),a=id(i),c=zt.decode(r),l=zt.decode(o),d=Tu(a,c).decrypt(l);return Ut.decode(d)}function id(e){return e.slice(1,33)}var ad={};Ne(ad,{NIP05_REGEX:()=>cd,isValid:()=>L_,queryProfile:()=>ld,searchDomain:()=>T_,useFetchImplementation:()=>A_});var cd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,Go;try{Go=fetch}catch{}function A_(e){Go=e}async function T_(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`;return(await(await Go(n,{redirect:"error"})).json()).names}catch{return{}}}async function ld(e){var r;const t=e.match(cd);if(!t)return null;const[n,s="_",o]=t;try{const i=`https://${o}/.well-known/nostr.json?name=${s}`,a=await(await Go(i,{redirect:"error"})).json();let c=a.names[s];return c?{pubkey:c,relays:(r=a.relays)==null?void 0:r[c]}:null}catch{return null}}async function L_(e,t){let n=await ld(t);return n?n.pubkey===e:!1}var kt={};Ne(kt,{parse:()=>U_});function U_(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const s of e.tags)s[0]==="e"&&s[1]&&n.push(s),s[0]==="p"&&s[1]&&t.profiles.push({pubkey:s[1],relays:s[2]?[s[2]]:[]});for(let s=0;s<n.length;s++){const o=n[s],[r,i,a,c]=o,l={id:i,relays:a?[a]:[]},d=s===0,u=s===n.length-1;if(c==="root"){t.root=l;continue}if(c==="reply"){t.reply=l;continue}if(c==="mention"){t.mentions.push(l);continue}if(d){t.root=l;continue}if(u){t.reply=l;continue}t.mentions.push(l)}return t}var B_={};Ne(B_,{fetchRelayInformation:()=>M_,useFetchImplementation:()=>N_});var ud;try{ud=fetch}catch{}function N_(e){ud=e}async function M_(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var O_={};Ne(O_,{getPow:()=>dd,minePow:()=>F_});function dd(e){let t=0;for(let n=0;n<e.length;n++){const s=parseInt(e[n],16);if(s===0)t+=4;else{t+=Math.clz32(s)-28;break}}return t}function F_(e,t){let n=0;const s=e,o=["nonce",n.toString(),t.toString()];for(s.tags.push(o);;){const r=Math.floor(new Date().getTime()/1e3);if(r!==s.created_at&&(n=0,s.created_at=r),o[1]=(++n).toString(),s.id=Cs(s),dd(s.id)>=t)break}return s}var H_={};Ne(H_,{finishRepostEvent:()=>j_,getRepostedEvent:()=>V_,getRepostedEventPointer:()=>fd});function j_(e,t,n,s){return rt({kind:Vi,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:e.content===""?"":JSON.stringify(t),created_at:e.created_at},s)}function fd(e){if(e.kind!==Vi)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const o=e.tags[s];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(s=>typeof s=="string"),author:n==null?void 0:n[1]}}function V_(e,{skipVerification:t}={}){const n=fd(e);if(n===void 0||e.content==="")return;let s;try{s=JSON.parse(e.content)}catch{return}if(s.id===n.id&&!(!t&&!Fn(s)))return s}var D_={};Ne(D_,{NOSTR_URI_REGEX:()=>Zo,parse:()=>q_,test:()=>W_});var Zo=new RegExp(`nostr:(${od.source})`);function W_(e){return typeof e=="string"&&new RegExp(`^${Zo.source}$`).test(e)}function q_(e){const t=e.match(new RegExp(`^${Zo.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:js(t[1])}}var K_={};Ne(K_,{finishReactionEvent:()=>z_,getReactedEventPointer:()=>G_});function z_(e,t,n){const s=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return rt({...e,kind:Di,tags:[...e.tags??[],...s,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function G_(e){if(e.kind!==Di)return;let t,n;for(let s=e.tags.length-1;s>=0&&(t===void 0||n===void 0);s--){const o=e.tags[s];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(s=>s!==void 0),author:n[1]}}var Z_={};Ne(Z_,{matchAll:()=>J_,regex:()=>Gi,replaceAll:()=>Y_});var Gi=()=>new RegExp(`\\b${Zo.source}\\b`,"g");function*J_(e){const t=e.matchAll(Gi());for(const n of t)try{const[s,o]=n;yield{uri:s,value:o,decoded:js(o),start:n.index,end:n.index+s.length}}catch{}}function Y_(e,t){return e.replaceAll(Gi(),(n,s)=>t({uri:n,value:s,decoded:js(s)}))}var Q_={};Ne(Q_,{channelCreateEvent:()=>X_,channelHideMessageEvent:()=>n1,channelMessageEvent:()=>t1,channelMetadataEvent:()=>e1,channelMuteUserEvent:()=>s1});var X_=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return rt({kind:Ku,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},e1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return rt({kind:zu,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},t1=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),rt({kind:Gu,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},n1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return rt({kind:Zu,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},s1=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return rt({kind:Ju,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},o1={};Ne(o1,{EMOJI_SHORTCODE_REGEX:()=>hd,matchAll:()=>r1,regex:()=>Zi,replaceAll:()=>i1});var hd=/:(\w+):/,Zi=()=>new RegExp(`\\B${hd.source}\\B`,"g");function*r1(e){const t=e.matchAll(Zi());for(const n of t)try{const[s,o]=n;yield{shortcode:s,name:o,start:n.index,end:n.index+s.length}}catch{}}function i1(e,t){return e.replaceAll(Zi(),(n,s)=>t({shortcode:n,name:s}))}var a1={};Ne(a1,{useFetchImplementation:()=>c1,validateGithub:()=>l1});var Ji;try{Ji=fetch}catch{}function c1(e){Ji=e}async function l1(e,t,n){try{return await(await Ji(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var Jo={};Ne(Jo,{decrypt:()=>wd,encrypt:()=>md,getConversationKey:()=>yd,v2:()=>p1});var pd=1,gd=65535;function yd(e,t){const n=cs.getSharedSecret(e,"02"+t).subarray(1,33);return Vv(Hs,n,"nip44-v2")}function vd(e,t){const n=Dv(Hs,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Yi(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function u1(e){if(!Number.isSafeInteger(e)||e<pd||e>gd)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function d1(e){const t=St.encode(e),n=t.length,s=u1(n),o=new Uint8Array(Yi(n)-n);return jo(s,t,o)}function f1(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<pd||t>gd||n.length!==t||e.length!==2+Yi(t))throw new Error("invalid padding");return Ut.decode(n)}function _d(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=jo(n,t);return Do(Hs,e,s)}function h1(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=zt.decode(e)}catch(r){throw new Error("invalid base64: "+r.message)}const s=n.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function md(e,t,n=Eu(32)){const{chacha_key:s,chacha_nonce:o,hmac_key:r}=vd(t,n),i=d1(e),a=Nu(s,o,i),c=_d(r,a,n);return zt.encode(jo(new Uint8Array([2]),n,a,c))}function wd(e,t){const{nonce:n,ciphertext:s,mac:o}=h1(e),{chacha_key:r,chacha_nonce:i,hmac_key:a}=vd(t,n),c=_d(a,s,n);if(!Rv(c,o))throw new Error("invalid MAC");const l=Nu(r,i,s);return f1(l)}var p1={utils:{getConversationKey:yd,calcPaddedLen:Yi},encrypt:md,decrypt:wd},g1={};Ne(g1,{makeNwcRequestEvent:()=>v1,parseConnectionString:()=>y1});function y1(e){const{pathname:t,searchParams:n}=new URL(e),s=t,o=n.get("relay"),r=n.get("secret");if(!s||!o||!r)throw new Error("invalid connection string");return{pubkey:s,relay:o,secret:r}}async function v1(e,t,n){const o=await rd(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),r={kind:Qu,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return rt(r,t)}var _1={};Ne(_1,{getZapEndpoint:()=>w1,makeZapReceipt:()=>R1,makeZapRequest:()=>b1,useFetchImplementation:()=>m1,validateZapRequest:()=>E1});var Qi;try{Qi=fetch}catch{}function m1(e){Qi=e}async function w1(e){try{let t="",{lud06:n,lud16:s}=JSON.parse(e.content);if(n){let{words:i}=rs.decode(n,1e3),a=rs.fromWords(i);t=Ut.decode(a)}else if(s){let[i,a]=s.split("@");t=new URL(`/.well-known/lnurlp/${i}`,`https://${a}`).toString()}else return null;let r=await(await Qi(t)).json();if(r.allowsNostr&&r.nostrPubkey)return r.callback}catch{}return null}function b1({profile:e,event:t,amount:n,relays:s,comment:o=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let r={kind:9734,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e],["amount",n.toString()],["relays",...s]]};return t&&r.tags.push(["e",t]),r}function E1(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!Ou(t))return"Zap request is not a valid Nostr event.";if(!Fn(t))return"Invalid signature on zap request.";let n=t.tags.find(([r,i])=>r==="p"&&i);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=t.tags.find(([r,i])=>r==="e"&&i);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([r,i])=>r==="relays"&&i)?null:"Zap request doesn't have a 'relays' tag."}function R1({zapRequest:e,preimage:t,bolt11:n,paidAt:s}){let o=JSON.parse(e),r=o.tags.filter(([a])=>a==="e"||a==="p"||a==="a"),i={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...r,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&i.tags.push(["preimage",t]),i}var x1={};Ne(x1,{getToken:()=>S1,hashPayload:()=>Xi,unpackEventFromToken:()=>Ed,validateEvent:()=>$d,validateEventKind:()=>xd,validateEventMethodTag:()=>kd,validateEventPayloadTag:()=>Cd,validateEventTimestamp:()=>Rd,validateEventUrlTag:()=>Sd,validateToken:()=>k1});var bd="Nostr ";async function S1(e,t,n,s=!1,o){const r={kind:Wi,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&r.tags.push(["payload",Xi(o)]);const i=await n(r);return(s?bd:"")+zt.encode(St.encode(JSON.stringify(i)))}async function k1(e,t,n){const s=await Ed(e).catch(r=>{throw r});return await $d(s,t,n).catch(r=>{throw r})}async function Ed(e){if(!e)throw new Error("Missing token");e=e.replace(bd,"");const t=Ut.decode(zt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Rd(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function xd(e){return e.kind===Wi}function Sd(e,t){const n=e.tags.find(s=>s[0]==="u");return n?n.length>0&&n[1]===t:!1}function kd(e,t){const n=e.tags.find(s=>s[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Xi(e){const t=Hs(St.encode(JSON.stringify(e)));return Xe(t)}function Cd(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const s=Xi(t);return n.length>0&&n[1]===s}async function $d(e,t,n,s){if(!Fn(e))throw new Error("Invalid nostr event, signature invalid");if(!xd(e))throw new Error("Invalid nostr event, kind invalid");if(!Rd(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Sd(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!kd(e,n))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Cd(e,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const lt={META:0,TEXT_NOTE:1,REPLY:1,LIKE:7,REPOST:6,DM_RELAYS:10050,GIFT_WRAP:1059,RELAY_LIST_META:10002,FOLLOW_LIST:3},mc="wss://purplepag.es/",C1=e=>{e.forEach(t=>t.isRoot=!0)},$1=e=>{e.forEach(t=>t.isRoot=!1)},P1=(e,t=[])=>{(!t||!t.length)&&(t=[]);const{likes:n,reposts:s,replies:o}=Pd(t);Td(e,n),Ld(e,s),T1(e,o)},I1=(e,t=[])=>{(!t||!t.length)&&(t=[]);const{likes:n,reposts:s,replies:o}=Pd(t);Td(e,n),Ld(e,s),L1(e,o)},Pd=e=>{if(!e||!e.length)return{likes:[],reposts:[],replies:[]};const t=[],n=[],s=[];for(const o of e)switch(o.kind){case lt.LIKE:t.push(o);break;case lt.REPOST:n.push(o);break;case lt.REPLY:s.push(o);break}return{likes:t,reposts:n,replies:s}},A1=(e,t)=>{for(const n of t)n.replyingTo={user:e.author,pubkey:e.pubkey,event:e}},T1=(e,t)=>{let n=0;for(const s of t)Fd(e.id,s)&&n++;e.replies=n},L1=(e,t)=>{let n=0;for(const s of t)Hd(e.id,s)&&n++;e.replies=n},Id=(e,t)=>{const n=[...e],s=[];return n.forEach(o=>{let r=!1;t.forEach(i=>{if(!r&&o.pubkey===(i==null?void 0:i.pubkey)){const a=o;a.author=JSON.parse(i.content),a.authorEvent=i,s.push(a),r=!0}}),r||s.push(o)}),s},U1=e=>{if(!N1(e.content))return[];const t=new Set,n=zi(e);for(let s=0;s<n.length;s++){let{profile:o}=n[s];o!=null&&o.pubkey&&t.add(o.pubkey)}return t.size?[...t]:[]},B1=(e,t)=>{if(!t.length){e.references=[];return}const n=zi(e),s=[];for(let o=0;o<n.length;o++){let{profile:r}=n[o];r!=null&&r.pubkey&&t.forEach(i=>{if((i==null?void 0:i.pubkey)===(r==null?void 0:r.pubkey)){const a=n[o];a.profile_details=JSON.parse((i==null?void 0:i.content)||"{}"),s.push(a)}})}e.references=s},Ad=e=>{const t=new Set,n=[];return e.sort((o,r)=>r.created_at-o.created_at).forEach(o=>{const{pubkey:r}=o;t.has(r)||(t.add(r),n.push(o))}),n},Td=(e,t)=>{let n=0;t.forEach(s=>{var r;const o=(r=s.tags.reverse().find(i=>i[0]==="e"))==null?void 0:r[1];o&&o===e.id&&s.content&&M1(s.content)&&n++}),e.likes=n},Ld=(e,t)=>{let n=0;t.forEach(s=>{var r;const o=(r=s.tags.find(i=>i[0]==="e"))==null?void 0:r[1];o&&o===e.id&&n++}),e.reposts=n},Ud=(e,t)=>t.filter(n=>{var o;const s=kt.parse(n);return!s.reply&&((o=s==null?void 0:s.root)==null?void 0:o.id)===e.id}),Bd=(e,t)=>t.filter(n=>{var o,r;const s=kt.parse(n);return((o=s==null?void 0:s.reply)==null?void 0:o.id)===e.id||((r=s==null?void 0:s.root)==null?void 0:r.id)===e.id}),N1=e=>e.indexOf("nostr:npub")!==-1||e.indexOf("nostr:nprofile1")!==-1,M1=e=>!["-",""].includes(e),vo=(e,t=3e3)=>{try{return new Promise(n=>{const s=new WebSocket(e),o=setTimeout(()=>{s.close(),n(!1)},t);s.onopen=()=>{clearTimeout(o),s.close(),n(!0)},s.onerror=()=>{clearTimeout(o),s.close(),n(!1)}})}catch{return Promise.resolve(!1)}},_o=e=>/^[a-f0-9]{64}$/.test(e),wc=(e,t,n)=>{const s=new Promise(r=>{setTimeout(()=>{r(null)},n)}),o=new Promise(r=>{const i=e.subscribe(t,{onevent(a){r(a)},oneose(){i.close()}})});return Promise.race([o,s])},Nd=e=>{const{tags:t}=e,n={read:[],write:[],all:[]};return t.length&&t.forEach(s=>{if(s[0]==="r"){const r=Gt.normalizeURL(s[1]),i=s[2];i?i==="read"?n.read.push(r):i==="write"&&n.write.push(r):(n.read.push(r),n.write.push(r)),n.all.push({url:r,type:i||"write"})}}),n},Jn=async(e,t,n)=>{const s=e.map(async o=>{const r=t.publish([o],n),i=(await Promise.allSettled(r))[0];return{relay:o,success:i.status==="fulfilled"}});return await Promise.all(s)},Md=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",hour:"numeric",minute:"numeric"}),O1=e=>new Date(e*1e3).toLocaleString("default",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}),Od=(e,t,n)=>{if(e.length===0)return;const s=e.map(o=>o.then(r=>({result:r,isFulfilled:!0,originalPromise:o})).catch(r=>({result:r,isFulfilled:!1,originalPromise:o})));Promise.race(s).then(({result:o,isFulfilled:r,originalPromise:i})=>{r?t(o):n(o);const a=e.filter(c=>c!==i);Od(a,t,n)})},Fd=(e,t)=>{var s;const n=kt.parse(t);return!n.reply&&((s=n==null?void 0:n.root)==null?void 0:s.id)===e},Hd=(e,t)=>{var s,o;const n=kt.parse(t);return((s=n==null?void 0:n.reply)==null?void 0:s.id)===e||((o=n==null?void 0:n.root)==null?void 0:o.id)===e},Mt=async(e,t,n={},s=[],o,r,i,a=()=>{})=>{var f;const c=[],l=new Set;let d=s,u=!1;for(const h of e){const v=h.pubkey;Object.keys(n).length&&((f=n[v])!=null&&f.length)&&(d=n[v],u=d.includes(mc));let g=null,m=null;const w=U1(h);!u&&!w.includes(v)&&w.push(v),u&&!o.hasPubkey(v)&&!l.has(v)&&(m=r.get([mc],{kinds:[0],authors:[v]}),l.add(v));const x=[];w.forEach(P=>{!o.hasPubkey(v)&&!l.has(P)&&x.push(P),l.add(P)}),x.length&&(g=r.querySync(d,{kinds:[0],authors:x}));const b=r.querySync(d,{kinds:[1,6,7],"#e":[h.id]}),C=Promise.all([h,g,b,m]);c.push(C)}for(const h of c){const v=await h,g=v[0],m=v[1]||[],w=v[2]||[];let x=v[3];const b=[],C=[];x&&(o.addMeta(x),b.push(x),C.push(x.pubkey)),Ad(m).forEach(k=>{const D=k;o.addMeta(k),b.push(D),C.push(D.pubkey),k.pubkey===g.pubkey&&(x=k)}),l.forEach(k=>{if(C.includes(k))return;o.hasPubkey(k)||o.setMetaValue(k,null);const D=o.getMeta(k);b.push(D),k===g.pubkey&&(x=D)}),B1(g,b),Id([g],[x]),i?(P1(g,w),C1([g])):(I1(g,w),$1([g]),t&&A1(t,[g])),a(g)}},jd=async(e,t,n)=>{const s=await n.get(t,{kinds:[1],ids:[e]});if(s){const o=await n.get(t,{kinds:[0],authors:[s.pubkey]});o&&Id([s],[o])}return s},F1=e=>{const{reply:t,root:n}=kt.parse(e);return!!t||!!n},H1=(e,t,n)=>new Promise(s=>{const o=[];let r,i=n;if(n&&n.length&&n[0].limit){const{limit:l,...d}=n[0];i=[d],r=l}let a=!1;const c=e.subscribeMany(t,i,{onevent(l){if(a)return;const d=kt.parse(l);d.reply||d.root||(o.push(l),r&&o.length>=r&&(c.close(),a=!0,s(o.slice(0,r))))},oneose(){c.close();const l=r?o.slice(0,r):o;s(l)}})}),Vd=(e,t)=>{const{username:n,name:s,display_name:o}=e,r=n||s||o;return r.length?r:Me.npubEncode(t).slice(0,10)+"..."},$s=e=>`/user/${Me.npubEncode(e)}`,si=e=>{if(!e.length)throw new Error("Public key or event id is required.");const t="Public key or event id should be in npub or note format, or hex.";let n;try{n=Me.decode(e)}catch{throw new Error(t)}const{type:s}=n;if(s!=="npub"&&s!=="note")throw new Error(t);return n},Dd=e=>(st("data-v-393546d0"),e=e(),ot(),e),j1={class:"event-details"},V1={key:0},D1={class:"highlight"},W1={key:1},q1={key:0,class:"highlight"},K1={key:1,class:"event-details__no-user"},z1=Dd(()=>_("div",null,"No info about author on this relay.",-1)),G1={class:"highlight"},Z1={key:2},J1={key:0,class:"highlight"},Y1={key:1,class:"event-details__no-user"},Q1=Dd(()=>_("div",null,"No info about author on this relay.",-1)),X1={class:"highlight"},em=Se({__name:"RawData",props:{event:{},authorEvent:{},isUserEvent:{}},setup(e){const t=e,n=L(1),s=L(!0),o=L(),r=L({});vt(()=>{const{event:c,authorEvent:l}=t;o.value=i(c),l&&(r.value=i(l)),t.authorEvent&&(s.value=t.event.id!==t.authorEvent.id)});const i=c=>{const{id:l,pubkey:d,created_at:u,kind:f,tags:h,content:v,sig:g}=c;return{id:l,pubkey:d,created_at:u,kind:f,tags:h,content:v,sig:g}},a=c=>{n.value=c};return(c,l)=>(S(),U("div",j1,[_("div",{class:ve(["event-details__header",{"event-details__header_user":c.isUserEvent}])},[_("span",{onClick:l[0]||(l[0]=()=>a(1)),class:ve(["event-details__tab",{"event-details__tab_active":n.value===1}])},"Note",2),s.value?(S(),U("span",{key:0,onClick:l[1]||(l[1]=()=>a(2)),class:ve(["event-details__tab",{"event-details__tab_active":n.value===2}])},"Author",2)):te("",!0),_("span",{onClick:l[2]||(l[2]=()=>a(3)),class:ve(["event-details__tab",{"event-details__tab_active":n.value===3}])},"Author content",2)],2),n.value===1?(S(),U("div",V1,[_("pre",D1,se(JSON.stringify(o.value,null,2)),1)])):te("",!0),s.value&&n.value===2?(S(),U("div",W1,[c.authorEvent?(S(),U("pre",q1,se(JSON.stringify(r.value,null,2)),1)):(S(),U("div",K1,[z1,_("pre",G1,"pubkey: "+se(c.event.pubkey)+` 
npub: `+se(Z(Me).npubEncode(c.event.pubkey)),1)]))])):te("",!0),n.value===3?(S(),U("div",Z1,[c.event.author?(S(),U("pre",J1,se(JSON.stringify(c.event.author,null,2)),1)):(S(),U("div",Y1,[Q1,_("pre",X1,"pubkey: "+se(c.event.pubkey)+`
npub: `+se(Z(Me).npubEncode(c.event.pubkey)),1)]))])):te("",!0)]))}});const me=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Wd=me(em,[["__scopeId","data-v-393546d0"]]),tm={},nm={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},sm=_("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"},null,-1),om=[sm];function rm(e,t){return S(),U("svg",nm,om)}const im=me(tm,[["render",rm]]),am={},cm={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-repeat",viewBox:"0 0 16 16"},lm=_("path",{d:"M11 5.466V4H5a4 4 0 0 0-3.584 5.777.5.5 0 1 1-.896.446A5 5 0 0 1 5 3h6V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m3.81.086a.5.5 0 0 1 .67.225A5 5 0 0 1 11 13H5v1.466a.25.25 0 0 1-.41.192l-2.36-1.966a.25.25 0 0 1 0-.384l2.36-1.966a.25.25 0 0 1 .41.192V12h6a4 4 0 0 0 3.585-5.777.5.5 0 0 1 .225-.67Z"},null,-1),um=[lm];function dm(e,t){return S(),U("svg",cm,um)}const fm=me(am,[["render",dm]]),hm={},pm={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-reply",viewBox:"0 0 16 16"},gm=_("path",{d:"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"},null,-1),ym=[gm];function vm(e,t){return S(),U("svg",pm,ym)}const _m=me(hm,[["render",vm]]),mm={},wm={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chat",viewBox:"0 0 16 16"},bm=_("path",{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},null,-1),Em=[bm];function Rm(e,t){return S(),U("svg",wm,Em)}const xm=me(mm,[["render",Rm]]),Sm={class:"actions-bar"},km={class:"actions-bar__action actions-bar__num"},Cm={class:"actions_bar-number"},$m={class:"actions-bar__action actions-bar__num"},Pm={class:"actions_bar-number"},Im={class:"actions_bar-number"},Am=Se({__name:"EventActionsBar",props:{likes:{},reposts:{},replies:{},hasReplyBtn:{type:Boolean}},emits:["showReplyField","handleShowReplies","handleHideReplies"],setup(e,{emit:t}){const n=t,s=()=>{n("showReplyField")},o=()=>{n("handleShowReplies")};return(r,i)=>(S(),U("div",Sm,[_("span",km,[fe(im,{class:"actions-bar__icon"}),_("span",Cm,se(r.likes),1)]),_("span",$m,[fe(fm,{class:"actions-bar__icon"}),_("span",Pm,se(r.reposts),1)]),r.hasReplyBtn?(S(),U("span",{key:0,onClick:o,class:"actions-bar__action actions-bar__num actions-bar__replies"},[fe(xm,{class:"actions-bar__icon"}),_("span",Im,se(r.replies),1)])):te("",!0),r.hasReplyBtn?(S(),U("span",{key:1,onClick:s,class:"actions-bar__action actions-bar__reply"},[fe(_m,{class:"actions-bar__icon"})])):te("",!0)]))}});const us=_t("npub",()=>{const e=L(""),t=L(""),n=L("");function s(i){e.value=i}function o(i){t.value=i}function r(i){n.value=i}return{npubInput:e,cachedUrlNpub:t,updateNpubInput:s,updateCachedUrl:o,setError:r,error:n}}),ds=_t("user",()=>{const e=L(!1),t=L(!1);function n(o){e.value=o}function s(o){t.value=o}return{isRoutingUser:e,updateRoutingStatus:n,updateSearchStatus:s,isSearchUsed:t}}),Tm={class:"event-content"},Lm={key:0},Um={key:1},Bm=["onClick"],Nm=Se({__name:"EventText",props:{event:{},slice:{}},setup(e){const t=e,n=En(),s=us(),o=ds(),r=L([]);vt(()=>{r.value=a(t.event,t.slice)}),bi(()=>{r.value=a(t.event,t.slice)});const i=(u,f)=>{let h=[],v="";for(const g of u){const m=v.length;if(v+=g.value,v.length<=f)h.push(g);else{if(g.type==="text"){const w=f-m;g.value=g.value.slice(0,w)}h.push(g),h.push({type:"text",value:"..."});break}}return h},a=(u,f)=>{const h=u.content,v=u.references;let g=[];if(!(v!=null&&v.length))return g.push({type:"text",value:h}),g;const m=[];v.forEach(x=>{let b=h.indexOf(x.text);if(m.includes(b))for(const C of m){if(!m.includes(b))break;b=h.indexOf(x.text,b+x.text.length)}x.textIndex=b,m.push(b)}),v.sort((x,b)=>x.textIndex-b.textIndex);let w=h;return v.forEach(x=>{const b=w.indexOf(x.text),C=w.slice(0,b),P=w.slice(b+x.text.length),k=c(x);g.push({type:"text",value:C}),g.push({type:"profile",value:k,npub:l(x.profile.pubkey)}),w=P}),g.push({type:"text",value:w}),f&&(g=i(g,f)),g},c=u=>{const f=u.profile_details,h=l(u.profile.pubkey);return`@${f.name||f.username||f.display_name||`${h.slice(0,15)}...`}`},l=u=>Me.npubEncode(u),d=u=>{u&&(s.updateNpubInput(u),o.updateRoutingStatus(!0),n.push({path:`/user/${u}`}))};return(u,f)=>(S(),U("div",Tm,[(S(!0),U(Ee,null,ut(r.value,h=>(S(),U("span",null,[h.type==="text"?(S(),U("span",Lm,se(h.value),1)):te("",!0),h.type==="profile"?(S(),U("span",Um,[_("a",{onClick:Bn(()=>d(h.npub),["prevent"]),href:"#"},se(h.value),9,Bm)])):te("",!0)]))),256))]))}});const Mm=me(Nm,[["__scopeId","data-v-2c0eedfd"]]);function Om(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ea(e,...t){if(!Om(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function bc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fm(e,t){ea(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sr=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),At=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Hm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yo(e){ea(e);let t="";for(let n=0;n<e.length;n++)t+=Hm[e[n]];return t}const jt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ec(e){if(e>=jt._0&&e<=jt._9)return e-jt._0;if(e>=jt._A&&e<=jt._F)return e-(jt._A-10);if(e>=jt._a&&e<=jt._f)return e-(jt._a-10)}function Rc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const s=new Uint8Array(n);for(let o=0,r=0;o<n;o++,r+=2){const i=Ec(e.charCodeAt(r)),a=Ec(e.charCodeAt(r+1));if(i===void 0||a===void 0){const c=e[r]+e[r+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+r)}s[o]=i*16+a}return s}function jm(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function qd(e){return typeof e=="string"&&(e=jm(e)),ea(e),e}class Vm{clone(){return this._cloneInto()}}function Dm(e){const t=s=>e().update(qd(s)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const dt=_t("nsec",()=>{const e=L(""),t=L(!1),n=L("");function s(v){e.value=v}function o(v){n.value=v}function r(v){t.value=v}function i(){try{const v=a();if(!v)throw new Error("Invalid private key");return ju(v)}catch{return""}}function a(){try{return e.value.indexOf("nsec")===-1?Rc(e.value):Me.decode(e.value).data}catch{return null}}function c(){const v=a();if(!v)return"";try{return Yo(v)}catch{return""}}function l(){try{return e.value.indexOf("nsec")===-1?Me.nsecEncode(Rc(e.value)):e.value}catch{return""}}function d(){return e.value.length>0&&f()}function u(){return e.value.length>0&&!f()}function f(){return e.value.length===0?!1:i().length>0}const h=ye(()=>f());return{nsec:e,updateNsec:s,rememberMe:t,setRememberMe:r,isNsecValid:f,isValidNsecPresented:d,isNotValidNsecPresented:u,getPubkey:i,cachedNsec:n,updateCachedNsec:o,getPrivkeyBytes:a,getPrivkeyHex:c,getPrivkey:l,isNsecValidTemp:h}}),fs=_t("images",()=>{const e=L(!1);function t(n){e.value=n}return{showImages:e,updateShowImages:t}}),{normalizeURL:ht}=Gt,Ye=_t("relay",()=>{const e=L({}),t=L(!1),n=L(""),s=L(""),o=L(0),r=L([]),i=L([]),a=L([]),c=L([]),l=L([]),d=L(!1),u=L(!1),f=L([]),h=L([]),v=ye(()=>{const B=new Set([...c.value,...l.value]),N=[],ne=[];return B.forEach(ue=>{c.value.includes(ue)&&!l.value.includes(ue)?N.push({url:ue,type:"read"}):ne.push({url:ue,type:"write"})}),[...N,...ne].sort((ue,he)=>ue.url.localeCompare(he.url))}),g=ye(()=>{const B=new Set([...i.value,...a.value]);return e.value.connected&&B.add(e.value.url),[...B]}),m=ye(()=>h.value.length?h.value:g.value),w=ye(()=>v.value.map(B=>B.url)),x=ye(()=>{const B=e.value.url,N=w.value;return N.includes(B)?N:[B,...N]}),b=ye(()=>{const B=i.value,N=e.value;return N.connected&&!B.includes(N.url)&&B.push(N.url),B}),C=ye(()=>{const B=c.value,N=l.value,ne=new Set([...B,...N]),ue=[];return ne.forEach(he=>{B.includes(he)&&N.includes(he)?ue.push(["r",he]):B.includes(he)?ue.push(["r",he,"read"]):N.includes(he)&&ue.push(["r",he,"write"])}),ue}),P=ye(()=>f.value.map(B=>B.replace("wss://","").replace("/","")).join(", ")),k=ye(()=>e.value.connected);function D(B){e.value=B}function $(B){t.value=B}function T(B){i.value=B.map(N=>ht(N))}function I(B){const N=ht(B);N&&(i.value.includes(N)||i.value.push(N))}function V(B){a.value=B.map(N=>ht(N))}function z(B){const N=ht(B);N&&(a.value.includes(N)||a.value.push(N))}function J(B){a.value=a.value.filter(N=>N!==B)}function X(B){f.value=B.map(N=>ht(N))}function H(B){c.value=B.map(N=>ht(N))}function R(B){l.value=B.map(N=>ht(N))}function A(B){l.value.includes(B)||l.value.push(ht(B))}function F(B){l.value=l.value.filter(N=>N!==B)}function W(B){const N=ht(B);if(!N||w.value.includes(N))return!1;c.value.push(N)}function ee(B){c.value=c.value.filter(N=>N!==B),l.value=l.value.filter(N=>N!==B),i.value=i.value.filter(N=>N!==B),a.value=a.value.filter(N=>N!==B)}function oe(B){n.value=B==="custom"?"custom":ht(B)}function re(B){o.value=B}function de(B,N){r.value[B]=N.length?ht(N):""}function le(B){d.value=B}function Te(B){u.value=B}function ke(B){h.value=B.map(N=>ht(N))}function j(){e.value={},i.value=[],a.value=[],c.value=[],l.value=[],d.value=!1,u.value=!1,f.value=[],h.value=[]}return{isConnectingToRelay:t,setConnectionToRelayStatus:$,connectedUserReadRelayUrls:i,setConnectedUserReadRelayUrls:T,selectInputRelayUrl:n,setSelectedRelay:oe,selectInputCustomRelayUrl:s,currentRelay:e,updateCurrentRelay:D,additionalRelaysCountForSignedEvent:o,updateAdditionalRelaysCountForSignedEvent:re,additionalRelaysUrlsForSignedEvent:r,updateRelayAdditionalRelaysUrlsForSignedEvent:de,connectedFeedRelaysPrettyStr:P,reedRelays:c,writeRelays:l,setReedRelays:H,setWriteRelays:R,isConnectedToRelay:k,userReadWriteRelays:v,removeWriteRelay:F,addWriteRelay:A,removeUserRelay:ee,addUserRelay:W,nip65Tags:C,userReadWriteRelaysUrls:w,allRelaysUrlsWithSelectedRelay:x,connectedFeedRelaysUrls:f,setConnectedFeedRelayUrls:X,connectedUserReadRelayUrlsWithSelectedRelay:b,isConnectingToReadWriteRelays:d,setIsConnectingToReadWriteRelaysStatus:le,setConnectedUserWriteRelayUrls:V,connectedUserWriteRelaysUrls:a,connectedUserReadWriteUrlsWithSelectedRelay:g,setIsConnectedToReadWriteRelaysStatus:Te,isConnectedToReadWriteRelays:u,userChatRelaysUrls:m,setUserDMRelaysUrls:ke,clear:j,addConnectedUserReadRelay:I,addConnectedUserWriteRelay:z,removeConnectedUserWriteRelay:J}}),Qo=_t("metasCache",()=>{const e=L({});function t(i){e.value[i.pubkey]=i}function n(i){return e.value[i]||null}function s(i,a){e.value[i]=a}function o(i){return!!e.value[i]}function r(i){return e.value.hasOwnProperty(i)}return{metas:e,addMeta:t,getMeta:n,hasMeta:o,hasPubkey:r,setMetaValue:s}}),Wm={},qm={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-link-45deg",viewBox:"0 0 16 16"},Km=_("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"},null,-1),zm=_("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"},null,-1),Gm=[Km,zm];function Zm(e,t){return S(),U("svg",qm,Gm)}const xc=me(Wm,[["render",Zm]]),Jm={},Ym={xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-check2",viewBox:"0 0 16 16"},Qm=_("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0"},null,-1),Xm=[Qm];function ew(e,t){return S(),U("svg",Ym,Xm)}const Sc=me(Jm,[["render",ew]]),tw={},nw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-check-square",viewBox:"0 0 16 16"},sw=_("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"},null,-1),ow=_("path",{d:"M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},null,-1),rw=[sw,ow];function iw(e,t){return S(),U("svg",nw,rw)}const Kd=me(tw,[["render",iw]]),aw={},cw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-diagram-2-fill",viewBox:"0 0 16 16"},lw=_("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H11a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 5 7h2.5V6A1.5 1.5 0 0 1 6 4.5zm-3 8A1.5 1.5 0 0 1 4.5 10h1A1.5 1.5 0 0 1 7 11.5v1A1.5 1.5 0 0 1 5.5 14h-1A1.5 1.5 0 0 1 3 12.5zm6 0a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1A1.5 1.5 0 0 1 9 12.5z"},null,-1),uw=[lw];function dw(e,t){return S(),U("svg",cw,uw)}const fw=me(aw,[["render",dw]]),hw={},pw={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"bi bi-exclamation-octagon",viewBox:"0 0 16 16"},gw=_("path",{d:"M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"},null,-1),yw=_("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1),vw=[gw,yw];function _w(e,t){return S(),U("svg",pw,vw)}const zd=me(hw,[["render",_w]]),mw={class:"thread"},ww={key:0,class:"loading-thread"},bw={class:"event-card"},Ew={key:0,class:"event-img"},Rw=["src","title"],xw={key:1,class:"bi bi-person-circle author-pic__alternate"},Sw={class:"event-content"},kw={class:"event-header"},Cw=["href"],$w={class:"event-username-text"},Pw={key:0,class:"event-replying-to"},Iw={key:1,class:"replying-to-separator"},Aw=["href"],Tw={class:"event-body"},Lw={class:"event-footer"},Uw={class:"event-footer__right-actions"},Bw={class:"event-footer__link-wrapper"},Nw={class:"event__raw-data"},Mw={class:"event-footer-code-wrapper"},Ow={class:"event-footer__signature-text"},Fw={class:"event-footer__right-actions"},Hw={class:"event-footer__link-wrapper"},jw={key:0,class:"reply-field"},Vw={class:"reply-field__actions"},Dw={class:"reply-field__error"},Ww=["disabled"],qw={key:1,class:"loading-replies"},Kw={key:2,class:"replies"},zw=Se({__name:"EventContent",props:{event:{},pool:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},isMainEvent:{type:Boolean},currentReadRelays:{},threadDescender:{}},emits:["toggleRawData","showReplyField","loadRootReplies","resetSentStatus","loadMoreReplies"],setup(e,{emit:t}){const n=t,s=L(""),o=L(""),r=e,i=En(),a=us(),c=dt(),l=ds(),d=fs(),u=Ye(),f=Qo(),h=L(!1),v=L(!1),g=L([]),m=L(!1),w=L(!1),x=L(!1),b=L(!1),C=L([]),P=L(!1),k=R=>{if(r.isMainEvent)return n("toggleRawData",R);r.event.showRawData=!r.event.showRawData};vt(()=>{Object.keys(r.event).length!==0&&(x.value=Fn(r.event))});const D=(R,A)=>{if(R){let F="";if(R.name?F=R.name:R.username?F=R.username:F=R.display_name,F.length)return F}return Me.npubEncode(A).slice(0,10)+"..."},$=()=>{h.value=!h.value,n("showReplyField")},T=async()=>{if(v.value)return;if(!c.isValidNsecPresented()){o.value="Please login with your private key to send a reply.";return}const R=s.value.trim();if(!R.length){o.value="Please provide message to broadcast.";return}let A,F;try{if(A=c.getPrivkeyBytes(),!A)throw new Error;if(F=c.getPubkey(),!F.length)throw new Error}catch{o.value="Invalid private key. Please check it and try again.";return}const W=u.connectedUserWriteRelaysUrls;if(!W.length){o.value="Please provide your write relays to broadcast event";return}const ee={kind:1,pubkey:F,created_at:Math.floor(Date.now()/1e3),content:R,tags:[],id:"",sig:""},oe=[],re=[];r.event.tags.forEach(y=>{const E=[y[0],y[1]];y[2]&&E.push(y[2]),y[3]&&E.push(y[3]),E[0]==="e"?oe.push(E):E[0]==="p"&&re.push(E)});const de=[];if(oe.length){const y=oe.find(E=>E[3]==="root");y?de.push(y):de.push(oe[0]),de.push(["e",r.event.id,"","reply"])}else de.push(["e",r.event.id,"","root"]);const le=zi(ee),Te=re.map(y=>y[1]),ke=[];le.forEach(y=>{var M;const E=(M=y==null?void 0:y.profile)==null?void 0:M.pubkey;E&&!Te.includes(E)&&(ke.push(["p",E]),Te.push(E))});const j=[...ke,...re];Te.includes(r.event.pubkey)||j.push(["p",r.event.pubkey]),ee.tags=[...j,...de];const B=rt(ee,A);o.value="",v.value=!0;const N=j.filter(y=>y[1]!==F).map(y=>y[1]);let ne=[];const{pool:ue}=r;if(N.length){const y=[...u.reedRelays,...u.writeRelays,u.currentRelay.url],E=[...new Set(y)],M=await ue.querySync(E,{kinds:[10002],authors:N}),O=new Set;M.forEach(q=>{if(q.tags.length){const{read:Y}=Nd(q);Y.forEach(G=>{u.writeRelays.includes(G)||O.add(G)})}}),ne=[...O]}if(!(await Jn(W,ue,B)).some(y=>y.success)){o.value="Failed to broadcast reply";return}if(ne.length)try{await ue.publish(ne,B)}catch{console.error("Failed to broadcast reply to some additional relays")}if(v.value=!1,h.value=!1,s.value="",r.isMainEvent)return n("loadRootReplies");I()},I=async()=>{const{event:R,currentReadRelays:A,pool:F}=r;if(!(A!=null&&A.length)||!F)return;if(r.isMainEvent)return n("loadMoreReplies");b.value=!0;let W=await F.querySync(A,{kinds:[1],"#e":[R.id]});R.isRoot?W=Ud(R,W):W=Bd(R,W);const ee=r.threadDescender;if(W.length==1&&(ee==null?void 0:ee.id)===W[0].id){b.value=!1;return}await Mt(W,R,{},A,f,F,!1),g.value=W,m.value=!0,b.value=!1},V=()=>{m.value=!1},z=()=>{const{origin:R,pathname:A}=window.location;let F=Me.noteEncode(r.event.id);const W=`${R}${A}#/event/${F}`;navigator.clipboard.writeText(W),w.value=!0,setTimeout(()=>{w.value=!1},2e3)},J=R=>{const A=Me.npubEncode(R);a.updateNpubInput(A),l.updateRoutingStatus(!0),i.push({path:$s(R)})},X=async(R,A=null)=>{var oe,re;const{currentReadRelays:F,pool:W}=r;if(!(F!=null&&F.length)||!W)return[];const ee=kt.parse(R);if(!ee.root&&!ee.reply)return[];if(ee.root&&!ee.reply){let de=A;return de||(de=await W.get(F,{kinds:[1],ids:[ee.root.id]})),de?(await Mt([de],null,{},F,f,W,!0),[de]):[]}if(ee.reply){if(A||(A=await W.get(F,{kinds:[1],ids:[ee.reply.id]})),!A)return[];const de=kt.parse(A),le=((oe=de==null?void 0:de.reply)==null?void 0:oe.id)||((re=de==null?void 0:de.root)==null?void 0:re.id),Te=await jd(le||"",F,W);await Mt([A],Te,{},F,f,W,!1);const j=await X(A,Te);return[A,...j]}return[]},H=async()=>{const{event:R,pool:A,currentReadRelays:F}=r;if(!(F!=null&&F.length)||!A||P.value)return;P.value=!0;const ee=(await X(R,R.replyingTo.event)).reverse();P.value=!1,C.value=ee};return(R,A)=>{const F=Ms("EventContent",!0);return S(),U(Ee,null,[_("div",mw,[(S(!0),U(Ee,null,ut(C.value,(W,ee)=>(S(),U("div",{class:"ancestor",key:R.event.id},[fe(F,{onToggleRawData:()=>k(W.id),event:W,currentReadRelays:R.currentReadRelays,pool:R.pool,hasReplyBtn:R.hasReplyBtn,threadDescender:C.value[ee+1]?C.value[ee+1]:R.event},null,8,["onToggleRawData","event","currentReadRelays","pool","hasReplyBtn","threadDescender"])]))),128)),P.value?(S(),U("div",ww,"Loading thread...")):te("",!0)]),_("div",bw,[_("div",{class:ve(["event-card__content",{flipped:R.event.showRawData}])},[_("div",{class:ve(["event-card__front","event__presentable-date",{"event-card__front_custom":R.pubKey===R.event.pubkey}])},[Z(d).showImages?(S(),U("div",Ew,[R.event.author?(S(),U("img",{key:0,class:ve(["author-pic",{"author-pic__squared":!R.event.author.picture}]),src:R.event.author.picture,title:`Avatar for ${R.event.author.name}`,alt:"user's avatar"},null,10,Rw)):(S(),U("i",xw))])):te("",!0),_("div",Sw,[_("div",kw,[_("div",null,[_("a",{class:"event-username-link",onClick:A[0]||(A[0]=Bn(()=>J(R.event.pubkey),["prevent"])),href:Z($s)(R.event.pubkey)},[_("b",$w,se(D(R.event.author,R.event.pubkey)),1)],8,Cw)]),_("div",null,se(Z(Md)(R.event.created_at)),1)]),R.event.replyingTo?(S(),U("div",Pw,[R.isMainEvent?(S(),U("span",{key:0,onClick:H,class:"view-thread event-username-link event-username-text"},[fe(fw),Re(" View thread ")])):te("",!0),R.isMainEvent?(S(),U("span",Iw," | ")):te("",!0),_("span",null,[Re(" Replying to "),_("a",{onClick:A[1]||(A[1]=Bn(()=>J(R.event.replyingTo.pubkey),["prevent"])),href:Z($s)(R.event.replyingTo.pubkey),class:"event-username-link event-username-text"},"@"+se(D(R.event.replyingTo.user,R.event.replyingTo.pubkey)),9,Aw)])])):te("",!0),_("div",Tw,[fe(Mm,{event:R.event},null,8,["event"])]),_("div",Lw,[fe(Am,{onShowReplyField:$,onHandleShowReplies:I,onHandleHideReplies:V,hasReplyBtn:R.hasReplyBtn,likes:R.event.likes,reposts:R.event.reposts,replies:R.event.replies},null,8,["hasReplyBtn","likes","reposts","replies"]),_("div",Uw,[_("div",Bw,[w.value?(S(),Ie(Sc,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):te("",!0),w.value?te("",!0):(S(),Ie(xc,{key:1,onClick:z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:A[2]||(A[2]=()=>k(R.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])])],2),_("div",{class:ve(["event-card__back",{"event-card__back_custom":R.pubKey===R.event.pubkey,"event-details-first":R.index===0}])},[_("div",Nw,[fe(Wd,{event:R.event,authorEvent:R.event.authorEvent},null,8,["event","authorEvent"])]),_("div",Mw,[_("div",{class:ve(["event-footer__signature",{"event-footer__signature_invalid":!x.value}])},[x.value?(S(),Ie(Kd,{key:0})):te("",!0),x.value?te("",!0):(S(),Ie(zd,{key:1})),_("span",Ow,se(x.value?"Signature is valid":"Invalid signature"),1)],2),_("div",Fw,[_("div",Hw,[w.value?(S(),Ie(Sc,{key:0,class:"event-footer-copy-icon event-footer-copy-icon_check"})):te("",!0),w.value?te("",!0):(S(),Ie(xc,{key:1,onClick:z,title:"Copy link",class:"event-footer-copy-icon"}))]),_("span",{onClick:A[3]||(A[3]=()=>k(R.event.id)),title:"See raw data",class:"event-footer-code"}," {...} ")])])],2)],2)]),h.value?(S(),U("div",jw,[qt(_("textarea",{"onUpdate:modelValue":A[4]||(A[4]=W=>s.value=W),rows:"4",class:"reply-field__textarea",placeholder:"Write a reply..."},null,512),[[Kt,s.value]]),_("div",Vw,[_("div",Dw,se(o.value),1),_("button",{disabled:v.value,onClick:T,class:"reply-field__btn"},se(v.value?"Sending reply...":"Reply"),9,Ww)])])):te("",!0),b.value?(S(),U("div",qw,"Loading replies...")):te("",!0),m.value&&g.value.length?(S(),U("div",Kw,[(S(!0),U(Ee,null,ut(g.value,W=>(S(),U("div",{class:"reply",key:W.id},[fe(F,{onToggleRawData:A[5]||(A[5]=()=>k(R.event.id)),event:W,currentReadRelays:R.currentReadRelays,pool:R.pool,hasReplyBtn:R.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"])]))),128))])):te("",!0)],64)}}});const kr=me(zw,[["__scopeId","data-v-48e6ed81"]]),Gw={},Zw={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-expand",viewBox:"0 0 16 16"},Jw=_("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8ZM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2ZM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10Z"},null,-1),Yw=[Jw];function Qw(e,t){return S(),U("svg",Zw,Yw)}const Xw=me(Gw,[["render",Qw]]),Ft=_t("pool",()=>{const e=L(new Ns);function t(){e.value=new Ns}return{pool:e,resetPool:t}}),Gd=e=>(st("data-v-5f3cf145"),e=e(),ot(),e),eb={class:"event"},tb={key:0},nb={key:1,class:"replies"},sb={class:"replies__other-link"},ob=Gd(()=>_("span",{class:"replies__other-text"}," Show more replies ",-1)),rb={key:1,class:"replies__other"},ib={key:2,class:"replies__other"},ab={class:"replies__other-text"},cb={key:4},lb={key:5,class:"replies__list"},ub={class:"replies__list-item"},db=Gd(()=>_("div",{class:"replies__list-item-line-horizontal"},null,-1)),fb=Se({__name:"ParentEventView",props:{event:{},pubKey:{},index:{},hasReplyBtn:{type:Boolean},showRootReplies:{type:Boolean},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=Qo(),o=Ft().pool,r=t,i=e,a=L(!1),c=L(!1),l=L(!1),d=L(!1),u=L(!1),f=L(null),h=L([]);vt(async()=>{await v()});const v=async()=>{const{event:b,currentReadRelays:C}=i;if(!C.length)return;let P=await o.querySync(C,{kinds:[1],"#e":[b.id]});if(i.showRootReplies?P=P.filter($=>Fd(b.id,$)):P=P.filter($=>Hd(b.id,$)),!P.length)return;u.value=!0,c.value=P.length>1;const k=P[0];await Mt([k],b,{},C,n,o,!1,$=>{f.value=$,u.value=!1})},g=(b,C=!1)=>{if(C)return r("toggleRawData",b)},m=()=>{a.value=!a.value},w=async()=>{const{event:b,currentReadRelays:C}=i;if(!C.length)return;d.value=!0;let P=await o.querySync(C,{kinds:[1],"#e":[b.id]});if(b.isRoot?P=Ud(b,P):P=Bd(b,P),!P.length){d.value=!1;return}await Mt(P,b,{},C,n,o,!1),h.value=P,l.value=!0,d.value=!1},x=async()=>{a.value=!1,l.value?await w():await v()};return(b,C)=>(S(),U("div",eb,[(S(),Ie(kr,{key:b.event.id,onLoadRootReplies:x,onShowReplyField:m,onToggleRawData:C[0]||(C[0]=P=>g(P,!0)),onLoadMoreReplies:w,event:b.event,pubKey:b.pubKey,isMainEvent:!0,currentReadRelays:b.currentReadRelays,pool:Z(o),hasReplyBtn:b.hasReplyBtn},null,8,["event","pubKey","currentReadRelays","pool","hasReplyBtn"])),u.value?(S(),U("div",tb,"Loading replies...")):te("",!0),f.value?(S(),U("div",nb,[!l.value&&c.value&&!d.value?(S(),U("div",{key:0,onClick:w,class:"replies__other"},[_("span",sb,[ob,fe(Xw)])])):te("",!0),d.value?(S(),U("div",rb,"Loading replies...")):te("",!0),l.value&&c.value?(S(),U("div",ib,[_("span",ab," Loaded "+se(h.value.length)+" replies ",1)])):te("",!0),_("div",{class:ve(["line-vertical",{"line-vertical_long":c.value,"line-vertical_reply-field":a.value&&!c.value,"line-vertical_reply-field_long":a.value&&c.value}])},null,2),l.value?te("",!0):(S(),U("div",{key:3,class:ve(["line-horizontal",{"line-horizontal_height":c.value}])},null,2)),l.value?te("",!0):(S(),U("div",cb,[(S(),Ie(kr,{key:f.value.id,event:f.value,currentReadRelays:b.currentReadRelays,pool:Z(o),hasReplyBtn:b.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))])),l.value?(S(),U("div",lb,[(S(!0),U(Ee,null,ut(h.value,(P,k)=>(S(),U("div",ub,[db,_("div",{class:ve(["replies__list-item-line-vertical",{"replies__list-item-line-vertical_short":k===h.value.length-1}])},null,2),(S(),Ie(kr,{key:P.id,event:P,currentReadRelays:b.currentReadRelays,pool:Z(o),hasReplyBtn:b.hasReplyBtn},null,8,["event","currentReadRelays","pool","hasReplyBtn"]))]))),256))])):te("",!0)])):te("",!0)]))}});const Zd=me(fb,[["__scopeId","data-v-5f3cf145"]]),hb=Se({__name:"RelayEventsList",props:{events:{},pubKey:{},currentReadRelays:{}},emits:["toggleRawData"],setup(e,{emit:t}){const n=t,s=o=>{n("toggleRawData",o)};return(o,r)=>(S(),U("div",null,[(S(!0),U(Ee,null,ut(o.events,(i,a)=>(S(),Ie(Zd,{key:i.id,class:"event",onToggleRawData:s,currentReadRelays:o.currentReadRelays,event:i,pubKey:o.pubKey,index:a,showRootReplies:!0,hasReplyBtn:!0},null,8,["currentReadRelays","event","pubKey","index"]))),128))]))}});const pb=me(hb,[["__scopeId","data-v-421078f4"]]),gb={key:0,class:"pagination"},yb={key:0},vb={key:1},_b={key:1},mb={key:4},wb=Se({__name:"Pagination",props:{pagesCount:{},currentPage:{}},emits:["showPage"],setup(e,{emit:t}){const n=t,s=No(),o=r=>({path:s.path,query:{...s.query,page:r}});return qe(()=>s.query.page,async r=>{const i=parseInt(r);i&&n("showPage",i)}),(r,i)=>{const a=Ms("router-link");return r.pagesCount>1?(S(),U("div",gb,[Re(" Pages: "),r.pagesCount<5?(S(),U("span",yb,[(S(!0),U(Ee,null,ut(r.pagesCount,c=>(S(),Ie(a,{key:c,class:ve(["pagination__link",{pagination__link_active:r.currentPage==c}]),to:o(c)},{default:ct(()=>[Re(se(c),1)]),_:2},1032,["class","to"]))),128))])):te("",!0),r.pagesCount>=5?(S(),U("span",vb,[r.currentPage>=3?(S(),Ie(a,{key:1,class:ve(["pagination__link"]),to:o(1)},{default:ct(()=>[Re(se(1))]),_:1},8,["to"])):te("",!0),r.currentPage>3?(S(),U("span",_b,"...")):te("",!0),r.currentPage!=1?(S(),Ie(a,{key:r.currentPage-1,class:ve(["pagination__link"]),to:o(r.currentPage-1)},{default:ct(()=>[Re(se(r.currentPage-1),1)]),_:1},8,["to"])):te("",!0),(S(),Ie(a,{key:r.currentPage,class:ve(["pagination__link pagination__link_active"]),to:o(r.currentPage)},{default:ct(()=>[Re(se(r.currentPage),1)]),_:1},8,["to"])),r.currentPage!=r.pagesCount?(S(),Ie(a,{key:r.currentPage+1,class:ve(["pagination__link"]),to:o(r.currentPage+1)},{default:ct(()=>[Re(se(r.currentPage+1),1)]),_:1},8,["to"])):te("",!0),r.currentPage<r.pagesCount-2?(S(),U("span",mb,"...")):te("",!0),r.currentPage<=r.pagesCount-2?(S(),Ie(a,{key:r.pagesCount,class:ve(["pagination__link"]),to:o(r.pagesCount)},{default:ct(()=>[Re(se(r.pagesCount),1)]),_:1},8,["to"])):te("",!0)])):te("",!0)])):te("",!0)}}});const Jd=me(wb,[["__scopeId","data-v-6b61b6ba"]]),xn=_t("feed",()=>{const e=L([]),t=L(!1),n=L([]),s=L(0),o=L([]),r=L([]),i=L(""),a=L(""),c=L(0),l=L("network"),d=ye(()=>e.value.map(le=>le.id)),u=ye(()=>l.value==="follows"),f=ye(()=>l.value==="network"),h=L(!1),v=L(!1),g=L(!1),m=L(!1),w=L(!1),x=L(new Ns);function b(){oe(),e.value=[],t.value=!1,o.value=[],r.value=[],l.value="network",h.value=!1,v.value=!1,g.value=!1}function C(le){e.value=le}function P(le){e.value.push(le)}function k(le){const Te=e.value.find(ke=>ke.id===le);Te&&(Te.showRawData=!Te.showRawData)}function D(le){t.value=le}function $(le){n.value=le}function T(le){s.value=le}function I(le){o.value=le}function V(le){o.value.push(le)}function z(le){r.value=le}function J(le){r.value.push(le)}function X(le){i.value=le}function H(le){a.value=le}function R(le){h.value=le}function A(le){g.value=le}function F(le){v.value=le}function W(le){l.value=le==="follows"?le:"network"}function ee(le){m.value=le}function oe(){clearInterval(c.value),c.value=0}function re(){x.value=new Ns}function de(le){w.value=le}return{events:e,updateEvents:C,toggleEventRawData:k,showNewEventsBadge:t,setShowNewEventsBadge:D,newEventsBadgeImageUrls:n,setNewEventsBadgeImageUrls:$,newEventsBadgeCount:s,setNewEventsBadgeCount:T,newEventsToShow:o,updateNewEventsToShow:I,pushToNewEventsToShow:V,paginationEventsIds:r,updatePaginationEventsIds:z,pushToPaginationEventsIds:J,messageToBroadcast:i,updateMessageToBroadcast:X,signedJson:a,updateSignedJson:H,selectedFeedSource:l,setSelectedFeedSource:W,isFollowsSource:u,isNetworkSource:f,isLoadingFeedSource:h,setLoadingFeedSourceStatus:R,setLoadingNewEventsStatus:F,isLoadingNewEvents:v,pushToEvents:P,setLoadingMoreStatus:A,isLoadingMore:g,isMountAfterLogin:m,setMountAfterLogin:ee,eventsId:d,newEventsBadgeUpdateInterval:c,clearNewEventsBadgeUpdateInterval:oe,clear:b,pool:x,resetPool:re,toRemountFeed:w,setToRemountFeed:de}}),Yd=e=>(st("data-v-2d4fce59"),e=e(),ot(),e),bb=["disabled","rows"],Eb={class:"message-footer"},Rb=Yd(()=>_("i",{class:"bi bi-braces presigned-icon"},null,-1)),xb=Yd(()=>_("span",null,"Send presigned message",-1)),Sb=[Rb,xb],kb=["disabled"],Cb={class:"error"},$b={class:"warning"},Pb=Se({__name:"MessageInput",props:{sentEventIds:{},isSendingMessage:{type:Boolean}},emits:["broadcastEvent","toggleMessageType","clearBroadcastError"],setup(e,{emit:t}){const n=e,s=t,o=dt(),r=xn(),i=Ye(),a=L(""),c=L(""),l=L(!1),d=L(3);qe(()=>a.value,m=>{m.length&&setTimeout(()=>{a.value=""},5e3)});const u=async()=>{if(s("clearBroadcastError"),c.value="",!o.isValidNsecPresented()){a.value="Please login with your private key or generate random key in settings.";return}const m=r.messageToBroadcast;if(!m.length){a.value="Please provide message to broadcast.";return}let w,x;try{if(w=o.getPrivkeyBytes(),!w)throw new Error;if(x=o.getPubkey(),!x.length)throw new Error}catch{a.value="Invalid private key. Please check it and try again.";return}const b={kind:1,pubkey:x,created_at:Math.floor(Date.now()/1e3),content:m,tags:[],id:"",sig:""},C=rt(b,w);if(n.sentEventIds.has(C.id)){a.value="The same event can't be sent twice (same id, signature).";return}a.value="",s("broadcastEvent",C,"text")},f=()=>{const m=r.messageToBroadcast;if(!m.length)return;let w=m.split(`
`).length;w<3&&(w=3),d.value=w},h=()=>{l.value=!0,!a.value.length&&!o.isValidNsecPresented()&&(c.value="Please login to broadcast the message. Or send a presigned message.")},v=()=>{l.value=!1,c.value=""},g=()=>{s("toggleMessageType")};return(m,w)=>(S(),U(Ee,null,[_("div",{class:ve(["message-field",{active:l.value}])},[qt(_("textarea",{disabled:!Z(i).isConnectedToRelay,class:"message-input",name:"message",id:"message",rows:d.value,"onUpdate:modelValue":w[0]||(w[0]=x=>Z(r).messageToBroadcast=x),onInput:f,onFocus:h,onBlur:v,placeholder:"What do you want to say?"},null,40,bb),[[Kt,Z(r).messageToBroadcast,void 0,{trim:!0}]]),_("div",Eb,[_("button",{onClick:g,class:"send-presigned-btn"},Sb),_("button",{disabled:m.isSendingMessage||!Z(i).isConnectedToRelay,class:ve(["send-btn",{disabled:m.isSendingMessage||!Z(i).isConnectedToRelay}]),onClick:u},se(m.isSendingMessage?"Posting...":"Post"),11,kb)])],2),_("div",Cb,se(a.value),1),_("div",$b,se(c.value),1)],64))}});const Ib=me(Pb,[["__scopeId","data-v-2d4fce59"]]),hs=e=>(st("data-v-7a0c8f52"),e=e(),ot(),e),Ab={class:"signed-message-desc"},Tb=hs(()=>_("p",{class:"signed-message-desc_p"},[Re(" Event should be signed with your private key in advance. More details about events and signatures are "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/01.md#events-and-signatures"},"here"),Re(". ")],-1)),Lb={class:"signed-message-desc_p"},Ub=hs(()=>_("br",null,null,-1)),Bb={class:"warning"},Nb={key:0,class:"additional-relays"},Mb={class:"additional-relay-field"},Ob=hs(()=>_("span",{class:"aditinal-relay-num"},"1.",-1)),Fb=["value"],Hb={class:"additional-relay-field"},jb={class:"aditinal-relay-num"},Vb=["onInput"],Db=hs(()=>_("div",{class:"message-field-label"},[_("label",{for:"signed_json"},[_("strong",null,"JSON of a signed event")])],-1)),Wb=["disabled"],qb={class:"message-footer"},Kb=hs(()=>_("i",{class:"bi bi-pencil-square post-icon"},null,-1)),zb=hs(()=>_("span",null,"New post within your profile",-1)),Gb=[Kb,zb],Zb=["disabled"],Jb={class:"error"},Yb={class:"warning"},Qb=Se({__name:"SignedEventInput",props:{isSendingMessage:{type:Boolean},sentEventIds:{}},emits:["broadcastEvent","toggleMessageType","clearBroadcastError"],setup(e,{emit:t}){const n=t,s=Ye(),o=xn(),r=L(""),i=L(""),a=L(""),c=L(!1),l=()=>{if(n("clearBroadcastError"),!o.signedJson.length){r.value="Please provide a signed event.";return}let g;try{g=JSON.parse(o.signedJson)}catch{r.value="Invalid JSON. Please check it and try again.";return}if(!s.isConnectedToRelay){r.value="Please connect to broadcast the message.";return}r.value="",n("broadcastEvent",g,"json")},d=()=>{if(!s.isConnectedToRelay){a.value="Please connect first to add relays and broadcast the message.",setTimeout(()=>{a.value=""},5e3);return}const g=s.additionalRelaysCountForSignedEvent+1;s.updateAdditionalRelaysCountForSignedEvent(g)},u=(g,m)=>{var x;const w=(x=g==null?void 0:g.target)==null?void 0:x.value.trim();s.updateRelayAdditionalRelaysUrlsForSignedEvent(m,w)},f=()=>{n("toggleMessageType")},h=()=>{c.value=!0},v=()=>{c.value=!1,i.value=""};return(g,m)=>{var w,x;return S(),U(Ee,null,[_("div",Ab,[Tb,_("p",Lb,[Re(" Event will be broadcasted to a selected relay("),_("em",null,se(Z(s).isConnectedToRelay?Z(s).currentRelay.url:"available after connect"),1),Re("). You can add more relays to retransmit the event. "),Ub]),_("p",{class:"signed-message-desc_p"},[_("button",{class:"additional-relay-btn button",onClick:d},"Add relay")]),_("div",Bb,se(a.value),1),Z(s).additionalRelaysCountForSignedEvent>0?(S(),U("div",Nb,[_("div",Mb,[Ob,_("input",{class:"additional-relay-input",readonly:"",value:(w=Z(s).currentRelay)!=null&&w.url?`${(x=Z(s).currentRelay)==null?void 0:x.url} (selected)`:"Firstly connect to default relay",type:"text"},null,8,Fb)]),(S(!0),U(Ee,null,ut(Z(s).additionalRelaysCountForSignedEvent,b=>(S(),U("div",{key:b},[_("div",Hb,[_("span",jb,se(b+1)+".",1),_("input",{class:"additional-relay-input",onInput:C=>u(C,b),placeholder:"[wss://]relay.example.com",type:"text"},null,40,Vb)])]))),128))])):te("",!0)]),Db,_("div",{class:ve(["message-field",{active:c.value}])},[qt(_("textarea",{disabled:!Z(s).isConnectedToRelay,class:"message-input",name:"signed_json",id:"signed_json",cols:"30",rows:"5",onFocus:h,onBlur:v,"onUpdate:modelValue":m[0]||(m[0]=b=>Z(o).signedJson=b),placeholder:'{"kind":1,"pubkey":"5486dbb083512982669fa180aa02d722ce35054233cea724061fbc5f39f81aa3","created_at":1685664152,"content":"Test message ","tags":[],"id":"89adae408121ba6d721203365becff4d312292a9dd9b7a35ffa230a1483b09a2","sig":"b2592ae88ba1040c928e458dd6822413f148c8cc4f478d992e024e8c9d9648b96e6ce6dc564ab5815675007f824d9e9f634f8dbde554afeb6e594bcaac4389dd"}'},null,40,Wb),[[Kt,Z(o).signedJson,void 0,{trim:!0}]]),_("div",qb,[_("button",{onClick:f,class:"send-presigned-btn"},Gb),_("button",{disabled:g.isSendingMessage||!Z(s).isConnectedToRelay,class:ve(["button send-btn",{disabled:!Z(s).isConnectedToRelay}]),onClick:l},se(g.isSendingMessage?"Posting...":"Post"),11,Zb)])],2),_("div",Jb,se(r.value),1),_("div",Yb,se(i.value),1)],64)}}});const Xb=me(Qb,[["__scopeId","data-v-7a0c8f52"]]),e2={class:"message-field-wrapper"},t2={class:"error"},n2=Se({__name:"MessageWrapper",props:{newEvents:{}},emits:["loadNewRelayEvents"],setup(e,{emit:t}){const n=Ye();dt();const s=xn(),r=Ft().pool,i=t,a=e,c=L(new Set),l=L(!1),d=L(!1),u=L(""),f=()=>{l.value=!l.value},h=async(m,w)=>{let x=[];if(d.value)return;if(d.value=!0,w==="json"){const T=n.additionalRelaysUrlsForSignedEvent;let I=[];if(T.length){let V=`Message was not sent. Can't connect to the next relays: 
`,z=!1;for(const X of T)if(X!=null&&X.length){if(!await vo(X)){z=!0,V+=`- ${X} 
`;continue}I.push(X)}const J=n.currentRelay.url;if(await vo(J)||(z=!0,V+=`- ${J} 
`),z){V+="Relays are unavailable or you are offline. Please try again or change the list of relays.",u.value=V,d.value=!1;return}}x=[n.currentRelay.url,...I],x=[...new Set(x)]}if(w==="text"&&(x=n.connectedUserWriteRelaysUrls),!x.length)return v(null,"No relays to broadcast the message. Please provide the list of write relays in settings.");const b=n.connectedFeedRelaysUrls;let C=null,P;if(b.some(T=>x.includes(T))){const T=[{ids:[m.id]}];C=r.subscribeMany(b,T,{onevent(I){P=setInterval(()=>{a.newEvents.some(V=>V.id===I.id)&&(i("loadNewRelayEvents"),C==null||C.close())},100)},onclose(){clearInterval(P)}})}if((await Jn(x,r,m)).every(T=>T.success===!1))return v(C,"Failed to broadcast the message. Please check the connection or there may be a problem on the all provided relays. Also please try again.");if(w==="json"&&x.length>1){const T=await Promise.all(x.map(async J=>{const X=await r.get([J],{ids:[m.id]});return{relay:J,success:!!X}}));if(T.some(J=>J.success===!1)){let J=`Event was sent, but the next relay(s) were not accepted event for some reason: 
`;if(T.forEach(H=>{H.success||(J+=`- ${H.relay} 
`)}),T.every(H=>H.success===!1))return v(C,J)}const V=T.filter(J=>J.success).map(J=>J.relay);b.some(J=>V.includes(J))&&(i("loadNewRelayEvents"),C==null||C.close())}else if((await r.querySync(x,{ids:[m.id]})).length)i("loadNewRelayEvents"),C==null||C.close();else return v(C,"Failed to broadcast the message. Please check the connection or there may be a problem with relay(s).");w==="text"&&s.updateMessageToBroadcast(""),w==="json"&&s.updateSignedJson(""),c.value.add(m.id),d.value=!1},v=(m,w)=>{u.value=w,m==null||m.close(),d.value=!1},g=()=>{u.value=""};return(m,w)=>(S(),U("div",e2,[l.value?(S(),Ie(Xb,{key:0,onBroadcastEvent:h,onToggleMessageType:f,onClearBroadcastError:g,sentEventIds:c.value,isSendingMessage:d.value},null,8,["sentEventIds","isSendingMessage"])):(S(),Ie(Ib,{key:1,onBroadcastEvent:h,onToggleMessageType:f,onClearBroadcastError:g,sentEventIds:c.value,isSendingMessage:d.value},null,8,["sentEventIds","isSendingMessage"])),_("div",t2,se(u.value),1)]))}});const s2=me(n2,[["__scopeId","data-v-cf86de64"]]),o2={class:"dropdown"},r2=["data-value"],i2=Se({__name:"Dropdown",props:{listItems:{},simpleStyling:{type:Boolean},disabled:{type:Boolean},selectedKey:{}},emits:["handleSelect"],setup(e,{emit:t}){const n=L(null),s=L(null),o=L(null),r=t,i=e,a=L(0);vt(()=>{if(o.value=document.querySelector(".active"),document.addEventListener("click",f=>{const h=f.target,{classList:v}=h;v.contains("item")||v.contains("select-button")||v.contains("items")||u()}),document.addEventListener("keydown",f=>{f.key==="Escape"&&u()}),i.selectedKey){const f=i.listItems.findIndex(h=>h.key===i.selectedKey);f!==-1&&(a.value=f)}});const c=()=>{i.disabled||n.value&&n.value.classList.toggle("open")},l=f=>{if(!n.value||!s.value)return;const h=f.target;if(!h.classList.contains("item"))return;d(h),u();const v=h.dataset.value;r("handleSelect",v)},d=f=>{s.value&&(s.value.textContent=f.textContent,o.value&&o.value.classList.remove("active"),f.classList.add("active"),o.value=f)},u=()=>{n.value&&n.value.classList.remove("open")};return(f,h)=>(S(),U("div",o2,[_("button",{ref_key:"selectBtn",ref:s,onClick:c,class:ve(["select-button",{simple:f.simpleStyling,disabled:f.disabled}])},se(f.listItems[a.value].value),3),_("ul",{ref_key:"items",ref:n,class:"items",onClick:l},[(S(!0),U(Ee,null,ut(f.listItems,(v,g)=>(S(),U("li",{key:`item-${g}`,"data-value":v.key,class:ve(["item",{active:g===a.value}])},se(v.value),11,r2))),128))],512)]))}});const Qd=me(i2,[["__scopeId","data-v-206086dd"]]),a2=Se({__name:"FeedSourceSelect",props:{disabled:{type:Boolean}},emits:["showFeedNotice"],setup(e,{emit:t}){const n=e,s=t,o=dt(),r=xn(),i=Ye(),a=[{key:"network",value:"Network"},{key:"follows",value:"Follows"}],c=l=>{if(!i.isConnectedToRelay)return s("showFeedNotice","Please connect and login to load posts from people you follow.");if(!o.isValidNsecPresented()&&l==="follows")return s("showFeedNotice","Please login to load posts from people you follow.");s("showFeedNotice",""),r.setSelectedFeedSource(l)};return(l,d)=>(S(),Ie(Qd,{disabled:n.disabled,simpleStyling:!0,listItems:a,selectedKey:Z(r).selectedFeedSource,onHandleSelect:c},null,8,["disabled","selectedKey"]))}}),c2={class:"wrapper"},l2={class:"custom-checkbox"},u2=["checked"],d2=_("span",{class:"checkmark"},null,-1),f2=_("span",{class:"label-text",for:"show-feed-images"}," Show avatars ",-1),Xd=Se({__name:"ShowImagesCheckbox",setup(e){const t=fs(),n=()=>{t.updateShowImages(!t.showImages)};return(s,o)=>{const r=Ms("router-link");return S(),U("div",c2,[_("div",l2,[_("label",null,[_("input",{id:"show-feed-images",onChange:n,checked:Z(t).showImages,type:"checkbox"},null,40,u2),d2,f2])]),_("small",null,[Re(" ("),fe(r,{to:{path:"/help",hash:"#privacy"}},{default:ct(()=>[Re("Exposes your IP")]),_:1}),Re(") ")])])}}});const h2={class:"feed-header"},p2={key:0,class:"warning"},g2=Se({__name:"FeedHeader",props:{isDisabledSourceSelect:{type:Boolean}},setup(e){const t=e,n=L(""),s=o=>{n.value=o,setTimeout(()=>{n.value=""},5e3)};return(o,r)=>(S(),U(Ee,null,[_("div",h2,[fe(a2,{class:"dropdown",disabled:t.isDisabledSourceSelect,onShowFeedNotice:s},null,8,["disabled"]),fe(Xd)]),n.value.length?(S(),U("div",p2,se(n.value),1)):te("",!0)],64))}});const y2=me(g2,[["__scopeId","data-v-03f1c3ab"]]),v2="wss://nos.lol",_2=["wss://nos.lol","wss://relay.damus.io","wss://relay.snort.social","wss://relay.nostr.band","wss://eden.nostr.land"],kc=["wss://nos.lol","wss://relay.damus.io","wss://relay.nostr.band","wss://relay.snort.social","wss://relay.primal.net","wss://eden.nostr.land","wss://nostr.wine","wss://offchain.pub","wss://relay.nostr.bg","wss://relay.mostr.pub"],Tn=20,m2=e=>new Promise(t=>setTimeout(t,e)),w2=async e=>{let t;try{try{t=await ni.connect(e)}catch{await m2(500),t=await ni.connect(e)}}catch{let s=`WebSocket connection to "${e}" failed. You can try again `;throw navigator.onLine?s+="Check WebSocket address. Relay address should be a correct WebSocket URL. Maybe the relay is unavailable or you are offline.":s+="or check your internet connection.",new Error(s)}return t},b2=async e=>{const t=[],n=[];return e.length&&(await Promise.all(e.map(async o=>{const r=await vo(o.url);return{url:o.url,connected:r,type:o.type}}))).forEach(o=>{o.connected&&(t.push(o.url),o.type==="write"&&n.push(o.url))}),{userConnectedReadRelays:t,userConnectedWriteRelays:n}},E2=async(e,t,n)=>{const s={};let o=[];if(e.tags.length){o=e.tags.map(l=>l[1]);const r=await n.querySync(t,{kinds:[10002],authors:o}),i=new Set;r.forEach(l=>{l.tags.forEach(d=>{if(d[0]!=="r")return;const u=Gt.normalizeURL(d[1]);t.includes(u)||i.add(u)})});const c=(await Promise.all(Array.from(i).map(async l=>{const d=await vo(l,1e3);return{url:l,connected:d}}))).filter(l=>l.connected).map(l=>l.url);r.forEach(l=>{const d=[];l.tags.forEach(u=>{if(u[0]!=="r")return;const f=Gt.normalizeURL(u[1]);(c.includes(f)||t.includes(f))&&d.push(f)}),s[l.pubkey]=d})}return s},R2=e=>new Promise((t,n)=>{if(e.readyState===WebSocket.CLOSING||e.readyState===WebSocket.CLOSED){t(!0);return}e.onclose=function(){t(!0)},e.onerror=function(){n(!1)},e.close()}),oi=async e=>{try{const t=[];e.relays.forEach(n=>{n.connected&&t.push(R2(n.ws))}),await Promise.all(t)}catch(t){console.error("Error while closing websocket:",t)}},x2=e=>(st("data-v-fd8ac58c"),e=e(),ot(),e),S2={id:"feed"},k2={class:"columns"},C2={key:0,class:"connecting-notice"},$2={key:1,class:"connecting-notice"},P2={key:0,class:"new-events__imgs"},I2=["src"],A2=["src"],T2={class:"new-events__text"},L2=x2(()=>_("b",{class:"new-events__arrow"},"",-1)),U2={key:3,class:"loading-more"},B2=Se({__name:"Feed",props:{eventsLog:{}},setup(e){const t=Ye(),n=fs(),s=xn(),o=dt(),r=Ft(),i=Qo(),a=ye(()=>s.newEventsBadgeImageUrls[0]),c=ye(()=>s.newEventsBadgeImageUrls[1]),l=No(),d=En(),u=L(1),f=ye(()=>Math.ceil(s.paginationEventsIds.length/Tn)),h=ye(()=>l.path);let v=L([]);const g=r.pool,m=L(!1);qe(()=>l.path,()=>{u.value>1&&k(1)}),qe(()=>s.selectedFeedSource,async()=>{t.currentRelay.connected&&o.isValidNsecPresented()&&await w()}),qe(()=>s.isMountAfterLogin,()=>{s.isMountAfterLogin&&(s.setMountAfterLogin(!1),b())},{immediate:!0}),vt(()=>{f.value>1&&k(1),s.toRemountFeed&&(s.setToRemountFeed(!1),x())});const w=async()=>{await x()},x=async()=>{if(m.value=!0,s.newEventsBadgeUpdateInterval&&s.clearNewEventsBadgeUpdateInterval(),s.pool)try{await oi(s.pool),s.resetPool()}catch($){console.error("Error while closing websocket:",$)}s.setShowNewEventsBadge(!1),s.updateNewEventsToShow([]),s.updatePaginationEventsIds([]),s.updateEvents([]),await b()};async function b(){m.value=!0,s.setLoadingFeedSourceStatus(!0);const $=o.getPubkey();let T=t.connectedUserReadRelayUrls.length?t.connectedUserReadRelayUrls:[t.currentRelay.url],I={};const V=new Set;let z=[];if(s.isFollowsSource&&$.length){const A=await g.get(T,{kinds:[lt.FOLLOW_LIST],limit:1,authors:[$]});if(A){z=A.tags.map(F=>F[1]),I=await E2(A,T,g);for(const F of Object.values(I))F.forEach(W=>V.add(W))}}V.size&&(T=Array.from(V)),t.setConnectedFeedRelayUrls(T);let J={kinds:[1],limit:Tn};z.length&&(J.authors=z);let X=await H1(g,T,[J]);X=X.sort((A,F)=>F.created_at-A.created_at),await Mt(X,null,I,T,i,g,!0,A=>{s.pushToEvents(A),s.isLoadingFeedSource&&(s.setLoadingFeedSourceStatus(!1),s.setLoadingMoreStatus(!0)),s.pushToPaginationEventsIds(A.id)}),s.setLoadingMoreStatus(!1);let R={kinds:[1],limit:1};z.length&&(R.authors=z),await C(T,R),s.newEventsBadgeUpdateInterval=setInterval(P,3e3),m.value=!1}async function C($,T){var I;await((I=s.pool)==null?void 0:I.subscribeMany($,[T],{onevent(V){if(s.eventsId.includes(V.id))return;const z=kt.parse(V);z.reply||z.root||(v.value.push({id:V.id,pubkey:V.pubkey}),s.pushToNewEventsToShow({id:V.id,pubkey:V.pubkey}))},onclose(V){console.warn("Subscription closed",V)}}))}async function P(){var F,W;const $=t.connectedFeedRelaysUrls;if(!$.length)return;const T=s.newEventsToShow;if(T.length<2||!s.newEventsBadgeUpdateInterval)return;s.setNewEventsBadgeCount(T.length),s.setShowNewEventsBadge(!0);const I=T[T.length-1].pubkey,V=T[T.length-2].pubkey,z={kinds:[0],authors:[I],limit:1},J={kinds:[0],authors:[V],limit:1},X=await g.querySync($,z),H=await g.querySync($,J);if(!s.newEventsBadgeUpdateInterval||!((F=X[0])!=null&&F.content)||!((W=H[0])!=null&&W.content))return;const R=JSON.parse(X[0].content).picture,A=JSON.parse(H[0].content).picture;s.setNewEventsBadgeImageUrls([R,A])}const k=async $=>{if(s.isLoadingNewEvents)return;s.setLoadingNewEventsStatus(!0);const T=t.connectedFeedRelaysUrls;if(!T.length)return;const I=Tn,V=($-1)*I,z=V+I,X=s.paginationEventsIds.slice().reverse().slice(V,z);let R=(await g.querySync(T,{ids:X})).sort((F,W)=>W.created_at-F.created_at);await Mt(R,null,{},T,i,g,!0),s.updateEvents(R),s.setLoadingNewEventsStatus(!1),u.value=$},D=async()=>{if(s.isLoadingNewEvents)return;s.setLoadingNewEventsStatus(!0),s.setShowNewEventsBadge(!1);const $=t.connectedFeedRelaysUrls;if(!$.length)return;d.push({path:`${l.path}`});let T=s.newEventsToShow;s.updateNewEventsToShow(s.newEventsToShow.filter(R=>!T.includes(R)));const I=T.map(R=>R.id),V=Tn;s.updatePaginationEventsIds(s.paginationEventsIds.concat(I));const z=s.paginationEventsIds.slice(-V);let X=(await g.querySync($,{ids:z})).sort((R,A)=>A.created_at-R.created_at);await Mt(X,null,{},$,i,g,!0),s.updateEvents(X),s.setLoadingNewEventsStatus(!1),u.value=1};return($,T)=>(S(),U("div",S2,[fe(s2,{onLoadNewRelayEvents:D,newEvents:Z(v)},null,8,["newEvents"]),fe(y2,{isDisabledSourceSelect:m.value},null,8,["isDisabledSourceSelect"]),_("div",k2,[_("div",{class:ve(["events",{events_hidden:h.value==="/log"}])},[Z(s).isLoadingFeedSource?(S(),U("div",C2," Loading feed from "+se(Z(s).selectedFeedSource)+"... ",1)):te("",!0),Z(s).isLoadingNewEvents?(S(),U("div",$2," Loading new notes... ")):te("",!0),Z(s).showNewEventsBadge?(S(),U("div",{key:2,onClick:D,class:ve(["new-events",{"new-events_top-shifted":Z(s).isLoadingNewEvents}])},[Z(n).showImages&&Z(s).newEventsBadgeImageUrls.length?(S(),U("div",P2,[_("img",{class:"new-events__img",src:a.value,alt:"user's avatar"},null,8,I2),_("img",{class:"new-events__img",src:c.value,alt:"user's avatar"},null,8,A2)])):te("",!0),_("span",T2,se(Z(s).newEventsBadgeCount)+" new notes",1),L2],2)):te("",!0),fe(pb,{events:Z(s).events,pubKey:Z(o).getPubkey(),showImages:Z(n).showImages,currentReadRelays:Z(t).connectedFeedRelaysUrls,onToggleRawData:Z(s).toggleEventRawData},null,8,["events","pubKey","showImages","currentReadRelays","onToggleRawData"]),Z(s).isLoadingMore?(S(),U("div",U2,"Loading more posts...")):te("",!0),fe(Jd,{pagesCount:f.value,currentPage:u.value,onShowPage:k},null,8,["pagesCount","currentPage"])],2)])]))}});const Cc=me(B2,[["__scopeId","data-v-fd8ac58c"]]),N2=Si('<h3>Slightly Private App</h3><p><a href="https://nostr.com">nostr</a> is public, censorship-resistant social network. It&#39;s simple: <ol><li>Select a relay from the list, or specify a <a href="https://nostr.watch/" target="_blank">custom URL</a></li><li><em>Optionally</em>, set your private key, to create new messages</li></ol></p><p> Traditional social networks can suppress certain posts or users. In nostr, every message is signed by user&#39;s <em>private key</em> and broadcasted to <em>relays</em>. <strong>Messages are tamper-resistant</strong>: no one can edit them, or the signature will become invalid. <strong>Users can&#39;t be blocked</strong>: even if a relay blocks someone, it&#39;s always possible to switch to a different one, or create up a personal relay. </p><p> The app is available at <a href="http://nostr.spa">nostr.spa</a>. You can: <ul><li><em>Connect</em> and see relay&#39;s global feed.</li><li><em>Post</em> new messages to the relay.</li><li><em>Broadcast</em> a pre-signed message. No need to enter a private key.</li><li><em>Search</em> information about a user or an event.</li></ul></p>',4),M2=Si("<ul><li>No tracking from our end</li><li>Private keys are not sent anywhere. They are stored in RAM of your device</li><li>Relay will see your ip+browser after you click <em>Connect</em> button</li><li>GitHub will see ip+browser of anyone who&#39;s using the app, because it&#39;s hosted on GitHub Pages. They won&#39;t see any nostr-specific interactions you will make</li><li><em>Show avatars</em> feature will leak your ip+browser to random people on the internet. Since there are no centralized servers in nostr, every user can specify their own URL for avatar hosting. Meaning, users can control the hosting webservers and see logs</li><li><em>Remember me</em> feature will write private key you&#39;ve entered to browser&#39;s Local Storage, which is usually stored on your device&#39;s disk</li><li>VPN or TOR usage is advised, <em>as with any nostr client</em>, to prevent ip leakage</li></ul>",1),O2=Si('<h3>Open source</h3><p> The lightweight nostr client is built to showcase <a href="/noble/">noble</a> cryptography. Signing is done using <a target="_blank" href="https://github.com/paulmillr/noble-curves">noble-curves</a>, while <a target="_blank" href="https://github.com/paulmillr/scure-base">scure-base</a> is used for bech32, <a target="_blank" href="https://github.com/nbd-wtf/nostr-tools">nostr-tools</a> are used for general nostr utilities and Vue.js is utilized for UI. Check out <a target="_blank" href="https://github.com/paulmillr/paulmillr.github.io">the source code</a>. You are welcome to host the client on your personal website. </p>',2),$c=Se({__name:"Help",props:{showPrivacy:{}},setup(e){const t=No(),n=L(null);return vt(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),bi(()=>{n.value&&t.hash=="#privacy"&&n.value.scrollIntoView()}),(s,o)=>(S(),U(Ee,null,[N2,_("p",null,[_("h3",{id:"#privacy",ref_key:"privacyEl",ref:n},"Privacy policy",512),M2]),O2],64))}}),bt=as({value:1,update(e){this.value=e}}),F2=_t("user-notes",()=>{const e=L([]),t=L([]);function n(r){e.value=r}function s(r){t.value=r}function o(r){const i=e.value.find(a=>a.id===r);i&&(i.showRawData=!i.showRawData)}return{notes:e,allNotesIds:t,updateNotes:n,updateIds:s,toggleRawData:o}}),Xo=_t("ownProfile",()=>{const e=L({}),t=L(null),n=L(null),s=ye(()=>!n.value||!t.value?"":Vd(n.value,t.value.pubkey)),o=ye(()=>t.value?t.value.pubkey:"");function r(a){e.value=a}function i(a){t.value=a,n.value=JSON.parse(a.content)}return{contactsEvent:e,updateContactsEvent:r,updateMeta:i,username:s,pubkey:o}}),er=e=>(st("data-v-7d13b372"),e=e(),ot(),e),H2={class:"event"},j2={key:0,class:"event__content"},V2=er(()=>_("hr",null,null,-1)),D2={class:"event__code-block"},W2={class:"event__code-title"},q2=er(()=>_("b",null,"Author: ",-1)),K2={class:"content-col_code"},z2={class:"event__code"},G2={class:"event__code-block"},Z2={class:"event__code-title"},J2=er(()=>_("b",null,"Meta event id: ",-1)),Y2={class:"content-col_code"},Q2={class:"event__code"},X2=er(()=>_("div",{class:"header-col"},[_("b",null,"Created: ")],-1)),eE={class:"content-col_code"},tE={class:"event__code"},nE={class:"event-footer__signature-text"},sE=Se({__name:"UserEvent",props:{event:{},author:{}},setup(e){const t=e,n=L(!1),s=L(!1),o=L(!1),r=L(""),i=L(""),a=L(""),c=L(0),l=L(!1);Eh(()=>{const{event:u}=t;r.value=u.id,i.value=u.sig,a.value=u.pubkey,c.value=u.created_at}),vt(()=>{Object.keys(t.event).length!==0&&(l.value=Fn(t.event))});const d=()=>{n.value=!n.value};return(u,f)=>(S(),U("div",H2,[n.value?te("",!0):(S(),U("div",j2,[Lh(u.$slots,"default",{},()=>[Re("No content for event")],!0),V2,_("div",D2,[_("div",W2,[q2,_("button",{class:"event__code-btn",onClick:f[0]||(f[0]=h=>o.value=!o.value)},se(o.value?"npub":"hex"),1)]),_("div",K2,[_("code",z2,se(o.value?a.value:Z(Me).npubEncode(a.value)),1)])]),_("div",G2,[_("div",Z2,[J2,_("button",{class:"event__code-btn",onClick:f[1]||(f[1]=h=>s.value=!s.value)},se(s.value?"nevent":"hex"),1)]),_("div",Y2,[_("code",Q2,se(s.value?r.value:Z(Me).neventEncode({id:r.value})),1)])]),_("div",null,[X2,_("div",eE,[_("code",tE,se(Z(Md)(c.value)),1)])])])),n.value?(S(),Ie(Wd,{key:1,isUserEvent:!0,event:u.event,authorEvent:u.event},null,8,["event","authorEvent"])):te("",!0),_("div",{class:ve(["event-footer",{"event-footer_flex-end":!n.value}])},[n.value?(S(),U("div",{key:0,class:ve(["event-footer__signature",{"event-footer__signature_invalid":!l.value}])},[l.value?(S(),Ie(Kd,{key:0})):te("",!0),l.value?te("",!0):(S(),Ie(zd,{key:1})),_("span",nE,se(l.value?"Signature is valid":"Invalid signature"),1)],2)):te("",!0),_("div",null,[_("span",{class:"event-footer-code",onClick:d},"{...}")])],2)]))}});const oE=me(sE,[["__scopeId","data-v-7d13b372"]]),ef=2*24*60*60,rE=()=>crypto.getRandomValues(new Uint32Array(1))[0]/(4294967295+1),tr=()=>Math.round(Date.now()/1e3),tf=()=>Math.round(tr()-rE()*ef),nf=(e,t)=>Jo.v2.utils.getConversationKey(Yo(e),t),sf=(e,t,n)=>Jo.v2.encrypt(JSON.stringify(e),nf(t,n)),Pc=(e,t)=>JSON.parse(Jo.v2.decrypt(e.content,nf(t,e.pubkey))),iE=(e,t)=>{const n={kind:14,created_at:tr(),content:"",tags:[],...e,pubkey:ju(t)};return n.id=Cs(n),n},aE=(e,t,n)=>rt({kind:13,content:sf(e,t,n),created_at:tf(),tags:[]},t),cE=(e,t)=>{const n=Jv();return rt({kind:1059,content:sf(e,n,t),created_at:tf(),tags:[["p",t]]},n)},lE="Please login to follow the user.",uE="Something went wrong, please ensure that your write relays are online.",dE=Se({__name:"FollowBtn",props:{isFollowed:{type:Boolean},pubkeyToFollow:{}},emits:["toggleFollow","handleFollowError"],setup(e,{emit:t}){const n=t,s=dt(),o=Ye(),r=Xo(),a=Ft().pool,c=e,l=async()=>{if(!s.getPubkey()){n("handleFollowError",lE);return}const{isFollowed:f}=c,h=r.contactsEvent;let v=(h==null?void 0:h.tags)||[];f?v=v.filter(b=>b[0]==="p"&&b[1]!==c.pubkeyToFollow):v.push(["p",c.pubkeyToFollow]);const g=d(v);if(!g)return;n("toggleFollow");const m=o.connectedUserWriteRelaysUrls;if((await Jn(m,a,g)).every(b=>b.success===!1)){n("toggleFollow"),n("handleFollowError",uE);return}r.updateContactsEvent(g)},d=u=>{const f=s.getPrivkeyBytes();return f?rt({kind:lt.FOLLOW_LIST,created_at:tr(),tags:u,content:""},f):null};return(u,f)=>(S(),U("span",{onClick:l,class:ve(["button",{outline:u.isFollowed}])},se(u.isFollowed?"unfollow":"follow"),3))}});const fE=me(dE,[["__scopeId","data-v-8646c4c8"]]),hE={},pE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-download",viewBox:"0 0 16 16"},gE=_("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"},null,-1),yE=_("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"},null,-1),vE=[gE,yE];function _E(e,t){return S(),U("svg",pE,vE)}const mE=me(hE,[["render",_E]]),of=e=>(st("data-v-9313bf91"),e=e(),ot(),e),wE={key:0,class:"loading-notice"},bE={class:"user"},EE={key:0,class:"user__avatar-wrapper"},RE=["src"],xE={class:"user__info"},SE={class:"user__info__content"},kE={class:"user__nickname-wrapper"},CE={class:"user__nickname"},$E={class:"user-action-error warning"},PE={class:"user__name"},IE={key:0,class:"user__nip05"},AE=["href"],TE=of(()=>_("strong",null,"nip05",-1)),LE={key:1,class:"user__contacts"},UE={class:"user__contacts-col user__following-cnt"},BE={class:"user__contacts-col user__followers-cnt"},NE={key:0},ME={key:1,class:"user__contacts-download-icon"},OE=of(()=>_("span",{class:"user__contacts-followers-word"}," Followers ",-1)),FE={class:"user__desc"},HE={key:2},jE={key:3,id:"user-posts"},VE={key:0},DE={key:1},WE={key:5,class:"not-found"},qE={class:"not-found__desc"},KE={key:0},zE={key:1},GE=Se({__name:"User",setup(e){const n=Ft().pool,s=us(),o=F2(),r=ds(),i=fs(),a=dt(),c=Ye(),l=Qo(),d=Xo(),u=L({}),f=L({}),h=L(!1);L("");const v=L(!1),g=L(""),m=L(!1),w=L(""),x=L(!1),b=L(!1),C=L(!1),P=L(!1),k=L(!1),D=L(!1),$=L(""),T=L(!1),I=L(!0),V=L(1),z=ye(()=>Math.ceil(o.allNotesIds.length/Tn)),J=En(),X=No(),H=p=>{const[y,E]=p.split("@");return`https://${E}/.well-known/nostr.json?name=${y}`},R=L([]);vt(()=>{var p,y,E,M;if((y=(p=X.params)==null?void 0:p.id)!=null&&y.length&&!c.currentRelay.connected){s.updateNpubInput(X.params.id),s.updateCachedUrl(X.params.id),c.currentRelay.connected||(C.value=!0),P.value=!0,W();return}if(r.isRoutingUser&&s.npubInput.length){s.updateCachedUrl(s.npubInput),r.updateRoutingStatus(!1),W();return}if(!s.npubInput.length&&((M=(E=X.params)==null?void 0:E.id)!=null&&M.length)){s.updateNpubInput(X.params.id),s.updateCachedUrl(X.params.id),r.updateRoutingStatus(!1),W();return}}),Ei(()=>{F(),r.isSearchUsed||s.updateNpubInput(""),r.updateSearchStatus(!1)}),qe(()=>X.params,()=>{r.isRoutingUser&&(s.updateCachedUrl(s.npubInput),r.updateRoutingStatus(!1),W())}),qe(()=>X.redirectedFrom,()=>{s.updateNpubInput(X.params.id),s.updateCachedUrl(X.params.id),F()}),qe(()=>c.isConnectingToReadWriteRelays,p=>{p&&!C.value&&F()}),qe(()=>c.isConnectedToReadWriteRelays,p=>{p&&!C.value&&W()});const A=async p=>{const y=R.value;if(!y.length)return;const E=Tn,M=(p-1)*E,O=M+E,q=o.allNotesIds.slice(M,O),Y=await n.querySync(y,{ids:q});await de(Y,y),o.updateNotes(Y),V.value=p},F=()=>{u.value={},f.value={},o.updateNotes([]),o.updateIds([]),k.value=!1,D.value=!1,$.value=""},W=async(p=!1)=>{bt.update(bt.value+1);const y=bt.value,E=s.npubInput;let M=!1;if(T.value=!1,_o(E))g.value=E,M=!0;else try{const{data:ae,type:ce}=si(E);T.value=ce==="note",g.value=ae.toString()}catch(ae){s.setError(ae.message);return}if(F(),p&&(x.value=!0),y!==bt.value)return;const O=p?kc:c.connectedUserReadWriteUrlsWithSelectedRelay;if(!O.length){P.value=!0;return}s.error.length&&s.setError(""),p||(m.value=!0);let q=[];if(T.value||M){const ae=g.value;if(q=await n.querySync(O,{kinds:[1],ids:[ae]}),y!==bt.value)return;if(q.length){const ce=q[0];g.value=ce.pubkey,T.value=ce.kind===1}}const Y=await n.get(O,{kinds:[0],limit:1,authors:[g.value]});if(y!==bt.value)return;if(!Y){p?(x.value=!1,w.value="User or event was not found on listed relays."):(m.value=!1,v.value=!0);return}l.addMeta(Y),R.value=O;const G=[g.value],Q=a.getPubkey();Q.length&&Q!==g.value&&G.push(Q);let K=await n.querySync(O,{kinds:[3],authors:G});if(y!==bt.value)return;K=Ad(K);const ie=K.find(ae=>ae.pubkey===g.value);if(Q!==g.value){const ae=K.find(ce=>ce.pubkey===Q);ae&&(k.value=ae.tags.some(ce=>ce[0]==="p"&&ce[1]===g.value)||!1,d.updateContactsEvent(ae)),D.value=!0}if(u.value=Y,f.value=JSON.parse(Y.content),f.value.followingCount=(ie==null?void 0:ie.tags.length)||0,p?(w.value="",x.value=!1,P.value=!1):m.value=!1,h.value=!1,v.value=!1,ee(E,T.value),b.value=!0,Te(y),!T.value)try{const ae=await oe(O,y);if(y!==bt.value)return;q=ae.viewNotes,o.updateIds(ae.allNotes.map(ce=>ce.id)),V.value=1}catch{return}if(T.value){const ae=q[0];if(await re(q[0],O),y!==bt.value)return;o.updateIds([ae.id])}o.updateNotes(q),b.value=!1},ee=(p,y)=>{y?J.push({path:`/event/${p}`}):J.push({path:`/user/${p}`}),s.updateCachedUrl(p)},oe=async(p,y=0)=>{let E=await n.querySync(p,{kinds:[1],authors:[g.value]});if(y&&y!==bt.value)throw new Error("Operation was canceled");E=E.filter(q=>!F1(q)),E=E.sort((q,Y)=>Y.created_at-q.created_at);const M=[...E],O=E.slice(0,Tn);return await de(O,p),{viewNotes:O,allNotes:M}},re=async(p,y)=>{const E=kt.parse(p),M=E.reply||E.root;if(M){I.value=!1;const O=await jd(M.id,y,n);await le([p],O,y)}else await de([p],y)},de=async(p,y)=>{await Mt(p,null,{},y,l,n,!0)},le=async(p,y,E)=>{await Mt(p,y,{},E,l,n,!1)},Te=async(p=0)=>{const y=f.value.nip05,E=u.value.pubkey;if(!(!y||!E))try{const M=await ke(y,E);if(p&&p!==bt.value)return;h.value=M}catch{console.log("Failed to check nip05")}},ke=async(p,y)=>{const E=await ad.queryProfile(p);return y===(E==null?void 0:E.pubkey)},j=()=>{W(!0)},B=async()=>{const p=new Set;f.value.followersCount=0;const y=n.subscribeMany(R.value,[{"#p":[g.value],kinds:[3]}],{onevent(E){p.has(E.pubkey)||(p.add(E.pubkey),f.value.followersCount=f.value.followersCount+1)},oneose(){y.close()}})},N=p=>{o.toggleRawData(p)},ne=()=>{k.value=!k.value},ue=p=>{$.value=p,setTimeout(()=>{$.value=""},1e4)},he=p=>{const{username:y,name:E,display_name:M}=p;return(y!=null&&y.length||E!=null&&E.length)&&M||""};return(p,y)=>(S(),U(Ee,null,[m.value?(S(),U("div",wE,"Loading profile info...")):te("",!0),u.value.id?(S(),Ie(oE,{author:f.value,event:u.value,key:u.value.id},{default:ct(()=>[_("div",bE,[Z(i).showImages?(S(),U("div",EE,[_("img",{alt:"user's avatar",class:"user__avatar",src:f.value.picture},null,8,RE)])):te("",!0),_("div",xE,[_("div",SE,[_("div",kE,[_("span",CE,se(Z(Vd)(f.value,g.value)),1),D.value?(S(),Ie(fE,{key:0,pubkeyToFollow:g.value,isFollowed:k.value,onToggleFollow:ne,onHandleFollowError:ue},null,8,["pubkeyToFollow","isFollowed"])):te("",!0)]),_("div",$E,se($.value),1),_("div",PE,se(he(f.value)),1),h.value?(S(),U("div",IE,[_("a",{target:"_blank",href:H(f.value.nip05)},[TE,Re(": "+se(f.value.nip05),1)],8,AE)])):te("",!0),f.value.followingCount>=0?(S(),U("div",LE,[_("span",UE,[_("b",null,se(f.value.followingCount),1),Re(" Following ")]),_("span",BE,[f.value.followersCount?(S(),U("b",NE,se(f.value.followersCount),1)):(S(),U("span",ME,[fe(mE,{onClick:B})])),OE])])):te("",!0)])])]),_("div",FE,se(f.value.about||""),1)]),_:1},8,["author","event"])):te("",!0),b.value?(S(),U("div",HE,"Loading notes...")):te("",!0),Z(o).notes.length>0&&!b.value?(S(),U("h3",jE,[T.value?(S(),U("span",VE,"Event info")):(S(),U("span",DE,"User notes"))])):te("",!0),(S(!0),U(Ee,null,ut(Z(o).notes,(E,M)=>(S(),Ie(Zd,{key:E.id,hasReplyBtn:!0,showRootReplies:I.value,currentReadRelays:R.value,index:M,onToggleRawData:N,event:E},null,8,["showRootReplies","currentReadRelays","index","event"]))),128)),!b.value&&!m.value?(S(),Ie(Jd,{key:4,pagesCount:z.value,currentPage:V.value,onShowPage:A},null,8,["pagesCount","currentPage"])):te("",!0),v.value||P.value?(S(),U("div",WE,[_("div",qE,[v.value?(S(),U("span",KE," Data was not found on selected relay. Please try to connect to another one or you can try to load info from the list of popular relays. ")):te("",!0),P.value?(S(),U("span",zE,"Please connect first or search in the list of popular relays.")):te("",!0)]),_("div",null,[_("button",{onClick:j,class:"fallback-search-btn"}," Search in the listed relays "),_("div",{class:ve(["not-found__status",{warning:w.value.length}])},se(w.value)+" "+se(x.value?"Searching...":""),3),_("ul",null,[(S(!0),U(Ee,null,ut(Z(kc),E=>(S(),U("li",null,se(E),1))),256))])])])):te("",!0)],64))}});const Ic=me(GE,[["__scopeId","data-v-9313bf91"]]),ZE={},JE={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},YE=_("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},null,-1),QE=_("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},null,-1),XE=[YE,QE];function eR(e,t){return S(),U("svg",JE,XE)}const tR=me(ZE,[["render",eR]]),mt=e=>(st("data-v-df6b991a"),e=e(),ot(),e),nR=mt(()=>_("h4",null,"Images:",-1)),sR={class:"show-images"},oR=mt(()=>_("h4",null,"Your relays:",-1)),rR={class:"error"},iR={class:"warning"},aR={class:"relays"},cR={class:"actions"},lR=["onChange","id","name","checked"],uR=["for"],dR=mt(()=>_("span",{class:"actions__delimiter"}," | ",-1)),fR=["onClick"],hR=mt(()=>_("span",{class:"actions__remove-label"},"remove",-1)),pR={key:0},gR={key:1},yR={key:2},vR=mt(()=>_("h4",null,"Add relay:",-1)),_R={class:"add-relay"},mR={class:"error"},wR=mt(()=>_("h4",null,"Your Keys:",-1)),bR={class:"keys"},ER={class:"key-block"},RR=mt(()=>_("div",null,"Public key:",-1)),xR=mt(()=>_("div",{class:"key-block__desc"},[_("small",null," Public key identifies your Nostr account. Feel free to share it with others. ")],-1)),SR={key:0,class:"key-block__code"},kR={key:1},CR={class:"key-block"},$R=mt(()=>_("div",null,"Private key:",-1)),PR=mt(()=>_("div",{class:"key-block__desc"},[_("small",null,[Re(" Private key fully controls your Nostr account and used to cryptographically sign your messages. "),_("b",null,"Do not share your private key with anyone and keep it secure.")])],-1)),IR={key:0,class:"key-block__code"},AR={key:1},TR={key:3,class:"logout-block"},LR={key:0},UR=mt(()=>_("i",{class:"bi bi-door-closed"},null,-1)),BR={key:1},NR=mt(()=>_("i",{class:"bi bi-door-closed"},null,-1)),Vn="Updating relays error. Please reload the page and try again or write us about the issue.",MR=Se({__name:"Settings",emits:["relayConnect","relayDisconnect","clearAppState"],setup(e,{emit:t}){const n=t,s=Ft(),o=dt(),r=xn(),i=fs(),a=s.pool,c=Ye(),l=L(""),d=L(""),u=L(""),f=L(""),h=D=>{if(u.value="",!(o.nsec?o.nsec.trim():"").length){u.value="Please provide your private key.";return}let T,I;try{if(T=o.getPrivkeyBytes(),!T)throw new Error;if(I=o.getPubkey(),!I.length)throw new Error}catch{u.value="Invalid private key. Please check it and try again.";return}const V={kind:10002,pubkey:I,created_at:Math.floor(Date.now()/1e3),content:"",tags:D};return rt(V,T)},v=async(D,$)=>{u.value="";const T=D.target.checked;T?c.addWriteRelay($):c.removeWriteRelay($);const I=c.nip65Tags,V=h(I);if(!V){u.value=Vn;return}if(!(await Jn(c.allRelaysUrlsWithSelectedRelay,a,V)).some(X=>X.success)){u.value=Vn;return}r.setToRemountFeed(!0),T?c.addConnectedUserWriteRelay($):c.removeConnectedUserWriteRelay($)},g=async D=>{u.value="",c.removeUserRelay(D);const $=c.nip65Tags,T=h($);if(!T){u.value=Vn;return}(await Jn(c.allRelaysUrlsWithSelectedRelay,a,T)).some(z=>z.success)||(u.value=Vn),r.setToRemountFeed(!0)},m=async()=>{let D="";u.value="",d.value="";try{D=Gt.normalizeURL(l.value)}catch{d.value="Invalid relay url.";return}c.addUserRelay(D),l.value="";const $=c.nip65Tags,T=h($);if(!T){u.value=Vn;return}if(!(await Jn(c.allRelaysUrlsWithSelectedRelay,a,T)).some(z=>z.success)){u.value=Vn,c.removeUserRelay(D);return}r.setToRemountFeed(!0),c.addConnectedUserReadRelay(D)},w=()=>{i.updateShowImages(!i.showImages)},x=()=>{if(!o.isValidNsecPresented())return;const D=o.getPubkey();navigator.clipboard.writeText(Me.npubEncode(D))},b=()=>{o.isValidNsecPresented()&&navigator.clipboard.writeText(o.getPubkey())},C=()=>{o.isValidNsecPresented()&&navigator.clipboard.writeText(o.getPrivkey())},P=()=>{o.isValidNsecPresented()&&navigator.clipboard.writeText(o.getPrivkeyHex())},k=()=>{n("clearAppState")};return(D,$)=>(S(),U(Ee,null,[nR,_("div",sR,[fe(Xd,{showImages:Z(i).showImages,onToggleImages:w},null,8,["showImages"])]),oR,_("div",rR,se(u.value),1),_("div",iR,se(f.value),1),_("ul",aR,[(S(!0),U(Ee,null,ut(Z(c).userReadWriteRelays,(T,I)=>(S(),U("li",{class:"relay",key:I},[Re(se(T.url)+" ",1),_("div",cR,[_("input",{onChange:V=>v(V,T.url),class:"actions__checkbox",type:"checkbox",id:`write-${I}`,name:`write-${I}`,checked:T.type==="write"},null,40,lR),_("label",{class:"actions__label",for:`write-${I}`}," publish to relay",8,uR),dR,_("span",{onClick:()=>g(T.url),class:"actions__remove"},[fe(tR,{class:"trash-icon"}),hR],8,fR)])]))),128))]),Z(c).isConnectedToRelay&&Z(o).isValidNsecPresented()&&!Z(c).userReadWriteRelays.length?(S(),U("div",pR,[Re(" The list with your relays was not found on "),_("b",null,se(Z(c).currentRelay.url),1)])):te("",!0),!Z(c).isConnectedToRelay||!Z(o).isValidNsecPresented()?(S(),U("div",gR," Please login to see and edit the list of your relays. ")):te("",!0),Z(c).isConnectedToRelay&&Z(o).isValidNsecPresented()?(S(),U("div",yR,[vR,_("div",_R,[qt(_("input",{"onUpdate:modelValue":$[0]||($[0]=T=>l.value=T),class:"add-relay__input",type:"text",placeholder:"[wss://]relay.url"},null,512),[[Kt,l.value]]),_("button",{onClick:m,class:"add-relay__btn"},"Add")]),_("div",mR,se(d.value),1)])):te("",!0),wR,_("div",bR,[_("div",ER,[RR,xR,_("div",null,[Re("  "),Z(o).isValidNsecPresented()?(S(),U("code",SR,se(Z(Me).npubEncode(Z(o).getPubkey())),1)):(S(),U("span",kR,"Please login to see your public key."))]),_("div",{class:"key-block__btns"},[_("button",{class:"copy-btn",onClick:x},"Copy pubkey"),_("button",{class:"copy-btn",onClick:b},"Copy hex")])]),_("div",CR,[$R,PR,_("div",null,[Re("  "),Z(o).isValidNsecPresented()?(S(),U("code",IR," *************************************************************** ")):(S(),U("span",AR,"Please login to get your private key."))]),_("div",{class:"key-block__btns"},[_("button",{class:"copy-btn",onClick:C},"Copy privkey"),_("button",{class:"copy-btn",onClick:P},"Copy hex")])])]),Z(c).isConnectedToRelay?(S(),U("div",TR,[_("button",{class:"logout-btn",onClick:k},[Z(o).isValidNsecPresented()?(S(),U("span",LR,[Re(" Log Out "),UR])):(S(),U("span",BR,[Re("Disconnect "),NR]))])])):te("",!0)],64))}});const OR=me(MR,[["__scopeId","data-v-df6b991a"]]);function FR(e,t,n,s){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,s);const o=BigInt(32),r=BigInt(4294967295),i=Number(n>>o&r),a=Number(n&r),c=s?4:0,l=s?0:4;e.setUint32(t+c,i,s),e.setUint32(t+l,a,s)}const HR=(e,t,n)=>e&t^~e&n,jR=(e,t,n)=>e&t^e&n^t&n;class VR extends Vm{constructor(t,n,s,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=s,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Sr(this.buffer)}update(t){bc(this);const{view:n,buffer:s,blockLen:o}=this;t=qd(t);const r=t.length;for(let i=0;i<r;){const a=Math.min(o-this.pos,r-i);if(a===o){const c=Sr(t);for(;o<=r-i;i+=o)this.process(c,i);continue}s.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){bc(this),Fm(t,this),this.finished=!0;const{buffer:n,view:s,blockLen:o,isLE:r}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>o-i&&(this.process(s,0),i=0);for(let u=i;u<o;u++)n[u]=0;FR(s,o-8,BigInt(this.length*8),r),this.process(s,0);const a=Sr(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,d[u],r)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const s=t.slice(0,n);return this.destroy(),s}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:s,length:o,finished:r,destroyed:i,pos:a}=this;return t.length=o,t.pos=a,t.finished=r,t.destroyed=i,o%n&&t.buffer.set(s),t}}const DR=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),an=new Uint32Array(64);class WR extends VR{constructor(){super(64,32,8,!1),this.A=rn[0]|0,this.B=rn[1]|0,this.C=rn[2]|0,this.D=rn[3]|0,this.E=rn[4]|0,this.F=rn[5]|0,this.G=rn[6]|0,this.H=rn[7]|0}get(){const{A:t,B:n,C:s,D:o,E:r,F:i,G:a,H:c}=this;return[t,n,s,o,r,i,a,c]}set(t,n,s,o,r,i,a,c){this.A=t|0,this.B=n|0,this.C=s|0,this.D=o|0,this.E=r|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let u=0;u<16;u++,n+=4)an[u]=t.getUint32(n,!1);for(let u=16;u<64;u++){const f=an[u-15],h=an[u-2],v=At(f,7)^At(f,18)^f>>>3,g=At(h,17)^At(h,19)^h>>>10;an[u]=g+an[u-7]+v+an[u-16]|0}let{A:s,B:o,C:r,D:i,E:a,F:c,G:l,H:d}=this;for(let u=0;u<64;u++){const f=At(a,6)^At(a,11)^At(a,25),h=d+f+HR(a,c,l)+DR[u]+an[u]|0,g=(At(s,2)^At(s,13)^At(s,22))+jR(s,o,r)|0;d=l,l=c,c=a,a=i+h|0,i=r,r=o,o=s,s=h+g|0}s=s+this.A|0,o=o+this.B|0,r=r+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(s,o,r,i,a,c,l,d)}roundClean(){an.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rf=Dm(()=>new WR),qR=async(e,t,n,s)=>{const o=n||new Ns,r=await KR(e.messages,t,o,s);return e.title=r,e},KR=async(e,t,n,s)=>{const o=e[0].event,{pubkey:r,tags:i}=o,a=i.filter(h=>h[0]==="p").map(h=>h[1]),c=[r,...a],l=new Set(c);if(l.size>2)return`group of ${l.size} events`;let d={};if(l.size===1)d={kinds:[0],authors:[r]};else if(l.size===2){const h=c.filter(v=>v!==t)[0];d={kinds:[0],authors:[h]}}const u=await n.get(s,d),f=JSON.parse((u==null?void 0:u.content)||"{}");return f.display_name?f.display_name:f.name?f.name:f.username?f.username:Me.npubEncode(r).slice(0,10)+"..."},zR=async(e,t,n)=>{let s={};s={kinds:[0],authors:[e]};const o=await t.get(n,s),r=JSON.parse((o==null?void 0:o.content)||"{}");return r.display_name?r.display_name:r.name?r.name:r.username?r.username:Me.npubEncode(e).slice(0,10)+"..."},Ac=e=>{const n=e.tags.filter(s=>s[0]==="p").map(s=>s[1]).sort().join("");return Yo(rf(n))},GR=e=>{const t=e.sort().join("");return Yo(rf(t))},Tc=(e,t)=>{let n,s;try{n=Pc(e,t),s=Pc(n,t)}catch{return null}return n.pubkey!==s.pubkey?null:s},Lc=e=>({event:e,isPublished:!0}),Uc=e=>e.tags.filter(n=>(n[0]==="r"||n[0]==="relay")&&n[1]&&n[1].length).map(n=>n[1]).length>2,af=_t("chat",()=>{const e=L(new Set);function t(n){e.value.add(n)}return{ownRumors:e,addOwnRumor:t}}),ZR={key:0,class:"no-chats"},JR=["onClick"],YR=Se({__name:"ChatsList",props:{chats:{},currentChatId:{},showChatsList:{type:Boolean},handleSelectChat:{type:Function}},setup(e){return(t,n)=>(S(),U("div",{class:ve(["chats__list",{"chats__list_mobile-hidden":!t.showChatsList}])},[t.chats.length?te("",!0):(S(),U("div",ZR," No chats yet... ")),(S(!0),U(Ee,null,ut(t.chats,s=>(S(),U("div",{key:s.id,class:ve(["chats__list-item",{active:t.currentChatId===s.id}]),onClick:o=>t.handleSelectChat(s.id)},[_("strong",null,se(s.title),1)],10,JR))),128))],2))}});const QR=me(YR,[["__scopeId","data-v-8b709582"]]),XR={class:"message-date"},ex=Se({__name:"ChatMessagesList",props:{messages:{},userPubkey:{}},setup(e){return(t,n)=>(S(!0),U(Ee,null,ut(t.messages,s=>(S(),U("div",{class:ve(["message-line",{own:s.event.pubkey===t.userPubkey}])},[_("div",{class:ve(["message",{own:s.event.pubkey===t.userPubkey}])},[_("div",null,se(s.event.content),1)],2),_("div",XR,se(s.isPublished?Z(O1)(s.event.created_at):"sending..."),1)],2))),256))}});const tx=me(ex,[["__scopeId","data-v-a4799345"]]),nx=e=>(st("data-v-05389505"),e=e(),ot(),e),sx={class:"chats__text-field"},ox=nx(()=>_("button",{type:"submit",class:"chats__send-btn"},"Send",-1)),rx=Se({__name:"ChatMessageForm",props:{roomTags:{},recipientsPubkeys:{},userPubkey:{}},emits:["preSendMessage"],setup(e,{emit:t}){const n=t,s=L(""),o=dt(),r=e,i=()=>{const a=s.value;if(!a.length)return;const c=o.getPrivkeyBytes();if(!c)return;const l=r.roomTags;if(!l.length)return;const d=r.recipientsPubkeys;if(!d.length)return;const u={content:a,tags:l},f=[];let h=null;d.forEach(v=>{const g=iE(u,c),m=aE(g,c,v),w=cE(m,v);f.push(w),v===r.userPubkey&&(h=g)}),s.value="",n("preSendMessage",h,f)};return(a,c)=>(S(),U("form",{onSubmit:Bn(i,["prevent"])},[_("div",sx,[qt(_("input",{"onUpdate:modelValue":c[0]||(c[0]=l=>s.value=l),class:"chats__input",type:"text"},null,512),[[Kt,s.value,void 0,{trim:!0}]]),ox])],32))}});const ix=me(rx,[["__scopeId","data-v-05389505"]]),ax={},cx={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-left",viewBox:"0 0 16 16"},lx=_("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"},null,-1),ux=[lx];function dx(e,t){return S(),U("svg",cx,ux)}const fx=me(ax,[["render",dx]]),{normalizeURL:hx}=Gt,px=_t("chatsRelaysCache",()=>{const e=L({}),t=L(!1);function n(i){i.forEach(a=>{const{pubkey:c,tags:l}=a;e.value.hasOwnProperty(c)||(e.value[c]={relays:new Set,cache_created:Date.now()}),l.forEach(d=>{if((d[0]==="r"||d[0]==="relay")&&d[1]&&d[1].length){const u=hx(d[1]);e.value[c].relays.add(u)}})})}function s(i){const a=new Set;return i.forEach(c=>{r(c).forEach(d=>a.add(d))}),a}function o(i){return e.value.hasOwnProperty(i)}function r(i){return o(i)?e.value[i].relays:new Set}return{metas:e,hasMeta:o,getMetaRelays:r,addMetas:n,getRelaysByPubkeys:s,isLoadingRelays:t}}),gx=e=>(st("data-v-e5e92b02"),e=e(),ot(),e),yx={class:"chat-header"},vx=gx(()=>_("span",null,"Chats",-1)),_x={class:"chat-title"},mx={class:"chats__chat-footer"},wx=Se({__name:"ChatsConversation",props:{chat:{},userPubkey:{},showChatsList:{type:Boolean}},emits:["setMessageStatusToPublished","handleDeselectChat"],setup(e,{emit:t}){const n=t,s=af(),o=px(),r=Ye(),a=Ft().pool,c=L({}),l=L({}),d=e,u=L(null),f=ye(()=>{var b,C,P;return(b=d==null?void 0:d.chat)!=null&&b.messages.length?(C=d.chat.messages[d.chat.messages.length-1])==null?void 0:C.event.tags:(P=d==null?void 0:d.chat)!=null&&P.initialRoomTags?d.chat.initialRoomTags:[]}),h=ye(()=>f.value.length?[...new Set(f.value.map(b=>b[1]))]:[]),v=ye(()=>h.value.filter(b=>b!==d.userPubkey));bl(async()=>{g();let b=[];v.value.forEach($=>{o.hasMeta($)||b.push($)});const{chat:C}=d;if(!b.length||l.value[C.id])return;l.value[C.id]=!0;const P=r.connectedUserReadWriteUrlsWithSelectedRelay,k=await a.querySync(P,{kinds:[lt.DM_RELAYS],authors:b}),D=new Set;if(k.forEach($=>{$.tags.some(I=>(I[0]==="r"||I[0]==="relay")&&I[1]&&I[1].length)&&D.add($.pubkey)}),o.addMetas(k),b=b.filter($=>!D.has($)),b.length){const $=await a.querySync(P,{kinds:[lt.RELAY_LIST_META],authors:b});o.addMetas($)}l.value[C.id]=!1,await Qn(),setTimeout(()=>{var T;if(!((T=c.value[C.id])!=null&&T.length))return;const $=[...c.value[C.id]].reverse();c.value[C.id]=[],$.forEach(async I=>{await x(I.relays,I.wrapsBundle),n("setMessageStatusToPublished",C.id,I.rumorId)})},1)});const g=async()=>{await Qn();const b=u.value;b&&(b.scrollTop=b.scrollHeight)},m=async(b,C)=>{const{chat:P}=d,k={event:b,isPublished:!1};s.addOwnRumor(b.id),P.messages.push(k),g();const D=w();if(l.value[P.id]){c.value[P.id]||(c.value[P.id]=[]),c.value[P.id].push({rumorId:b.id,relays:D,wrapsBundle:C});return}await x(D,C);const $=P.messages.findIndex(T=>T.event.id===b.id);P.messages[$].isPublished=!0},w=()=>{const b=r.userChatRelaysUrls,C=o.getRelaysByPubkeys(v.value);return[...new Set([...b,...C])]},x=async(b,C)=>{const P=[];return C.forEach(k=>{P.push(...a.publish(b,k))}),await Promise.allSettled(P)};return(b,C)=>(S(),U("div",{class:ve(["conversation",{"conversation_mobile-hidden":b.showChatsList}])},[_("div",yx,[_("span",{onClick:C[0]||(C[0]=P=>n("handleDeselectChat")),class:"chats-link"},[fe(fx),vx]),_("span",_x,se(b.chat?b.chat.title:"Select chat"),1)]),b.chat?(S(),U("div",{key:0,class:"chats__messages",ref_key:"messagesContainer",ref:u},[fe(tx,{messages:b.chat.messages,userPubkey:b.userPubkey},null,8,["messages","userPubkey"])],512)):te("",!0),_("div",mx,[fe(ix,{roomTags:f.value,recipientsPubkeys:h.value,userPubkey:b.userPubkey,onPreSendMessage:m},null,8,["roomTags","recipientsPubkeys","userPubkey"])])],2))}});const bx=me(wx,[["__scopeId","data-v-e5e92b02"]]),cf=e=>(st("data-v-f8464317"),e=e(),ot(),e),Ex=cf(()=>_("label",{for:"start-chat-pubkey"},[_("strong",null,"Profile's public key")],-1)),Rx={class:"user-field"},xx=cf(()=>_("button",{type:"submit",class:"start-chat-btn"},"Start chat",-1)),Sx={key:0,class:"notice"},kx={key:1,class:"error"},Cx=Se({__name:"ChatCreateRoomForm",props:{isLoadingProfile:{type:Boolean}},emits:["startChat"],setup(e,{emit:t}){const n=t,s=Ye(),o=L(""),r=L(""),i=()=>{const a=o.value;let c="";if(!s.isConnectedToReadWriteRelays){r.value="Please connect to a relay first.";return}if(!a.length){r.value="Provide the public key of the person to chat with.";return}if(_o(a))c=a;else try{let{data:l,type:d}=Me.decode(a);if(d!=="npub"){r.value="Public key is invalid. Please check it and try again.";return}c=l.toString()}catch{r.value="Public key is invalid. Please check it and try again.";return}r.value="",n("startChat",c)};return(a,c)=>(S(),U(Ee,null,[_("form",{onSubmit:Bn(i,["prevent"])},[Ex,_("div",Rx,[qt(_("input",{"onUpdate:modelValue":c[0]||(c[0]=l=>o.value=l),class:"find-user-input",id:"start-chat-pubkey",type:"text",placeholder:"npub or hex of pubkey"},null,512),[[Kt,o.value,void 0,{trim:!0}]]),xx])],32),a.isLoadingProfile?(S(),U("div",Sx,"Loading profile info...")):te("",!0),r.value?(S(),U("div",kx,se(r.value),1)):te("",!0)],64))}});const $x=me(Cx,[["__scopeId","data-v-f8464317"]]),lf=e=>(st("data-v-fccd00d5"),e=e(),ot(),e),Px=lf(()=>_("div",{class:"chats-desc"},[_("p",null,[Re(" Chats use the new Nostr "),_("a",{target:"_blank",href:"https://github.com/nostr-protocol/nips/blob/master/44.md"},"NIP-44"),Re(" encryption standard. Make sure the person you are chatting with uses a Nostr client that supports this NIP. ")])],-1)),Ix={class:"user-field-wrapper"},Ax=lf(()=>_("h3",{class:"chats-title"},"Chats",-1)),Tx={key:0,class:"no-chats"},Lx={key:1},Ux={key:2,class:"chats"},Bx=Se({__name:"Chat",setup(e){const{normalizeURL:t}=Gt;let n;const s=Ye(),o=dt(),r=af(),a=Ft().pool,c=L(""),l=L(!1),d=L({}),u=L({}),f=L(""),h=L(!1),v=ye(()=>Object.keys(d.value).length===0),g=ye(()=>s.isConnectedToReadWriteRelays&&o.isNsecValidTemp),m=ye(()=>Object.entries(d.value).map(([I,V])=>V).sort((I,V)=>V.created_at_last_message-I.created_at_last_message)),w=L(!0);qe(()=>o.nsec,async()=>{o.isNsecValidTemp&&(f.value=o.getPubkey())},{immediate:!0}),qe(()=>s.isConnectingToReadWriteRelays,I=>{I&&(h.value=!0)}),qe(()=>s.isConnectedToReadWriteRelays,I=>{I&&o.isNsecValidTemp&&C()}),vt(()=>{g.value&&C()});const x=I=>{d.value[I.id]=I,setTimeout(()=>{if(u.value[I.id]){const V=[...u.value[I.id]];u.value[I.id]=[],V.forEach(z=>{d.value[I.id].messages.push(z)})}},1),h.value=!1},b=I=>{console.error("Chats error:",I)},C=async()=>{h.value=!0;let I=s.connectedUserReadWriteUrlsWithSelectedRelay;const V=o.getPubkey();d.value={},n==null||n.close();const z=await a.querySync(I,{kinds:[lt.DM_RELAYS],authors:[V]});if(z.length){const ee=new Set;z.forEach(oe=>{oe.tags.forEach(re=>{(re[0]==="r"||re[0]==="relay")&&re[1]&&re[1].length&&ee.add(t(re[1]))})}),ee.size&&(I=[...ee],s.setUserDMRelaysUrls(I))}const J=await a.querySync(I,{kinds:[lt.GIFT_WRAP],"#p":[V]}),X=o.getPrivkeyBytes();let H={},R=0;const A=new Set;J.forEach(ee=>{A.add(ee.id);const oe=Tc(ee,X);if(!oe||Uc(oe))return;const re=Ac(oe),de=Lc(oe);H[re]?H[re].messages.push(de):H[re]={messages:[de]},oe.created_at>R&&(R=oe.created_at)});const F=[];for(const ee in H){const oe=H[ee];oe.id=ee,oe.messages=oe.messages.sort((de,le)=>de.event.created_at-le.event.created_at),oe.created_at_last_message=oe.messages[oe.messages.length-1].event.created_at;const re=qR(oe,V,a,s.connectedUserReadWriteUrlsWithSelectedRelay);F.push(re)}F.length?Od(F,x,b):h.value=!1;const W=J.length?R-ef:null;P(I,W,A)},P=(I,V=null,z=null)=>{const J=o.getPubkey(),X=o.getPrivkeyBytes(),H={kinds:[lt.GIFT_WRAP],"#p":[J]};V&&(H.since=V),n=a.subscribeMany(I,[H],{onevent(R){if(z&&z.has(R.id))return;const A=Tc(R,X);if(!A||Uc(A))return;const F=Ac(A),W=Lc(A);if(d.value[F]){if(r.ownRumors.has(W.event.id))return;d.value[F].messages.push(W)}else u.value[F]||(u.value[F]=[]),u.value[F].push(W)}})},k=I=>{c.value=I,w.value=!1},D=()=>{c.value="",w.value=!0},$=(I,V)=>{const z=d.value[I].messages.find(J=>J.event.id===V);z&&(z.isPublished=!0)},T=async I=>{const V=I===f.value?[I]:[f.value,I],z=GR(V);if(d.value[z])return k(z);l.value=!0;const J=await zR(I,a,s.connectedUserReadWriteUrlsWithSelectedRelay);l.value=!1;const X={id:z,messages:[],title:J,initialRoomTags:V.map(H=>["p",H]),created_at_last_message:tr()};x(X),await Qn(),k(z)};return(I,V)=>(S(),U(Ee,null,[Px,_("div",Ix,[fe($x,{onStartChat:T,isLoadingProfile:l.value},null,8,["isLoadingProfile"])]),Ax,!g.value&&!h.value?(S(),U("div",Tx," Please connect and login to see you chats. ")):te("",!0),h.value?(S(),U("div",Lx,"Loading chats...")):te("",!0),g.value&&!h.value?(S(),U("div",Ux,[fe(QR,{chats:m.value,currentChatId:c.value,handleSelectChat:k,showChatsList:w.value},null,8,["chats","currentChatId","showChatsList"]),v.value?te("",!0):(S(),Ie(bx,{key:0,onSetMessageStatusToPublished:$,onHandleDeselectChat:D,chat:d.value[c.value],userPubkey:f.value,showChatsList:w.value},null,8,["chat","userPubkey","showChatsList"]))])):te("",!0)],64))}});const Nx=me(Bx,[["__scopeId","data-v-fccd00d5"]]),uf=e=>(st("data-v-d8e9a087"),e=e(),ot(),e),Mx={class:"fields"},Ox={class:"field"},Fx=uf(()=>_("label",{class:"select-relay-label"},[_("strong",null,"Select relay")],-1)),Hx={key:0,class:"field"},jx={class:"field-elements"},Vx={class:"field"},Dx=uf(()=>_("label",{class:"text-input-label",for:"priv_key"},[_("strong",null,"Login with private key (optional)")],-1)),Wx={class:"field-elements"},qx={class:"field"},Kx=["disabled"],zx={class:"error"},Gx=Se({__name:"Login",setup(e){const n=Ft().pool,s=Ye(),o=dt(),r=xn(),i=Xo(),a=ds(),c=En(),l=L(v2),d=ye(()=>l.value==="custom"),u=L(""),f=L(!1),h=_2.map(C=>({key:C,value:C})).concat({key:"custom",value:"Custom relay url"});let v="/feed",g=!1;vt(()=>{m()&&(v=history.state.back,g=!0)});const m=()=>history.state&&/^\/(user|event)\/[a-zA-Z0-9]+$/g.test(history.state.back),w=C=>{l.value=C},x=C=>{u.value=C},b=async()=>{let C=l.value;if(C==="custom"){const k=s.selectInputCustomRelayUrl;C=k.length?k:""}if(!C.length)return x("Please provide relay URL or choose one from the list.");if(C=Gt.normalizeURL(C),!C.length)return x("Invalid relay URL");if(f.value)return;if(o.isNotValidNsecPresented())return x("Private key is invalid. Please check it and try again.");o.isValidNsecPresented()&&o.updateCachedNsec(o.nsec);let P;f.value=!0;try{P=await w2(C)}catch(k){return f.value=!1,x(k.message)}if(s.updateCurrentRelay(P),o.isValidNsecPresented()){const k=o.getPubkey(),D=await wc(P,[{kinds:[lt.META],limit:1,authors:[k]}],3e3);if(!D)return f.value=!1,x("Your profile was not found on the selected relay. Please check the private key or change the relay and try again.");i.updateMeta(D),r.setSelectedFeedSource("follows");let $=await wc(P,[{kinds:[lt.RELAY_LIST_META],limit:1,authors:[k]}],3e3);if($.tags.length){const V=$.tags.map(H=>H[1]),z=await n.get(V,{kinds:[lt.RELAY_LIST_META],authors:[k],limit:1});z&&z.tags.length&&z.created_at>$.created_at&&($=z);const{read:J,write:X}=Nd($);s.setReedRelays(J),s.setWriteRelays(X)}s.setIsConnectingToReadWriteRelaysStatus(!0),s.setIsConnectedToReadWriteRelaysStatus(!1);const{userConnectedReadRelays:T,userConnectedWriteRelays:I}=await b2(s.userReadWriteRelays);s.setConnectedUserReadRelayUrls(T),s.setConnectedUserWriteRelayUrls(I),s.setIsConnectingToReadWriteRelaysStatus(!1),s.setIsConnectedToReadWriteRelaysStatus(!0)}f.value=!1,r.setMountAfterLogin(!0),g&&a.updateRoutingStatus(!0),c.push({path:v})};return(C,P)=>(S(),U("div",Mx,[_("div",Ox,[Fx,fe(Qd,{listItems:Z(h),onHandleSelect:w},null,8,["listItems"])]),d.value?(S(),U("div",Hx,[_("div",jx,[qt(_("input",{"onUpdate:modelValue":P[0]||(P[0]=k=>Z(s).selectInputCustomRelayUrl=k),class:"text-input",id:"relay_url",type:"text",placeholder:"[wss://]relay.example.com"},null,512),[[Kt,Z(s).selectInputCustomRelayUrl]])])])):te("",!0),_("div",Vx,[Dx,_("div",Wx,[qt(_("input",{"onUpdate:modelValue":P[1]||(P[1]=k=>Z(o).nsec=k),class:"text-input",id:"priv_key",type:"password",placeholder:"nsec..."},null,512),[[Kt,Z(o).nsec]])])]),_("div",qx,[_("button",{disabled:f.value,onClick:b,class:"button button-block"},se(f.value?"Connecting...":"Connect"),9,Kx)]),_("div",zx,se(u.value),1)]))}});const Zx=me(Gx,[["__scopeId","data-v-d8e9a087"]]),nr=e=>(st("data-v-4496e101"),e=e(),ot(),e),Jx={class:"tabs"},Yx=nr(()=>_("span",{class:"tab-link-text"},[_("i",{class:"tab-icon bi bi-justify-right"}),Re(" Feed ")],-1)),Qx=nr(()=>_("span",{class:"tab-link-text"},[_("i",{class:"tab-icon bi bi-chat-dots"}),Re(" Chat ")],-1)),Xx=nr(()=>_("span",{class:"tab-link-text"},[_("i",{class:"tab-icon bi bi-info-circle"}),Re(" Help ")],-1)),e3=nr(()=>_("span",{class:"tab-link-text"},[_("i",{class:"tab-icon bi bi-gear"}),Re(" Settings ")],-1)),t3=Se({__name:"MainMenu",setup(e){const t=us();return ye(()=>t.cachedUrlNpub.length?`/user/${t.cachedUrlNpub}`:"/user"),(n,s)=>{const o=Ms("router-link");return S(),U("div",Jx,[fe(o,{class:"tab-link",to:"/feed"},{default:ct(()=>[Yx]),_:1}),fe(o,{class:"tab-link",to:"/chat"},{default:ct(()=>[Qx]),_:1}),fe(o,{class:"tab-link",to:"/help"},{default:ct(()=>[Xx]),_:1}),fe(o,{class:"tab-link",to:"/settings"},{default:ct(()=>[e3]),_:1})])}}});const n3=me(t3,[["__scopeId","data-v-4496e101"]]),s3={class:"search"},o3={key:0,class:"warning"},r3=Se({__name:"MainSearchField",setup(e){const t=us(),n=ds(),s=En(),o=L(!1),r=L(0),i=L({}),a=()=>{clearTimeout(r.value);const u=t.npubInput;if(!u.length){t.setError("");return}let f="user";if(!_o(u))try{const{type:h}=si(u);h==="note"&&(f="event")}catch(h){u.length>62?t.setError(h.message):r.value=setTimeout(()=>{t.setError(h.message)},2e3);return}t.setError(""),l(u,f)},c=()=>{o.value=!0;const u=t.npubInput;if(!u.length){t.setError("");return}let f="user";if(_o(u))l(u,f);else try{const{type:h}=si(u);h==="note"&&(f="event"),l(u,f)}catch{}},l=(u,f)=>{n.updateSearchStatus(!0),n.updateRoutingStatus(!0),s.push({path:`/${f}/${u}`})},d=()=>{clearTimeout(r.value),t.updateNpubInput(""),t.setError(""),i.value.focus()};return(u,f)=>(S(),U("div",s3,[_("div",{class:ve(["search-field",{active:o.value,"has-content":Z(t).npubInput.length}])},[_("i",{onClick:f[0]||(f[0]=h=>i.value.focus()),class:"bi bi-search search-icon"}),qt(_("input",{onFocus:c,onBlur:f[1]||(f[1]=h=>o.value=!1),class:ve(["search-input",{active:o.value}]),type:"text",placeholder:"pubkey or note id...","onUpdate:modelValue":f[2]||(f[2]=h=>Z(t).npubInput=h),onInput:a,ref_key:"input",ref:i},null,34),[[Kt,Z(t).npubInput,void 0,{trim:!0}]]),Z(t).npubInput.length?(S(),U("i",{key:0,onClick:d,class:"bi bi-x-circle clear-icon"})):te("",!0)],2),Z(t).error.length?(S(),U("div",o3,"* "+se(Z(t).error),1)):te("",!0)]))}});const i3=me(r3,[["__scopeId","data-v-14bfe52e"]]),a3={class:"header"},c3=["href"],l3={key:1,class:"connect-wrapper"},u3=Se({__name:"Header",emits:["clearAppState"],setup(e,{emit:t}){const n=t,s=Xo(),o=us(),r=ds(),i=dt(),a=Ye(),c=En(),l=ye(()=>i.isValidNsecPresented()&&s.username.length?s.username:""),d=()=>{const f=i.getPubkey(),h=Me.npubEncode(f);o.updateNpubInput(h),r.updateRoutingStatus(!0),c.push({path:$s(f)})},u=()=>{n("clearAppState")};return(f,h)=>(S(),U("div",a3,[_("div",{class:ve(["menu",{loggedin:Z(i).isValidNsecPresented()}])},[fe(n3),l.value.length?(S(),U("a",{key:0,class:"username-link",onClick:Bn(d,["prevent"]),href:Z($s)(Z(i).getPubkey())}," @"+se(l.value),9,c3)):(S(),U("span",l3,[Z(a).isConnectedToRelay?(S(),U("a",{key:0,onClick:Bn(u,["prevent"]),class:"login-link",href:"/login"}," Login ")):(S(),U("button",{key:1,class:"connect-btn",onClick:u},"Connect"))]))],2),fe(i3)]))}});const cn=me(u3,[["__scopeId","data-v-ce261291"]]),d3=[{path:"/feed",name:"Feed",components:{default:Cc,Header:cn}},{path:"/message",name:"Message",components:{default:Cc,Header:cn}},{path:"/chat",name:"Chat",components:{default:Nx,Header:cn}},{path:"/user",name:"User",alias:["/event"],components:{default:Ic,Header:cn}},{path:"/user/:id",alias:["/event/:id"],components:{default:Ic,Header:cn}},{path:"/help",name:"Help",components:{default:$c,Header:cn}},{path:"/",components:{default:$c,Header:cn},beforeEnter:(e,t,n)=>{const s=e.query.user,o=e.query.event;s!=null&&s.length?n({path:`/user/${s}`}):o!=null&&o.length?n({path:`/event/${o}`}):n()}},{path:"/settings",components:{default:OR,Header:cn}},{path:"/login",component:Zx}],f3=ry({history:bg(),routes:d3}),h3=Se({__name:"App",setup(e){const t=En(),n=dt(),s=Ye(),o=xn(),r=fs(),i=Ft(),a=i.pool,c=localStorage.getItem("rememberMe")==="true";n.setRememberMe(c);const l=c?localStorage.getItem("privkey"):"";n.updateNsec(l||"");const d=L([]),u=()=>{var f;s.isConnectedToRelay&&((f=s.currentRelay)==null||f.close()),oi(a),i.resetPool(),o.pool&&(oi(o.pool),o.resetPool()),localStorage.removeItem("privkey"),n.updateNsec(""),o.clear(),s.clear(),r.updateShowImages(!1),t.push("/login")};return(f,h)=>{const v=Ms("router-view");return S(),U(Ee,null,[fe(v,{onClearAppState:u,name:"Header"}),fe(v,{onClearAppState:u,eventsLog:d.value},null,8,["eventsLog"])],64)}}});const p3=zp(h3),g3=Yp();p3.use(f3).use(g3).mount("#app");
//# sourceMappingURL=main.js.map
